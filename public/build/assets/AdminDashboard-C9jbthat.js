import{_ as A,c as f,e as t,a,w as e,r as c,t as l,b as D,F as b,d as w,f as _,o as g}from"./app-XbwVsOQu.js";const B={data(){return{stats:{pages:0,services:0,products:0,leads:0},recentLeads:[]}},async mounted(){await this.loadDashboard()},methods:{async loadDashboard(){try{const r=localStorage.getItem("admin_token"),[s,p,h,o]=await Promise.all([_.get("/api/v1/pages",{params:{per_page:1},headers:{Authorization:`Bearer ${r}`}}),_.get("/api/v1/services",{params:{per_page:1},headers:{Authorization:`Bearer ${r}`}}),_.get("/api/v1/products",{params:{per_page:1},headers:{Authorization:`Bearer ${r}`}}),_.get("/api/v1/leads",{params:{per_page:5},headers:{Authorization:`Bearer ${r}`}})]),m=s.data.data||s.data,d=p.data.data||p.data,n=h.data.data||h.data,u=o.data.data||o.data;this.stats.pages=s.data.total||(Array.isArray(m)?m.length:0),this.stats.services=p.data.total||(Array.isArray(d)?d.length:0),this.stats.products=h.data.total||(Array.isArray(n)?n.length:0);const v=await _.get("/api/v1/leads",{params:{status:"new",per_page:1},headers:{Authorization:`Bearer ${r}`}});this.stats.leads=v.data.total||0,this.recentLeads=Array.isArray(u)?u.slice(0,5):[]}catch(r){console.error("Error loading dashboard:",r)}}}},L={class:"text-h3"},R={class:"text-h3"},k={class:"text-h3"},z={class:"text-h3"};function N(r,s,p,h,o,m){const d=c("v-card-text"),n=c("v-card"),u=c("v-col"),v=c("v-row"),x=c("v-card-title"),y=c("v-table");return g(),f("div",null,[s[6]||(s[6]=t("h1",{class:"text-h4 mb-6"},"Dashboard",-1)),a(v,null,{default:e(()=>[a(u,{cols:"12",md:"3"},{default:e(()=>[a(n,null,{default:e(()=>[a(d,null,{default:e(()=>[s[0]||(s[0]=t("div",{class:"text-h6"},"Total Pages",-1)),t("div",L,l(o.stats.pages),1)]),_:1,__:[0]})]),_:1})]),_:1}),a(u,{cols:"12",md:"3"},{default:e(()=>[a(n,null,{default:e(()=>[a(d,null,{default:e(()=>[s[1]||(s[1]=t("div",{class:"text-h6"},"Total Services",-1)),t("div",R,l(o.stats.services),1)]),_:1,__:[1]})]),_:1})]),_:1}),a(u,{cols:"12",md:"3"},{default:e(()=>[a(n,null,{default:e(()=>[a(d,null,{default:e(()=>[s[2]||(s[2]=t("div",{class:"text-h6"},"Total Products",-1)),t("div",k,l(o.stats.products),1)]),_:1,__:[2]})]),_:1})]),_:1}),a(u,{cols:"12",md:"3"},{default:e(()=>[a(n,null,{default:e(()=>[a(d,null,{default:e(()=>[s[3]||(s[3]=t("div",{class:"text-h6"},"New Leads",-1)),t("div",z,l(o.stats.leads),1)]),_:1,__:[3]})]),_:1})]),_:1})]),_:1}),a(v,{class:"mt-4"},{default:e(()=>[a(u,{cols:"12"},{default:e(()=>[a(n,null,{default:e(()=>[a(x,null,{default:e(()=>s[4]||(s[4]=[D("Recent Leads")])),_:1,__:[4]}),a(d,null,{default:e(()=>[a(y,null,{default:e(()=>[s[5]||(s[5]=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Email"),t("th",null,"Type"),t("th",null,"Status"),t("th",null,"Date")])],-1)),t("tbody",null,[(g(!0),f(b,null,w(o.recentLeads,i=>(g(),f("tr",{key:i.id},[t("td",null,l(i.name),1),t("td",null,l(i.email),1),t("td",null,l(i.type),1),t("td",null,l(i.status),1),t("td",null,l(new Date(i.created_at).toLocaleDateString()),1)]))),128))])]),_:1,__:[5]})]),_:1})]),_:1})]),_:1})]),_:1})])}const T=A(B,[["render",N]]);export{T as default};
