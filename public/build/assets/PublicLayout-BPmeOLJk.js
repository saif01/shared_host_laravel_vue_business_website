import{_ as U,c as p,w as a,a as l,b as o,d as h,r as i,t as m,e as M,F as D,f as u,n as T,o as c,g as b,h as C,i as W,j as B,v as N,k as z}from"./app-DxdaiLQ5.js";import{r as V}from"./uploads-CnEkgyD_.js";const F={name:"AppBar",props:{isScrolled:{type:Boolean,default:!1},siteName:{type:String,required:!0},siteTagline:{type:String,required:!0},menuItems:{type:Array,required:!0},logo:{type:String,default:null}},emits:["toggle-drawer"],methods:{isActiveRoute(t){const e=this.$route.path;return t==="/"?e==="/":e.startsWith(t)}}},O={class:"d-flex align-center w-100 position-relative z-index-2"},H={key:0,class:"logo-box mr-3 elevation-4"},Y={key:1,class:"logo-box mr-3 elevation-4"},R={class:"d-flex flex-column"},q={class:"text-h6 font-weight-black text-grey-darken-4 lh-1 tracking-tight logo-text"},j={class:"text-caption font-weight-bold text-primary tracking-widest"},G={class:"d-none d-md-flex align-center gap-8"},K={class:"d-none d-md-flex"};function Q(t,e,r,d,s,n){const _=i("v-img"),y=i("v-icon"),f=i("router-link"),g=i("v-spacer"),w=i("v-btn"),A=i("v-app-bar-nav-icon"),S=i("v-app-bar");return c(),p(S,{app:"",class:T(["main-app-bar px-md-12 transition-all",{"scrolled-app-bar":r.isScrolled}]),height:"80",elevation:"0"},{default:a(()=>[l("div",O,[o(f,{to:"/",class:"text-decoration-none d-flex align-center mr-8 logo-group"},{default:a(()=>[r.logo?(c(),h("div",H,[o(_,{src:r.logo,alt:"Logo",cover:"",class:"logo-image rounded-logo"},null,8,["src"])])):(c(),h("div",Y,[o(y,{icon:"mdi-flash",color:"amber-accent-4",size:"28",class:"logo-icon"})])),l("div",R,[l("span",q,m(r.siteName.toUpperCase()),1),l("span",j,m(r.siteTagline),1)])]),_:1}),o(g),l("div",G,[(c(!0),h(D,null,M(r.menuItems,v=>(c(),p(f,{key:v.id,to:v.url,class:T(["nav-link","text-body-2","font-weight-bold","text-grey-darken-3",{"active-nav-link":n.isActiveRoute(v.url)}])},{default:a(()=>[u(m(v.label),1)]),_:2},1032,["to","class"]))),128))]),o(g),l("div",K,[o(w,{color:"primary",variant:"flat",rounded:"pill",class:"font-weight-bold px-6 text-capitalize elevation-3 hover-glow",to:{name:"Contact"}},{default:a(()=>e[1]||(e[1]=[u(" Get a Quote ")])),_:1,__:[1]})]),o(A,{class:"d-md-none ml-2",onClick:e[0]||(e[0]=v=>t.$emit("toggle-drawer"))})]),e[2]||(e[2]=l("div",{class:"app-bar-border"},null,-1))]),_:1,__:[2]},8,["class"])}const J=U(F,[["render",Q],["__scopeId","data-v-718104bf"]]),P={name:"MobileDrawer",props:{modelValue:{type:Boolean,default:!1},siteName:{type:String,required:!0},menuItems:{type:Array,required:!0},logo:{type:String,default:null}},emits:["update:modelValue"],computed:{localDrawer:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}},methods:{closeDrawer(){this.$emit("update:modelValue",!1)},isActiveRoute(t){const e=this.$route.path;return t==="/"?e==="/":e.startsWith(t)}}},X={class:"pa-6"},Z={class:"d-flex align-center mb-8"},$={key:0,class:"logo-box mr-3"},ee={key:1,class:"logo-box mr-3"},te={class:"text-h6 font-weight-black text-grey-darken-4"},ne={class:"mt-8"};function se(t,e,r,d,s,n){const _=i("v-img"),y=i("v-icon"),f=i("v-spacer"),g=i("v-btn"),w=i("v-list-item-title"),A=i("v-list-item"),S=i("v-list"),v=i("v-navigation-drawer");return c(),p(v,{modelValue:n.localDrawer,"onUpdate:modelValue":e[0]||(e[0]=x=>n.localDrawer=x),location:"right",temporary:"",class:"mobile-drawer"},{default:a(()=>[l("div",X,[l("div",Z,[r.logo?(c(),h("div",$,[o(_,{src:r.logo,alt:"Logo",cover:"",class:"logo-image rounded-logo"},null,8,["src"])])):(c(),h("div",ee,[o(y,{icon:"mdi-flash",color:"amber-accent-4",size:"24"})])),l("span",te,m(r.siteName.toUpperCase()),1),o(f),o(g,{icon:"mdi-close",variant:"text",onClick:n.closeDrawer},null,8,["onClick"])]),o(S,{nav:"",class:"bg-transparent"},{default:a(()=>[(c(!0),h(D,null,M(r.menuItems,x=>(c(),p(A,{key:x.id,to:x.url,class:T(["mb-2 rounded-lg",{"bg-primary-lighten-5 text-primary":n.isActiveRoute(x.url)}])},{default:a(()=>[o(w,{class:"font-weight-bold"},{default:a(()=>[u(m(x.label),1)]),_:2},1024)]),_:2},1032,["to","class"]))),128))]),_:1}),l("div",ne,[o(g,{block:"",color:"primary",size:"large",rounded:"lg",to:{name:"Contact"},class:"elevation-4"},{default:a(()=>e[1]||(e[1]=[u(" Get a Quote ")])),_:1,__:[1]})])])]),_:1},8,["modelValue"])}const oe=U(P,[["render",se],["__scopeId","data-v-ebbd676a"]]),re={name:"Footer",props:{siteName:{type:String,required:!0},footerDescription:{type:String,required:!0},menuItems:{type:Array,required:!0},settings:{type:Object,required:!0},logo:{type:String,default:null},newsletterDescription:{type:String,default:"Subscribe to get the latest power tips and updates."}},data(){return{newsletterEmail:"",newsletterLoading:!1,newsletterMessage:"",newsletterMessageType:"success",emailRules:[t=>!!t||"Email is required",t=>/.+@.+\..+/.test(t)||"Email must be valid"]}},methods:{hasSocialLink(t){return this.settings[`${t}_url`]&&this.settings[`${t}_url`].trim()!==""},async subscribeNewsletter(t){if(t&&t.preventDefault(),!this.newsletterEmail||!this.newsletterEmail.trim()){this.newsletterMessage="Email is required",this.newsletterMessageType="error";return}if(!/.+@.+\..+/.test(this.newsletterEmail)){this.newsletterMessage="Please enter a valid email address",this.newsletterMessageType="error";return}if(this.$refs.newsletterForm){const{valid:r}=await this.$refs.newsletterForm.validate();if(!r)return}this.newsletterLoading=!0,this.newsletterMessage="";try{const r=await this.$axios.post("/api/openapi/newsletter/subscribe",{email:this.newsletterEmail.trim()});this.newsletterMessage=r.data.message||"Thank you for subscribing!",this.newsletterMessageType="success",this.newsletterEmail="",this.$refs.newsletterForm&&this.$refs.newsletterForm.reset(),setTimeout(()=>{this.newsletterMessage=""},5e3)}catch(r){if(console.error("Error subscribing to newsletter:",r),r.response&&r.response.data)if(r.response.data.message)this.newsletterMessage=r.response.data.message;else if(r.response.data.errors){const d=r.response.data.errors,s=Object.values(d).flat();this.newsletterMessage=s.join(", ")||"Failed to subscribe. Please try again."}else this.newsletterMessage="Failed to subscribe. Please try again.";else this.newsletterMessage="An error occurred. Please try again later.";this.newsletterMessageType="error"}finally{this.newsletterLoading=!1}}}},ie={class:"d-flex align-center mb-6"},le={key:0,class:"logo-box-light mr-3 elevation-10"},ae={key:1,class:"logo-box-light mr-3 elevation-10"},ce={class:"text-h5 font-weight-black text-white tracking-tight"},de={class:"text-body-2 text-grey-lighten-1 mb-8 lh-relaxed opacity-80"},ue={class:"d-flex gap-4"},me={class:"list-unstyled"},_e={class:"list-unstyled"},ge={class:"mb-3"},pe={class:"mb-3"},he={class:"mb-3"},fe={class:"mb-3"},be={class:"text-body-2 text-grey-lighten-1 mb-6 opacity-80"},we={class:"d-flex flex-column flex-md-row justify-space-between align-center text-caption text-grey-darken-1"},ve={class:"mb-4 mb-md-0"};function ye(t,e,r,d,s,n){const _=i("v-img"),y=i("v-icon"),f=i("v-btn"),g=i("v-col"),w=i("router-link"),A=i("v-text-field"),S=i("v-form"),v=i("v-alert"),x=i("v-row"),I=i("v-divider"),E=i("v-container"),L=i("v-footer");return c(),p(L,{class:"bg-footer text-white pt-20 pb-10 position-relative overflow-hidden"},{default:a(()=>[e[10]||(e[10]=l("div",{class:"footer-pattern"},null,-1)),e[11]||(e[11]=l("div",{class:"footer-glow"},null,-1)),o(E,{class:"position-relative z-index-2"},{default:a(()=>[o(x,null,{default:a(()=>[o(g,{cols:"12",md:"4",class:"mb-10 mb-md-0 pr-md-12"},{default:a(()=>[l("div",ie,[r.logo?(c(),h("div",le,[o(_,{src:r.logo,alt:"Logo",cover:"",class:"footer-logo-image rounded-logo"},null,8,["src"])])):(c(),h("div",ae,[o(y,{icon:"mdi-flash",color:"amber-accent-4",size:"24"})])),l("span",ce,m(r.siteName.toUpperCase()),1)]),l("p",de,m(r.footerDescription),1),l("div",ue,[n.hasSocialLink("facebook")?(c(),p(f,{key:0,href:r.settings.facebook_url,target:"_blank",icon:"mdi-facebook",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):b("",!0),n.hasSocialLink("twitter")?(c(),p(f,{key:1,href:r.settings.twitter_url,target:"_blank",icon:"mdi-twitter",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):b("",!0),n.hasSocialLink("linkedin")?(c(),p(f,{key:2,href:r.settings.linkedin_url,target:"_blank",icon:"mdi-linkedin",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):b("",!0),n.hasSocialLink("instagram")?(c(),p(f,{key:3,href:r.settings.instagram_url,target:"_blank",icon:"mdi-instagram",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):b("",!0)])]),_:1}),o(g,{cols:"6",md:"2",class:"mb-8 mb-md-0"},{default:a(()=>[e[2]||(e[2]=l("h4",{class:"text-subtitle-1 font-weight-bold mb-6 text-white position-relative d-inline-block"},[u(" Quick Links "),l("div",{class:"heading-underline"})],-1)),l("ul",me,[(c(!0),h(D,null,M(r.menuItems,k=>(c(),h("li",{key:k.id,class:"mb-3"},[o(w,{to:k.url,class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>[u(m(k.label),1)]),_:2},1032,["to"])]))),128))])]),_:1,__:[2]}),o(g,{cols:"6",md:"3",class:"mb-8 mb-md-0"},{default:a(()=>[e[7]||(e[7]=l("h4",{class:"text-subtitle-1 font-weight-bold mb-6 text-white position-relative d-inline-block"},[u(" Our Services "),l("div",{class:"heading-underline"})],-1)),l("ul",_e,[l("li",ge,[o(w,{to:"/services/ups-installation",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[3]||(e[3]=[u("UPS Installation")])),_:1,__:[3]})]),l("li",pe,[o(w,{to:"/services/battery-replacement",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[4]||(e[4]=[u("Battery Replacement")])),_:1,__:[4]})]),l("li",he,[o(w,{to:"/services/industrial-backup",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[5]||(e[5]=[u("Industrial Backup")])),_:1,__:[5]})]),l("li",fe,[o(w,{to:"/services/support",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[6]||(e[6]=[u("24/7 Support")])),_:1,__:[6]})])])]),_:1,__:[7]}),o(g,{cols:"12",md:"3"},{default:a(()=>[e[8]||(e[8]=l("h4",{class:"text-subtitle-1 font-weight-bold mb-6 text-white position-relative d-inline-block"},[u(" Newsletter "),l("div",{class:"heading-underline"})],-1)),l("p",be,m(r.newsletterDescription),1),o(S,{ref:"newsletterForm",onSubmit:C(n.subscribeNewsletter,["prevent"])},{default:a(()=>[o(A,{modelValue:s.newsletterEmail,"onUpdate:modelValue":e[0]||(e[0]=k=>s.newsletterEmail=k),placeholder:"Enter your email",variant:"outlined",density:"comfortable","bg-color":"rgba(255,255,255,0.05)",color:"amber-accent-4",rules:s.emailRules,loading:s.newsletterLoading,disabled:s.newsletterLoading,class:"mb-3 footer-input rounded-lg","hide-details":"auto",onKeyup:W(n.subscribeNewsletter,["enter"])},{"append-inner":a(()=>[o(f,{icon:"mdi-send",size:"small",color:"amber-accent-4",variant:"text",class:"mr-n2",loading:s.newsletterLoading,disabled:s.newsletterLoading,onClick:n.subscribeNewsletter},null,8,["loading","disabled","onClick"])]),_:1},8,["modelValue","rules","loading","disabled","onKeyup"])]),_:1},8,["onSubmit"]),s.newsletterMessage?(c(),p(v,{key:0,type:s.newsletterMessageType,density:"compact",class:"mt-2 newsletter-alert",variant:"tonal",closable:!0,"onClick:close":e[1]||(e[1]=k=>s.newsletterMessage="")},{default:a(()=>[u(m(s.newsletterMessage),1)]),_:1},8,["type"])):b("",!0)]),_:1,__:[8]})]),_:1}),o(I,{class:"my-10 border-opacity-10"}),l("div",we,[l("div",ve," Â© "+m(new Date().getFullYear())+" "+m(r.siteName)+". All rights reserved. ",1),e[9]||(e[9]=l("div",{class:"d-flex gap-6"},[l("a",{href:"#",class:"footer-link-sm"},"Privacy Policy"),l("a",{href:"#",class:"footer-link-sm"},"Terms of Service"),l("a",{href:"#",class:"footer-link-sm"},"Sitemap")],-1))])]),_:1})]),_:1,__:[10,11]})}const xe=U(re,[["render",ye],["__scopeId","data-v-b8ed0292"]]),ke={name:"WhatsAppFloat",data(){return{whatsappUrl:"",settings:{whatsapp_number:"",contact_phone:""}}},async mounted(){await this.loadSettings(),this.updateWhatsAppUrl()},methods:{async loadSettings(){try{const e=(await this.$axios.get("/api/openapi/settings")).data;e.whatsapp_number!==void 0&&(this.settings.whatsapp_number=e.whatsapp_number),e.contact_phone!==void 0&&(this.settings.contact_phone=e.contact_phone)}catch(t){console.error("Error loading WhatsApp settings:",t)}},updateWhatsAppUrl(){const t=this.settings.whatsapp_number||this.settings.contact_phone||"";if(!t){this.whatsappUrl="";return}const e=t.replace(/[^\d+]/g,"");this.whatsappUrl=`https://wa.me/${e}`}},watch:{"settings.whatsapp_number"(){this.updateWhatsAppUrl()},"settings.contact_phone"(){this.updateWhatsAppUrl()}}},Ae=["href"];function Se(t,e,r,d,s,n){const _=i("v-icon");return s.whatsappUrl?(c(),h("a",{key:0,href:s.whatsappUrl,target:"_blank",class:"whatsapp-float elevation-6 d-flex align-center justify-center text-decoration-none"},[o(_,{icon:"mdi-whatsapp",color:"white",size:"32"})],8,Ae)):b("",!0)}const Ue=U(ke,[["render",Se],["__scopeId","data-v-c6ab8af3"]]),Ie={name:"GoToTopButton",data(){return{showButton:!1}},mounted(){window.addEventListener("scroll",this.handleScroll),this.handleScroll()},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){this.showButton=window.scrollY>300},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}};function Te(t,e,r,d,s,n){const _=i("v-icon"),y=i("v-btn");return B((c(),p(y,{onClick:n.scrollToTop,class:T(["go-to-top-btn elevation-6",{show:s.showButton}]),color:"primary",size:"large"},{default:a(()=>[o(_,{icon:"mdi-chevron-up",size:"28"})]),_:1},8,["onClick","class"])),[[N,s.showButton]])}const Ee=U(Ie,[["render",Te],["__scopeId","data-v-a599d343"]]),Le={name:"AnnouncementsBanner",data(){return{announcements:[],currentAnnouncementIndex:0,dialogOpen:!1,dontShowAgain:!1,dismissedIds:[],loading:!1,windowWidth:typeof window<"u"?window.innerWidth:1200,windowHeight:typeof window<"u"?window.innerHeight:800}},computed:{currentAnnouncement(){return this.announcements.length>0&&this.currentAnnouncementIndex<this.announcements.length?this.announcements[this.currentAnnouncementIndex]:null},resolvedImageUrl(){return!this.currentAnnouncement||!this.currentAnnouncement.image?null:this.getImageUrl(this.currentAnnouncement.image)},resolvedVideoUrl(){if(!this.currentAnnouncement||!this.currentAnnouncement.video)return null;const t=this.getVideoUrl(this.currentAnnouncement.video);return this.isYouTubeUrl(t)?this.getYouTubeEmbedUrl(t)?t:null:t},youtubeEmbedUrl(){return!this.resolvedVideoUrl||!this.isYouTubeUrl(this.resolvedVideoUrl)?null:this.getYouTubeEmbedUrl(this.resolvedVideoUrl)},dialogMaxWidth(){return this.windowWidth<600?"95vw":this.windowWidth<960?"85vw":this.resolvedImageUrl||this.resolvedVideoUrl?"90vw":"80vw"},imageMaxHeight(){return Math.min(500,this.windowHeight*.5)}},async mounted(){await this.loadAnnouncements(),this.loadDismissedAnnouncements(),this.updateWindowSize(),window.addEventListener("resize",this.updateWindowSize),this.announcements.length>0&&setTimeout(()=>{this.dialogOpen=!0},500)},beforeUnmount(){typeof window<"u"&&window.removeEventListener("resize",this.updateWindowSize)},methods:{async loadAnnouncements(){try{this.loading=!0;const t=await this.$axios.get("/api/openapi/announcements",{params:{per_page:10}}),e=this.getDismissedIds(),r=Array.isArray(t.data)?t.data:t.data.data||[];this.announcements=r.filter(d=>!e.includes(d.id)).map(d=>((d.image===""||d.image===null)&&(d.image=null),(d.video===""||d.video===null)&&(d.video=null),d)).sort((d,s)=>(d.priority||100)-(s.priority||100))}catch(t){console.error("Error loading announcements:",t)}finally{this.loading=!1}},getDismissedIds(){const t=localStorage.getItem("dismissed_announcements");return t?JSON.parse(t):[]},loadDismissedAnnouncements(){this.dismissedIds=this.getDismissedIds()},isDismissed(t){return this.dismissedIds.includes(t)},closeDialog(){this.currentAnnouncement&&(this.dontShowAgain&&this.dismissAnnouncement(this.currentAnnouncement.id),this.dialogOpen=!1)},nextAnnouncement(){this.currentAnnouncement&&(this.dontShowAgain&&this.dismissAnnouncement(this.currentAnnouncement.id),this.currentAnnouncementIndex<this.announcements.length-1?(this.currentAnnouncementIndex++,this.dontShowAgain=!1):this.dialogOpen=!1)},dismissAnnouncement(t){this.dismissedIds.includes(t)||(this.dismissedIds.push(t),localStorage.setItem("dismissed_announcements",JSON.stringify(this.dismissedIds)))},getAlertColor(t){return{urgent_alerts:"error",offers_promotions:"success",events:"info",holidays:"warning",company_news:"primary"}[t]||"primary"},getAnnouncementIcon(t){return{urgent_alerts:"mdi-alert-circle",offers_promotions:"mdi-tag",events:"mdi-calendar-star",holidays:"mdi-party-popper",company_news:"mdi-bullhorn"}[t]||"mdi-information"},getAnnouncementTypeLabel(t){return{urgent_alerts:"Urgent Alert",offers_promotions:"Special Offer",events:"Event",holidays:"Holiday",company_news:"Company News"}[t]||t},getImageUrl(t){return!t||t===""||t===null?null:t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//")?t:V(t)},getVideoUrl(t){return!t||t===""||t===null?null:t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//")?t:V(t)},isYouTubeUrl(t){return t?/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)/i.test(t):!1},getYouTubeEmbedUrl(t){if(!t)return"";let e="";try{const r=t.match(/(?:youtu\.be\/)([^?&#]+)/);if(r)e=r[1];else{const d=t.match(/(?:youtube\.com\/(?:watch\?v=|embed\/|v\/))([^?&#]+)/);if(d)e=d[1];else try{const s=new URL(t);if(e=s.searchParams.get("v"),!e&&s.pathname){const n=s.pathname.split("/").filter(_=>_);n.length>0&&(e=n[n.length-1])}}catch{const n=t.match(/[?&]v=([^?&#]+)/);n&&(e=n[1])}}if(e&&(e=e.split("?")[0].split("&")[0].split("#")[0].trim()),e&&e.length>=11)return`https://www.youtube.com/embed/${e}`;if(t.includes("youtube.com/embed/"))return t}catch(r){console.error("Error processing YouTube URL:",r)}return""},handleImageError(t){t.target&&t.target.parentElement&&(t.target.parentElement.style.display="none")},updateWindowSize(){typeof window<"u"&&(this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight)}}},Me={class:"text-white font-weight-bold"},De={key:0,class:"mb-4 announcement-media"},Ve={key:1,class:"mb-4 announcement-media"},Ce={key:0,class:"youtube-embed-wrapper"},We=["src"],Be=["src"],Ne=["src"],ze={key:2,class:"text-body-1 mb-4 announcement-description"},Fe=["innerHTML"];function Oe(t,e,r,d,s,n){const _=i("v-icon"),y=i("v-spacer"),f=i("v-chip"),g=i("v-btn"),w=i("v-card-title"),A=i("v-img"),S=i("v-card-text"),v=i("v-divider"),x=i("v-checkbox"),I=i("v-card-actions"),E=i("v-card"),L=i("v-dialog");return c(),p(L,{modelValue:s.dialogOpen,"onUpdate:modelValue":e[1]||(e[1]=k=>s.dialogOpen=k),"max-width":n.dialogMaxWidth,persistent:"",scrollable:"",class:"announcement-dialog"},{default:a(()=>[n.currentAnnouncement?(c(),p(E,{key:0,class:"announcement-dialog-card"},{default:a(()=>[o(w,{class:T(["d-flex align-center pa-4",`bg-${n.getAlertColor(n.currentAnnouncement.type)}`])},{default:a(()=>[o(_,{class:"mr-2",color:"white"},{default:a(()=>[u(m(n.getAnnouncementIcon(n.currentAnnouncement.type)),1)]),_:1}),l("span",Me,m(n.currentAnnouncement.title),1),o(y),s.announcements.length>1?(c(),p(f,{key:0,size:"small",variant:"flat",color:"white",class:"mr-2"},{default:a(()=>[u(m(s.currentAnnouncementIndex+1)+" / "+m(s.announcements.length),1)]),_:1})):b("",!0),o(g,{icon:"mdi-close",variant:"text",color:"white",size:"small",onClick:n.closeDialog},null,8,["onClick"])]),_:1},8,["class"]),o(S,{class:"pa-4 pa-md-6 announcement-content"},{default:a(()=>[n.resolvedImageUrl?(c(),h("div",De,[o(A,{src:n.resolvedImageUrl,alt:n.currentAnnouncement.title,"max-height":n.imageMaxHeight,contain:"",class:"rounded-lg announcement-image",onError:n.handleImageError},null,8,["src","alt","max-height","onError"])])):b("",!0),n.resolvedVideoUrl?(c(),h("div",Ve,[n.isYouTubeUrl(n.resolvedVideoUrl)&&n.youtubeEmbedUrl?(c(),h("div",Ce,[l("iframe",{src:n.youtubeEmbedUrl,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"",class:"youtube-iframe rounded-lg"},null,8,We)])):n.isYouTubeUrl(n.resolvedVideoUrl)?b("",!0):(c(),h("video",{key:1,controls:"",class:"w-100 rounded-lg announcement-video",style:z({maxHeight:n.imageMaxHeight+"px"})},[l("source",{src:n.resolvedVideoUrl,type:"video/mp4"},null,8,Be),l("source",{src:n.resolvedVideoUrl,type:"video/webm"},null,8,Ne),e[2]||(e[2]=u(" Your browser does not support the video tag. "))],4))])):b("",!0),n.currentAnnouncement.short_description?(c(),h("div",ze,m(n.currentAnnouncement.short_description),1)):b("",!0),n.currentAnnouncement.content?(c(),h("div",{key:3,class:"text-body-2 mb-4 announcement-content-html",innerHTML:n.currentAnnouncement.content},null,8,Fe)):b("",!0),o(f,{size:"small",color:n.getAlertColor(n.currentAnnouncement.type),class:"mb-2"},{default:a(()=>[u(m(n.getAnnouncementTypeLabel(n.currentAnnouncement.type)),1)]),_:1},8,["color"])]),_:1}),o(v),o(I,{class:"pa-4"},{default:a(()=>[o(x,{modelValue:s.dontShowAgain,"onUpdate:modelValue":e[0]||(e[0]=k=>s.dontShowAgain=k),label:"Don't show again",density:"compact","hide-details":"",class:"mr-auto"},null,8,["modelValue"]),o(y),s.announcements.length>1&&s.currentAnnouncementIndex<s.announcements.length-1?(c(),p(g,{key:0,variant:"text",onClick:n.nextAnnouncement},{default:a(()=>[e[4]||(e[4]=u(" Next ")),o(_,{right:""},{default:a(()=>e[3]||(e[3]=[u("mdi-arrow-right")])),_:1,__:[3]})]),_:1,__:[4]},8,["onClick"])):b("",!0),o(g,{variant:"text",onClick:n.closeDialog},{default:a(()=>[u(m(s.announcements.length>1&&s.currentAnnouncementIndex<s.announcements.length-1?"Skip All":"Close"),1)]),_:1},8,["onClick"]),n.currentAnnouncement.external_link?(c(),p(g,{key:1,href:n.currentAnnouncement.external_link,target:n.currentAnnouncement.open_in_new_tab?"_blank":"_self",color:"primary",variant:"flat",onClick:n.closeDialog},{default:a(()=>[e[6]||(e[6]=u(" Learn More ")),o(_,{right:""},{default:a(()=>e[5]||(e[5]=[u("mdi-arrow-right")])),_:1,__:[5]})]),_:1,__:[6]},8,["href","target","onClick"])):b("",!0)]),_:1})]),_:1})):b("",!0)]),_:1},8,["modelValue","max-width"])}const He=U(Le,[["render",Oe],["__scopeId","data-v-e162c9d8"]]),Ye={name:"PublicLayout",components:{AppBar:J,MobileDrawer:oe,Footer:xe,WhatsAppFloat:Ue,GoToTopButton:Ee,AnnouncementsBanner:He},data(){return{drawer:!1,isScrolled:!1,siteName:"Micro Control Technology",siteTagline:"TECHNOLOGY",footerDescription:"Leading provider of technical power support solutions. We ensure your business stays powered with reliable UPS systems, backup generators, and professional maintenance.",newsletterDescription:"Subscribe to get the latest power tips and updates.",brandingLogo:null,settings:{site_name:"",site_tagline:"",contact_email:"",contact_phone:"",address:"",facebook_url:"",twitter_url:"",linkedin_url:"",instagram_url:"",whatsapp_number:""},menuItems:[{id:1,label:"Home",url:"/"},{id:2,label:"Services",url:"/services"},{id:3,label:"Products",url:"/products"},{id:4,label:"Blog",url:"/blog"},{id:5,label:"Careers",url:"/careers"},{id:6,label:"About Us",url:"/about"},{id:7,label:"Contact",url:"/contact"}]}},async mounted(){await this.loadSettings(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{async loadSettings(){try{const e=(await this.$axios.get("/api/openapi/settings")).data;Object.keys(this.settings).forEach(r=>{e[r]!==void 0&&e[r]!==null&&(this.settings[r]=e[r])}),e.site_name&&(this.siteName=e.site_name),e.site_tagline&&(this.siteTagline=e.site_tagline),e.footer_description?this.footerDescription=e.footer_description:e.about_description&&(this.footerDescription=e.about_description),e.newsletter_description&&(this.newsletterDescription=e.newsletter_description)}catch(t){console.error("Error loading settings:",t)}await this.loadBrandingSettings()},async loadBrandingSettings(){try{const t=await this.$axios.get("/api/openapi/settings?group=branding");t.data&&t.data.logo&&(this.brandingLogo=t.data.logo)}catch(t){console.error("Error loading branding settings:",t)}},handleScroll(){this.isScrolled=window.scrollY>20}}};function Re(t,e,r,d,s,n){const _=i("AppBar"),y=i("MobileDrawer"),f=i("AnnouncementsBanner"),g=i("router-view"),w=i("v-main"),A=i("Footer"),S=i("WhatsAppFloat"),v=i("GoToTopButton"),x=i("v-app");return c(),p(x,null,{default:a(()=>[o(_,{"is-scrolled":s.isScrolled,"site-name":s.siteName,"site-tagline":s.siteTagline,"menu-items":s.menuItems,logo:s.brandingLogo,onToggleDrawer:e[0]||(e[0]=I=>s.drawer=!s.drawer)},null,8,["is-scrolled","site-name","site-tagline","menu-items","logo"]),o(y,{modelValue:s.drawer,"onUpdate:modelValue":e[1]||(e[1]=I=>s.drawer=I),"site-name":s.siteName,"menu-items":s.menuItems,logo:s.brandingLogo},null,8,["modelValue","site-name","menu-items","logo"]),o(w,{class:"bg-grey-lighten-5"},{default:a(()=>[o(f),o(g)]),_:1}),o(A,{"site-name":s.siteName,"footer-description":s.footerDescription,"menu-items":s.menuItems,settings:s.settings,logo:s.brandingLogo,"newsletter-description":s.newsletterDescription},null,8,["site-name","footer-description","menu-items","settings","logo","newsletter-description"]),o(S),o(v)]),_:1})}const Ge=U(Ye,[["render",Re],["__scopeId","data-v-7fbd4fbe"]]);export{Ge as default};
