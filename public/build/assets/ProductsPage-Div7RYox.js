import{p as U,q as F,_ as K,r as g,c as V,o as n,w as u,b as l,m as Q,a as t,g as E,f as z,n as q,h as ee,d as p,t as x,F as I,e as N,s as te,u as ue,x as C,y as me,z as pe,l as ve,A as fe}from"./app-C4ZeL4M-.js";import{S as ge}from"./ShareDialog-BesAhwW4.js";import{r as ye}from"./uploads-CnEkgyD_.js";function he(){const s=U([]),r=U(!1),y=U(null),h=async()=>{r.value=!0,y.value=null;try{const e=await window.axios.get("/api/openapi/products");return s.value=Array.isArray(e.data)?e.data:[],s.value}catch(e){return console.error("Error loading products:",e),y.value=e.message||"Failed to load products",s.value=a(),s.value}finally{r.value=!1}},S=e=>s.value.find(v=>v.slug===e)||null,P=e=>e!=null&&e.thumbnail?e.thumbnail:e!=null&&e.images&&e.images.length>0?e.images[0]:"https://via.placeholder.com/400x300?text=Product",k=e=>e!=null&&e.categories&&e.categories.length>0?e.categories[0].name:"Uncategorized",m=e=>e!=null&&e.price_range?e.price_range:e!=null&&e.price?`$${parseFloat(e.price).toFixed(2)}`:"Contact for Price",A=e=>{const v=[];return e!=null&&e.specifications&&(e.specifications.capacity&&v.push({label:"Capacity",value:e.specifications.capacity}),e.specifications.input&&v.push({label:"Input",value:e.specifications.input}),e.specifications.type&&v.push({label:"Type",value:e.specifications.type})),v.slice(0,3)},a=()=>Array.from({length:12}).map((e,v)=>({id:v+1,title:`Industrial Power Unit ${v+100}`,slug:`product-${v+1}`,sku:`MCT-${String(v+1).padStart(4,"0")}`,short_description:"High-performance power solution designed for reliability and efficiency.",price:(Math.random()*1e3+200).toFixed(2),featured:v%3===0,rating:(4+Math.random()).toFixed(1),categories:[{id:v%2===0?"ups":"batteries",name:v%2===0?"UPS Systems":"Batteries"}],specifications:{capacity:`${500+v*100}VA`,input:"230V AC",type:"Online Double Conversion"},created_at:new Date(Date.now()-v*864e5).toISOString()}));return{products:s,loading:r,error:y,fetchProducts:h,getProductBySlug:S,getProductImage:P,getCategoryName:k,formatPrice:m,getQuickSpecs:A}}function be(){const s=U([]),r=U(!1),y=U(null),h=[{id:"all",name:"All Products",icon:"mdi-view-grid"},{id:"ups",name:"UPS Systems",icon:"mdi-power"},{id:"batteries",name:"Batteries",icon:"mdi-battery"},{id:"inverters",name:"Inverters",icon:"mdi-flash"},{id:"solar",name:"Solar",icon:"mdi-solar-power"},{id:"accessories",name:"Accessories",icon:"mdi-package-variant"}],S={ups:"mdi-power",batteries:"mdi-battery",inverters:"mdi-flash",solar:"mdi-solar-power",accessories:"mdi-package-variant",power:"mdi-lightning-bolt",energy:"mdi-flash-circle"},P=a=>{const e=(a==null?void 0:a.toLowerCase())||"";return S[e]||"mdi-package-variant"},k=async()=>{r.value=!0,y.value=null;try{const a=await window.axios.get("/api/openapi/categories?type=product"),e=Array.isArray(a.data)?a.data:a.data.data||a.data.categories||[];return Array.isArray(e)&&e.length>0?s.value=[{id:"all",name:"All Products",icon:"mdi-view-grid"},...e.map(v=>({id:v.id,name:v.name,slug:v.slug,icon:P(v.slug||v.name)}))]:s.value=h,s.value}catch(a){return console.error("Error loading categories:",a),y.value=a.message||"Failed to load categories",s.value=h,s.value}finally{r.value=!1}},m=a=>s.value.find(e=>e.id===a)||null;return{categories:s,loading:r,error:y,fetchCategories:k,getCategoryById:m,getCategoryNameById:a=>{const e=m(a);return e?e.name:"Unknown"},getCategoryIcon:P}}function _e(s){const r=U("all"),y=U(""),h=U("newest"),S=[{label:"Newest First",value:"newest"},{label:"Price: Low to High",value:"price_asc"},{label:"Price: High to Low",value:"price_desc"},{label:"Name: A to Z",value:"name_asc"},{label:"Name: Z to A",value:"name_desc"},{label:"Featured First",value:"featured"}],P=F(()=>{const o=S.find(i=>i.value===h.value);return o?o.label:"Newest First"}),k=o=>r.value==="all"?o:o.filter(i=>{var w;return(((w=i.categories)==null?void 0:w.map(L=>L.id))||[]).includes(r.value)}),m=o=>{if(!y.value)return o;const i=y.value.toLowerCase().trim();return o.filter(_=>{var w,L,R,c;return((w=_.title)==null?void 0:w.toLowerCase().includes(i))||((L=_.short_description)==null?void 0:L.toLowerCase().includes(i))||((R=_.sku)==null?void 0:R.toLowerCase().includes(i))||((c=_.description)==null?void 0:c.toLowerCase().includes(i))})},A=o=>{const i=[...o];return i.sort((_,w)=>{switch(h.value){case"price_asc":return(parseFloat(_.price)||0)-(parseFloat(w.price)||0);case"price_desc":return(parseFloat(w.price)||0)-(parseFloat(_.price)||0);case"name_asc":return(_.title||"").localeCompare(w.title||"");case"name_desc":return(w.title||"").localeCompare(_.title||"");case"featured":return _.featured&&!w.featured?-1:!_.featured&&w.featured?1:0;case"newest":default:return new Date(w.created_at||0)-new Date(_.created_at||0)}}),i},a=F(()=>{let o=s.value||[];return o=k(o),o=m(o),o=A(o),o}),e=F(()=>r.value!=="all"||y.value!==""||h.value!=="newest"),v=F(()=>{let o=0;return r.value!=="all"&&o++,y.value!==""&&o++,h.value!=="newest"&&o++,o});return{activeCategory:r,searchQuery:y,sortBy:h,sortOptions:S,filteredProducts:a,sortByLabel:P,hasActiveFilters:e,activeFiltersCount:v,setActiveCategory:o=>{r.value=o},setSortBy:o=>{h.value=o},setSearchQuery:o=>{y.value=o},clearFilters:()=>{r.value="all",y.value="",h.value="newest"}}}function we(s=3){const r=U([]),y=U(!1),h=d=>r.value.some(o=>o.id===d.id),S=F(()=>r.value.length<s),P=d=>!d||h(d)||!S.value?!1:(r.value.push(d),!0),k=d=>{const o=r.value.findIndex(i=>i.id===d.id);return o>-1?(r.value.splice(o,1),!0):!1};return{comparisonProducts:r,showComparison:y,maxProducts:s,canAddMore:S,isInComparison:h,addToComparison:P,removeFromComparison:k,toggleComparison:d=>{if(h(d))k(d);else if(!P(d))return!1;return!0},clearComparison:()=>{r.value=[]},openComparison:()=>{y.value=!0},closeComparison:()=>{y.value=!1},getComparisonSpecs:()=>{const d=new Set;return r.value.forEach(o=>{o.specifications&&Object.keys(o.specifications).forEach(i=>d.add(i))}),Array.from(d).map(o=>({key:o,label:o.charAt(0).toUpperCase()+o.slice(1).replace(/_/g," ")}))},getSpecValue:(d,o)=>d.specifications&&d.specifications[o]?d.specifications[o]:"N/A",getKeyFeatures:d=>d.key_features&&Array.isArray(d.key_features)?d.key_features:["High Performance","Reliable Design","Energy Efficient"],getRecommendedUse:d=>{var i,_,w;if(d.recommended_use)return d.recommended_use;const o=((w=(_=(i=d.categories)==null?void 0:i[0])==null?void 0:_.name)==null?void 0:w.toLowerCase())||"";return o.includes("ups")?"Data Centers, Servers":o.includes("battery")?"Backup Power Systems":o.includes("solar")?"Renewable Energy Systems":"General Purpose"}}}const Ce={class:"product-image-container position-relative bg-grey-lighten-4",style:{height:"240px",overflow:"hidden"}},xe={class:"actions-overlay d-flex align-center justify-center gap-2"},ke={class:"pa-5"},$e={class:"d-flex justify-space-between align-start mb-2"},Se={class:"text-caption font-weight-bold text-primary text-uppercase tracking-wide"},Pe={key:0,class:"d-flex align-center"},Ae={class:"text-caption font-weight-bold"},Fe={class:"text-h6 font-weight-bold text-grey-darken-4 mb-2 lh-tight",style:{"min-height":"48px"}},ze={class:"text-body-2 text-medium-emphasis mb-4 line-clamp-2",style:{"min-height":"40px"}},Ue={key:0,class:"specs-preview my-4 py-3 border-top border-bottom border-dashed"},Be={class:"d-flex flex-wrap gap-3"},Ie={class:"spec-label"},Ne={class:"spec-value"},Ve={class:"d-flex align-center justify-space-between mt-4"},De={key:0,class:"text-caption text-medium-emphasis text-decoration-line-through mr-2"},Ee={class:"text-h6 font-weight-black text-primary"},Le={__name:"ProductCard",props:{product:{type:Object,required:!0},comparisonDisabled:{type:Boolean,default:!1}},emits:["toggle-comparison"],setup(s){const r=s,y=U(!1),h=f=>!f||typeof f!="string"?null:ye(f),S=f=>{if(!f)return null;if(Array.isArray(f))return f.length>0?f[0]:null;if(typeof f=="string")try{const b=JSON.parse(f);if(Array.isArray(b)&&b.length>0)return b[0]}catch{return f}return null},P=F(()=>{var b,d;let f=null;if((b=r.product)!=null&&b.thumbnail&&(f=h(r.product.thumbnail)),!f&&((d=r.product)!=null&&d.images)){const o=S(r.product.images);o&&(f=h(o))}return f||"/assets/img/default.jpg"}),k=F(()=>P.value==="/assets/img/default.jpg"),m=F(()=>r.product.categories&&r.product.categories.length>0?r.product.categories[0].name:"Uncategorized"),A=F(()=>r.product.price_range?r.product.price_range:r.product.price?`$${parseFloat(r.product.price).toFixed(2)}`:"Contact for Price"),a=F(()=>{const f=[];return r.product.specifications&&(r.product.specifications.capacity&&f.push({label:"Capacity",value:r.product.specifications.capacity}),r.product.specifications.input&&f.push({label:"Input",value:r.product.specifications.input}),r.product.specifications.type&&f.push({label:"Type",value:r.product.specifications.type})),f.slice(0,3)}),e=F(()=>`${window.location.origin}/products/${r.product.slug}`),v=F(()=>{const f=r.product.title||"Product",b=r.product.short_description||"",d=A.value;return`Check out ${f}${b?` - ${b}`:""}${d?` - ${d}`:""}`}),D=()=>{navigator.share?navigator.share({title:r.product.title,text:v.value,url:e.value}).catch(f=>{f.name!=="AbortError"&&(y.value=!0)}):y.value=!0};return(f,b)=>{const d=g("v-chip"),o=g("v-img"),i=g("v-btn"),_=g("v-tooltip"),w=g("v-icon"),L=g("v-card"),R=g("v-hover");return n(),V(R,null,{default:u(({isHovering:c,props:M})=>[l(L,Q(M,{elevation:c?8:2,class:"product-card h-100 bg-white rounded-xl overflow-hidden transition-all"}),{default:u(()=>[t("div",Ce,[s.product.featured?(n(),V(d,{key:0,color:"amber-accent-4",variant:"flat",size:"x-small",class:"position-absolute top-0 left-0 ma-3 font-weight-bold z-index-2"},{default:u(()=>b[2]||(b[2]=[z(" FEATURED ")])),_:1,__:[2]})):E("",!0),l(o,{src:P.value,alt:s.product.title,height:"100%",cover:"",class:q(["product-img transition-transform",{"scale-110":c||k.value}])},null,8,["src","alt","class"]),t("div",xe,[l(_,{text:"View product details",location:"top"},{activator:u(({props:B})=>[l(i,Q({icon:"mdi-eye-outline",variant:"flat",color:"white",size:"small",class:"hover-scale"},B,{to:`/products/${s.product.slug}`,"aria-label":"View product details"}),null,16,["to"])]),_:1}),l(_,{text:"Add to comparison",location:"top"},{activator:u(({props:B})=>[l(i,Q({icon:"mdi-scale-balance",variant:"flat",color:"primary",size:"small",class:"hover-scale"},B,{disabled:s.comparisonDisabled,onClick:b[0]||(b[0]=ee(O=>f.$emit("toggle-comparison",s.product),["prevent"])),"aria-label":"Add to comparison"}),null,16,["disabled"])]),_:1}),l(_,{text:"Share product",location:"top"},{activator:u(({props:B})=>[l(i,Q({icon:"mdi-share-variant",variant:"flat",color:"success",size:"small",class:"hover-scale"},B,{onClick:ee(D,["prevent"]),"aria-label":"Share product"}),null,16)]),_:1})])]),t("div",ke,[t("div",$e,[t("div",Se,x(m.value),1),s.product.rating?(n(),p("div",Pe,[l(w,{icon:"mdi-star",color:"amber",size:"x-small",class:"mr-1"}),t("span",Ae,x(s.product.rating),1)])):E("",!0)]),t("h3",Fe,x(s.product.title),1),t("p",ze,x(s.product.short_description),1),a.value.length>0?(n(),p("div",Ue,[t("div",Be,[(n(!0),p(I,null,N(a.value,(B,O)=>(n(),p("div",{key:O,class:"spec-badge"},[t("span",Ie,x(B.label),1),t("span",Ne,x(B.value),1)]))),128))])])):E("",!0),t("div",Ve,[t("div",null,[s.product.oldPrice?(n(),p("span",De," $"+x(s.product.oldPrice),1)):E("",!0),t("span",Ee,x(A.value),1)]),l(i,{variant:"text",color:"primary",class:"px-0 font-weight-bold text-capitalize",to:`/products/${s.product.slug}`},{default:u(()=>[b[3]||(b[3]=z(" View Details ")),l(w,{icon:"mdi-arrow-right",size:"small",class:"ml-1"})]),_:1,__:[3]},8,["to"])])])]),_:2},1040,["elevation"]),l(ge,{modelValue:y.value,"onUpdate:modelValue":b[1]||(b[1]=B=>y.value=B),title:s.product.title,url:e.value,"share-text":v.value},null,8,["modelValue","title","url","share-text"])]),_:1})}}},Re=K(Le,[["__scopeId","data-v-405f1dba"]]);function Me(s,r=300){let y=null;return function(...h){clearTimeout(y),y=setTimeout(()=>{s.apply(this,h)},r)}}const Te={class:"filter-shell mb-4 mb-md-5"},Qe={class:"filter-top"},Oe={class:"filter-meta"},je={class:"title-row"},qe={class:"icon-pill"},Ke={class:"top-actions"},He={class:"filter-grid"},Ge={class:"panel search-panel"},Ye={class:"panel sort-panel"},Ze={class:"sort-actions"},Je={class:"d-none d-sm-inline"},We={key:1,class:"mr-2",style:{width:"20px"}},Xe={class:"category-block"},et={class:"category-heading"},tt={class:"category-filter-wrapper"},st={class:"category-filter d-flex align-center overflow-x-auto w-100 pb-1 gap-2"},at={class:"category-text"},ot={__name:"FilterBar",props:{categories:{type:Array,default:()=>[]},activeCategory:{type:[String,Number],default:"all"},searchQuery:{type:String,default:""},sortBy:{type:String,default:"newest"},sortOptions:{type:Array,default:()=>[]},sortByLabel:{type:String,default:"Newest First"},hasActiveFilters:{type:Boolean,default:!1},activeFiltersCount:{type:Number,default:0},comparisonCount:{type:Number,default:0},resultsCount:{type:Number,default:0}},emits:["update:activeCategory","update:searchQuery","update:sortBy","clear-filters","open-comparison"],setup(s,{emit:r}){const y=r,h=U(!1),S=()=>{h.value=window.scrollY>200},P=Me(k=>{y("update:searchQuery",k||"")},300);return te(()=>{window.addEventListener("scroll",S)}),ue(()=>{window.removeEventListener("scroll",S)}),(k,m)=>{const A=g("v-icon"),a=g("v-chip"),e=g("v-btn"),v=g("v-text-field"),D=g("v-list-item-title"),f=g("v-list-item"),b=g("v-list"),d=g("v-menu"),o=g("v-card");return n(),p("div",Te,[l(o,{class:q(["filter-card rounded-xl elevation-2",{"sticky-filter":h.value}])},{default:u(()=>[t("div",Qe,[t("div",Oe,[m[4]||(m[4]=t("span",{class:"eyebrow"},"Product filters",-1)),t("div",je,[t("div",qe,[l(A,{icon:"mdi-filter-variant",color:"primary",size:"18"})]),m[3]||(m[3]=t("div",null,[t("div",{class:"title-text"},"Filter & Search"),t("div",{class:"subtitle"},"Shape the catalog in a couple taps")],-1))])]),t("div",Ke,[s.resultsCount?(n(),V(a,{key:0,size:"small",color:"primary",variant:"tonal",class:"metric-chip"},{default:u(()=>[z(x(s.resultsCount)+" results ",1)]),_:1})):E("",!0),s.hasActiveFilters?(n(),V(a,{key:1,size:"small",color:"primary",variant:"flat",class:"metric-chip"},{default:u(()=>[z(x(s.activeFiltersCount)+" active ",1)]),_:1})):E("",!0),l(e,{variant:"text",color:"grey-darken-1",size:"small","prepend-icon":"mdi-close-circle",class:"text-capitalize clear-btn",disabled:!s.hasActiveFilters,onClick:m[0]||(m[0]=i=>k.$emit("clear-filters"))},{default:u(()=>m[5]||(m[5]=[z(" Clear filters ")])),_:1,__:[5]},8,["disabled"])])]),t("div",He,[t("div",Ge,[m[6]||(m[6]=t("div",{class:"panel-header"},[t("span",{class:"panel-title"},"Search"),t("span",{class:"panel-hint"},"Names, tags or SKU")],-1)),l(v,{"model-value":s.searchQuery,density:"compact",variant:"solo-filled",placeholder:"Search products...","prepend-inner-icon":"mdi-magnify","hide-details":"auto","bg-color":"white",class:"search-field rounded-lg",clearable:"","onUpdate:modelValue":C(P),"onClick:clear":m[1]||(m[1]=i=>k.$emit("update:searchQuery",""))},me({_:2},[s.searchQuery?{name:"append-inner",fn:u(()=>[l(a,{size:"x-small",color:"primary",variant:"flat",class:"results-chip mr-1"},{default:u(()=>[z(x(s.resultsCount),1)]),_:1})]),key:"0"}:void 0]),1032,["model-value","onUpdate:modelValue"])]),t("div",Ye,[m[9]||(m[9]=t("div",{class:"panel-header"},[t("span",{class:"panel-title"},"Sort & compare"),t("span",{class:"panel-hint"},"Tune order & shortlist")],-1)),t("div",Ze,[l(d,{location:"bottom end","close-on-content-click":!0},{activator:u(({props:i})=>[l(e,Q(i,{variant:"outlined",color:"grey-darken-2",class:"sort-btn bg-white text-grey-darken-2 font-weight-medium","append-icon":"mdi-chevron-down",size:"small",density:"comfortable"}),{default:u(()=>[l(A,{icon:"mdi-sort",size:"16",class:"mr-1 d-none d-sm-inline"}),t("span",Je,x(s.sortByLabel),1),m[7]||(m[7]=t("span",{class:"d-sm-none"},"Sort",-1))]),_:2,__:[7]},1040)]),default:u(()=>[l(b,{class:"sort-menu-list",density:"compact"},{default:u(()=>[(n(!0),p(I,null,N(s.sortOptions,i=>(n(),V(f,{key:i.value,class:q([{"sort-option-active":s.sortBy===i.value},"sort-option"]),onClick:_=>k.$emit("update:sortBy",i.value)},{prepend:u(()=>[s.sortBy===i.value?(n(),V(A,{key:0,icon:"mdi-check",color:"primary",size:"small",class:"mr-2"})):(n(),p("div",We))]),default:u(()=>[l(D,{class:"font-weight-medium text-body-2"},{default:u(()=>[z(x(i.label),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1}),s.comparisonCount>0?(n(),V(e,{key:0,color:"primary",variant:"flat","prepend-icon":"mdi-scale-balance",class:"comparison-btn text-white font-weight-bold",size:"small",density:"comfortable",onClick:m[2]||(m[2]=i=>k.$emit("open-comparison"))},{default:u(()=>[m[8]||(m[8]=t("span",{class:"d-none d-sm-inline mr-1"},"Compare",-1)),l(a,{size:"x-small",color:"white",variant:"flat",class:"comparison-badge ml-1"},{default:u(()=>[z(x(s.comparisonCount),1)]),_:1})]),_:1,__:[8]})):E("",!0)])])]),t("div",Xe,[t("div",et,[m[11]||(m[11]=t("div",null,[t("span",{class:"eyebrow"},"Categories"),t("div",{class:"subcopy"},"Swipe through the full catalog")],-1)),s.hasActiveFilters?(n(),V(a,{key:0,size:"x-small",color:"primary",variant:"tonal",class:"d-none d-sm-inline-flex"},{default:u(()=>m[10]||(m[10]=[z(" Active filter set ")])),_:1,__:[10]})):E("",!0)]),t("div",tt,[t("div",st,[(n(!0),p(I,null,N(s.categories,i=>(n(),V(e,{key:i.id,variant:"flat",color:s.activeCategory===i.id?"primary":"grey-lighten-3",class:q(["category-btn font-weight-bold text-capitalize rounded-pill flex-shrink-0",{"category-btn-active":s.activeCategory===i.id,"category-btn-inactive":s.activeCategory!==i.id}]),size:"small",density:"comfortable",onClick:_=>k.$emit("update:activeCategory",i.id),"aria-pressed":s.activeCategory===i.id},{default:u(()=>[i.icon?(n(),V(A,{key:0,icon:i.icon,size:"14",class:"mr-1"},null,8,["icon"])):E("",!0),t("span",at,x(i.name),1)]),_:2},1032,["color","class","onClick","aria-pressed"]))),128))])])])]),_:1},8,["class"])])}}},rt=K(ot,[["__scopeId","data-v-be721b69"]]),nt={class:"d-flex align-center"},it={key:0,class:"text-center py-16"},lt={key:1,class:"comparison-table"},ct={class:"product-comparison-card"},dt={class:"text-subtitle-1 font-weight-bold mb-2"},ut={class:"text-h6 font-weight-black text-primary mb-2"},mt={key:0},pt={key:0,class:"d-flex align-center justify-center"},vt={class:"font-weight-bold"},ft={key:1},gt={class:"font-weight-bold bg-grey-lighten-4"},yt={class:"d-flex flex-column align-center gap-1"},ht={__name:"ComparisonDialog",props:{modelValue:{type:Boolean,default:!1},products:{type:Array,default:()=>[]},comparisonSpecs:{type:Array,default:()=>[]}},emits:["update:modelValue","remove-product","clear-all"],setup(s){const r=s,y=a=>a.thumbnail?a.thumbnail:a.images&&a.images.length>0?a.images[0]:"/assets/img/default.jpg",h=a=>a.categories&&a.categories.length>0?a.categories[0].name:"Uncategorized",S=a=>a.price_range?a.price_range:a.price?`$${parseFloat(a.price).toFixed(2)}`:"Contact for Price",P=(a,e)=>a.specifications&&a.specifications[e]?a.specifications[e]:"N/A",k=a=>a.key_features&&Array.isArray(a.key_features)?a.key_features:["High Performance","Reliable Design","Energy Efficient"],m=a=>{if(a.recommended_use)return a.recommended_use;const e=h(a).toLowerCase();return e.includes("ups")?"Data Centers, Servers":e.includes("battery")?"Backup Power Systems":e.includes("solar")?"Renewable Energy Systems":"General Purpose"},A=F(()=>r.products.some(a=>a.rating));return(a,e)=>{const v=g("v-icon"),D=g("v-btn"),f=g("v-card-title"),b=g("v-img"),d=g("v-chip"),o=g("v-table"),i=g("v-card-text"),_=g("v-spacer"),w=g("v-card-actions"),L=g("v-card"),R=g("v-dialog");return n(),V(R,{"model-value":s.modelValue,"max-width":"1400",scrollable:"","onUpdate:modelValue":e[3]||(e[3]=c=>a.$emit("update:modelValue",c))},{default:u(()=>[l(L,{class:"rounded-xl"},{default:u(()=>[l(f,{class:"d-flex align-center justify-space-between pa-6 bg-primary text-white"},{default:u(()=>[t("div",nt,[l(v,{icon:"mdi-scale-balance",class:"mr-3"}),e[4]||(e[4]=t("span",{class:"text-h5 font-weight-bold"},"Compare Products",-1))]),l(D,{icon:"mdi-close",variant:"text",color:"white",onClick:e[0]||(e[0]=c=>a.$emit("update:modelValue",!1))})]),_:1}),l(i,{class:"pa-0"},{default:u(()=>[s.products.length===0?(n(),p("div",it,[l(v,{icon:"mdi-scale-balance",size:"64",color:"grey-lighten-1",class:"mb-4"}),e[5]||(e[5]=t("p",{class:"text-body-1 text-medium-emphasis"},"No products selected for comparison.",-1)),e[6]||(e[6]=t("p",{class:"text-caption text-medium-emphasis mt-2"},"Select up to 3 products to compare.",-1))])):(n(),p("div",lt,[l(o,{density:"comfortable",class:"comparison-table-content"},{default:u(()=>[t("thead",null,[t("tr",null,[e[8]||(e[8]=t("th",{class:"comparison-header"},"Feature",-1)),(n(!0),p(I,null,N(s.products,c=>(n(),p("th",{key:c.id,class:"comparison-product-header text-center"},[t("div",ct,[l(D,{icon:"mdi-close",size:"x-small",variant:"text",class:"position-absolute top-0 right-0",onClick:M=>a.$emit("remove-product",c)},null,8,["onClick"]),l(b,{src:y(c),alt:c.title,"max-height":"120",contain:"",class:"mb-3"},null,8,["src","alt"]),t("h4",dt,x(c.title),1),t("div",ut,x(S(c)),1),l(D,{variant:"outlined",color:"primary",size:"small",to:`/products/${c.slug}`},{default:u(()=>e[7]||(e[7]=[z(" View Details ")])),_:2,__:[7]},1032,["to"])])]))),128))])]),t("tbody",null,[t("tr",null,[e[9]||(e[9]=t("td",{class:"font-weight-bold bg-grey-lighten-4"},"Category",-1)),(n(!0),p(I,null,N(s.products,c=>(n(),p("td",{key:c.id,class:"text-center"},x(h(c)),1))),128))]),t("tr",null,[e[10]||(e[10]=t("td",{class:"font-weight-bold bg-grey-lighten-4"},"SKU",-1)),(n(!0),p(I,null,N(s.products,c=>(n(),p("td",{key:c.id,class:"text-center"},x(c.sku||"N/A"),1))),128))]),t("tr",null,[e[11]||(e[11]=t("td",{class:"font-weight-bold bg-grey-lighten-4"},"Price",-1)),(n(!0),p(I,null,N(s.products,c=>(n(),p("td",{key:c.id,class:"text-center"},x(S(c)),1))),128))]),A.value?(n(),p("tr",mt,[e[12]||(e[12]=t("td",{class:"font-weight-bold bg-grey-lighten-4"},"Rating",-1)),(n(!0),p(I,null,N(s.products,c=>(n(),p("td",{key:c.id,class:"text-center"},[c.rating?(n(),p("div",pt,[l(v,{icon:"mdi-star",color:"amber",size:"small",class:"mr-1"}),t("span",vt,x(c.rating),1)])):(n(),p("span",ft,"N/A"))]))),128))])):E("",!0),(n(!0),p(I,null,N(s.comparisonSpecs,c=>(n(),p("tr",{key:c.key},[t("td",gt,x(c.label),1),(n(!0),p(I,null,N(s.products,M=>(n(),p("td",{key:M.id,class:"text-center"},x(P(M,c.key)),1))),128))]))),128)),t("tr",null,[e[13]||(e[13]=t("td",{class:"font-weight-bold bg-grey-lighten-4"},"Key Features",-1)),(n(!0),p(I,null,N(s.products,c=>(n(),p("td",{key:c.id,class:"text-center"},[t("div",yt,[(n(!0),p(I,null,N(k(c).slice(0,3),(M,B)=>(n(),V(d,{key:B,size:"x-small",variant:"tonal",color:"primary",class:"mb-1"},{default:u(()=>[z(x(M),1)]),_:2},1024))),128))])]))),128))]),t("tr",null,[e[14]||(e[14]=t("td",{class:"font-weight-bold bg-grey-lighten-4"},"Recommended Use",-1)),(n(!0),p(I,null,N(s.products,c=>(n(),p("td",{key:c.id,class:"text-center"},x(m(c)),1))),128))])])]),_:1})]))]),_:1}),l(w,{class:"pa-4 bg-grey-lighten-5"},{default:u(()=>[l(_),l(D,{variant:"text",onClick:e[1]||(e[1]=c=>a.$emit("clear-all"))},{default:u(()=>e[15]||(e[15]=[z(" Clear All ")])),_:1,__:[15]}),l(D,{color:"primary",variant:"flat",onClick:e[2]||(e[2]=c=>a.$emit("update:modelValue",!1))},{default:u(()=>e[16]||(e[16]=[z(" Close ")])),_:1,__:[16]})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},bt=K(ht,[["__scopeId","data-v-0ad0e2c7"]]),_t={class:"products-page-modern"},wt={class:"mb-10 page-hero position-relative d-flex align-center justify-center text-center overflow-hidden"},Ct={class:"glass-pill d-inline-flex align-center px-5 py-3 rounded-pill mb-8 animate-float"},xt={class:"py-12 bg-grey-lighten-5 min-vh-100"},kt={key:0,class:"text-center py-16"},$t={key:1,class:"text-center py-16"},St={key:3,class:"text-center mt-12"},Y=12,Pt={__name:"ProductsPage",setup(s){const{products:r,loading:y,fetchProducts:h}=he(),{categories:S,fetchCategories:P}=be(),{activeCategory:k,searchQuery:m,sortBy:A,sortOptions:a,filteredProducts:e,sortByLabel:v,hasActiveFilters:D,activeFiltersCount:f,setActiveCategory:b,setSortBy:d,setSearchQuery:o,clearFilters:i}=_e(r),{comparisonProducts:_,showComparison:w,canAddMore:L,isInComparison:R,toggleComparison:c,removeFromComparison:M,clearComparison:B,openComparison:O,getComparisonSpecs:se}=we(3),j=U(Y),H=U(!1),ae=F(()=>se()),Z=F(()=>e.value.slice(0,j.value)),oe=F(()=>e.value.length>j.value),re=G=>{!c(G)&&!R(G)&&console.warn("Cannot add more than 3 products to comparison")},ne=()=>{H.value=!0,setTimeout(()=>{j.value+=Y,H.value=!1},200)};return pe([k,m,A],()=>{j.value=Y}),te(async()=>{await Promise.all([P(),h()])}),(G,$)=>{const J=g("v-icon"),ie=g("v-fade-transition"),W=g("v-container"),le=g("v-progress-circular"),X=g("v-btn"),ce=g("v-col"),de=g("v-row");return n(),p("div",_t,[t("section",wt,[$[5]||($[5]=ve('<div class="hero-bg-gradient" data-v-9fa78b3f></div><div class="hero-pattern" data-v-9fa78b3f></div><div class="gradient-orb orb-1" data-v-9fa78b3f></div><div class="gradient-orb orb-2" data-v-9fa78b3f></div><div class="gradient-orb orb-3" data-v-9fa78b3f></div>',5)),l(W,{class:"position-relative z-index-2"},{default:u(()=>[l(ie,{appear:""},{default:u(()=>[t("div",null,[t("div",Ct,[$[1]||($[1]=t("div",{class:"pulse-dot mr-2"},null,-1)),l(J,{icon:"mdi-shield-check",color:"amber-accent-4",size:"small",class:"mr-2"}),$[2]||($[2]=t("span",{class:"text-subtitle-2 font-weight-bold tracking-wide text-white"},"PREMIUM QUALITY",-1))]),$[3]||($[3]=t("h1",{class:"text-h4 text-lg-h2 font-weight-black text-white mb-6 lh-tight text-shadow-sm animate-slide-up"},[z(" Explore Our "),t("span",{class:"text-amber-accent-3"},"Product Range")],-1)),$[4]||($[4]=t("p",{class:"text-h6 text-white opacity-90 mw-700 mx-auto font-weight-light animate-slide-up-delay"}," Discover high-performance solutions designed for your business needs. Browse, compare, and find the perfect product. ",-1))])]),_:1})]),_:1})]),t("section",xt,[l(W,null,{default:u(()=>[l(rt,{categories:C(S),"active-category":C(k),"search-query":C(m),"sort-by":C(A),"sort-options":C(a),"sort-by-label":C(v),"has-active-filters":C(D),"active-filters-count":C(f),"comparison-count":C(_).length,"results-count":C(e).length,"onUpdate:activeCategory":C(b),"onUpdate:searchQuery":C(o),"onUpdate:sortBy":C(d),onClearFilters:C(i),onOpenComparison:C(O)},null,8,["categories","active-category","search-query","sort-by","sort-options","sort-by-label","has-active-filters","active-filters-count","comparison-count","results-count","onUpdate:activeCategory","onUpdate:searchQuery","onUpdate:sortBy","onClearFilters","onOpenComparison"]),C(y)?(n(),p("div",kt,[l(le,{indeterminate:"",color:"primary",size:"64"}),$[6]||($[6]=t("p",{class:"text-body-1 text-medium-emphasis mt-4"},"Loading products...",-1))])):C(e).length===0?(n(),p("div",$t,[l(J,{icon:"mdi-package-variant",size:"64",color:"grey-lighten-1",class:"mb-4"}),$[8]||($[8]=t("h3",{class:"text-h6 font-weight-bold text-grey-darken-2 mb-2"},"No products found",-1)),$[9]||($[9]=t("p",{class:"text-body-2 text-medium-emphasis mb-6"}," Try adjusting your filters or search terms. ",-1)),l(X,{variant:"outlined",color:"primary",onClick:C(i)},{default:u(()=>$[7]||($[7]=[z(" Clear Filters ")])),_:1,__:[7]},8,["onClick"])])):(n(),V(de,{key:2},{default:u(()=>[(n(!0),p(I,null,N(Z.value,T=>(n(),V(ce,{key:T.id,cols:"12",sm:"6",lg:"4",xl:"3"},{default:u(()=>[l(Re,{product:T,"comparison-disabled":!C(L)&&!C(R)(T),onToggleComparison:re},null,8,["product","comparison-disabled"])]),_:2},1024))),128))]),_:1})),Z.value.length>0&&oe.value?(n(),p("div",St,[l(X,{variant:"outlined",color:"primary",size:"large",rounded:"pill",class:"px-10 font-weight-bold",onClick:ne,loading:H.value},{default:u(()=>$[10]||($[10]=[z(" Load More Products ")])),_:1,__:[10]},8,["loading"])])):E("",!0)]),_:1})]),l(bt,{modelValue:C(w),"onUpdate:modelValue":$[0]||($[0]=T=>fe(w)?w.value=T:null),products:C(_),"comparison-specs":ae.value,onRemoveProduct:C(M),onClearAll:C(B)},null,8,["modelValue","products","comparison-specs","onRemoveProduct","onClearAll"])])}}},Ut=K(Pt,[["__scopeId","data-v-9fa78b3f"]]);export{Ut as default};
