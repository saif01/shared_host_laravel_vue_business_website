import{_ as T,c as _,w as a,a as s,b as i,r,t as m,d as y,e as E,F as C,f as c,n as S,o as d,g,h as B,i as R,m as F,j as O,v as H,k as Y}from"./app-DFUhJa7k.js";import{r as L}from"./uploads-CnEkgyD_.js";const q={name:"AppBar",props:{isScrolled:{type:Boolean,default:!1},siteName:{type:String,required:!0},siteTagline:{type:String,required:!0},menuItems:{type:Array,required:!0},logo:{type:String,default:null}},emits:["toggle-drawer","close-drawer"],data(){return{mobileBreakpoint:960,isMobileViewport:typeof window<"u"?window.innerWidth<960:!1}},mounted(){this.checkViewport(),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{handleDrawerToggle(){this.isMobileViewport&&this.$emit("toggle-drawer")},handleResize(){const t=this.isMobileViewport;this.checkViewport(),!this.isMobileViewport&&t&&this.$emit("close-drawer")},checkViewport(){typeof window<"u"&&(this.isMobileViewport=window.innerWidth<this.mobileBreakpoint)},isActiveRoute(t){const e=this.$route.path;return t==="/"?e==="/":e.startsWith(t)}}},j={class:"d-flex align-center w-100 position-relative z-index-2"},G={class:"logo-box mr-3 elevation-3"},P={class:"d-flex flex-column logo-text-container"},K={class:"text-subtitle-1 font-weight-black text-grey-darken-4 lh-1 tracking-tight logo-text"},Q={class:"text-caption font-weight-bold text-primary tracking-widest tagline-text"},J={class:"d-none d-md-flex align-center gap-1"},X={class:"d-none d-md-flex"};function Z(t,e,l,u,o,n){const p=r("v-img"),h=r("router-link"),w=r("v-spacer"),f=r("v-btn"),k=r("v-app-bar-nav-icon"),A=r("v-app-bar");return d(),_(A,{app:"",class:S(["main-app-bar px-md-12 transition-all",{"scrolled-app-bar":l.isScrolled}]),height:"64",elevation:"0"},{default:a(()=>[s("div",j,[i(h,{to:"/",class:"text-decoration-none d-flex align-center mr-8 logo-group"},{default:a(()=>[s("div",G,[i(p,{src:l.logo||"/assets/logo/default.png",alt:"Logo",cover:"",class:"logo-image rounded-logo"},null,8,["src"])]),s("div",P,[s("span",K,m(l.siteName.toUpperCase()),1),s("span",Q,m(l.siteTagline),1)])]),_:1}),i(w),s("div",J,[(d(!0),y(C,null,E(l.menuItems,b=>(d(),_(h,{key:b.id,to:b.url,class:S(["nav-link",{"active-nav-link":n.isActiveRoute(b.url)}])},{default:a(()=>[n.isActiveRoute(b.url)?(d(),y(C,{key:0},[e[0]||(e[0]=s("span",{class:"nav-indicator-dot"},null,-1)),e[1]||(e[1]=s("span",{class:"nav-link-shimmer"},null,-1)),e[2]||(e[2]=s("span",{class:"nav-particle"},null,-1)),e[3]||(e[3]=s("span",{class:"nav-particle"},null,-1)),e[4]||(e[4]=s("span",{class:"nav-glow-line"},null,-1))],64)):g("",!0),c(" "+m(b.label),1)]),_:2},1032,["to","class"]))),128))]),i(w),s("div",X,[i(f,{color:"primary",variant:"flat",rounded:"pill",size:"default",class:"font-weight-bold px-6 text-capitalize elevation-3 hover-glow cta-btn",to:{name:"Contact"}},{default:a(()=>e[5]||(e[5]=[c(" Get a Quote ")])),_:1,__:[5]})]),i(k,{class:"d-md-none ml-2 mobile-menu-btn",onClick:n.handleDrawerToggle,"aria-label":"Toggle navigation menu"},null,8,["onClick"])]),e[6]||(e[6]=s("div",{class:"app-bar-border"},null,-1))]),_:1,__:[6]},8,["class"])}const $=T(q,[["render",Z],["__scopeId","data-v-a103535f"]]),ee={name:"MobileDrawer",props:{modelValue:{type:Boolean,default:!1},siteName:{type:String,required:!0},menuItems:{type:Array,required:!0},logo:{type:String,default:null}},emits:["update:modelValue"],watch:{$route(){this.closeDrawer()}},computed:{localDrawer:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}},methods:{closeDrawer(){this.$emit("update:modelValue",!1)},handleNavigate(){this.$nextTick(()=>this.closeDrawer())},isActiveRoute(t){if(!t)return!1;const e=this.$route.path||"/",l=t==="/"?"/":t.replace(/\/$/,""),u=e==="/"?"/":e.replace(/\/$/,"");return l==="/"?u==="/":!!(u===l||u.startsWith(l+"/"))}}},te={class:"pa-6"},ne={class:"d-flex align-center mb-8"},se={class:"logo-box mr-3"},oe={class:"text-h6 font-weight-black text-grey-darken-4"},ie={class:"mt-8"};function re(t,e,l,u,o,n){const p=r("v-img"),h=r("v-spacer"),w=r("v-btn"),f=r("v-list-item-title"),k=r("v-list-item"),A=r("v-list"),b=r("v-navigation-drawer");return d(),_(b,{modelValue:n.localDrawer,"onUpdate:modelValue":e[0]||(e[0]=v=>n.localDrawer=v),location:"right",temporary:"",class:S(["mobile-drawer",{"mobile-drawer--open":n.localDrawer}]),onKeydown:B(n.closeDrawer,["esc"])},{default:a(()=>[s("div",te,[s("div",ne,[s("div",se,[i(p,{src:l.logo||"/assets/logo/default.png",alt:"Logo",cover:"",class:"logo-image rounded-logo","aspect-ratio":1},null,8,["src"])]),s("span",oe,m(l.siteName.toUpperCase()),1),i(h),i(w,{icon:"mdi-close",variant:"text",onClick:n.closeDrawer},null,8,["onClick"])]),i(A,{nav:"",class:"bg-transparent"},{default:a(()=>[(d(!0),y(C,null,E(l.menuItems,v=>(d(),_(k,{key:v.id,to:v.url,active:n.isActiveRoute(v.url),class:S(["mb-2 rounded-xl premium-nav-item",{"premium-nav-item-active":n.isActiveRoute(v.url)}]),onClick:n.handleNavigate},{default:a(()=>[n.isActiveRoute(v.url)?(d(),y(C,{key:0},[e[1]||(e[1]=s("span",{class:"active-indicator-bar"},[s("span",{class:"indicator-pulse"})],-1)),e[2]||(e[2]=s("div",{class:"active-shimmer"},null,-1)),e[3]||(e[3]=s("span",{class:"active-dot-top"},null,-1)),e[4]||(e[4]=s("span",{class:"active-dot-bottom"},null,-1))],64)):g("",!0),i(f,{class:"font-weight-bold"},{default:a(()=>[c(m(v.label),1)]),_:2},1024)]),_:2},1032,["to","active","class","onClick"]))),128))]),_:1}),s("div",ie,[i(w,{block:"",color:"primary",size:"large",rounded:"lg",to:{name:"Contact"},class:"elevation-4",onClick:n.handleNavigate},{default:a(()=>e[5]||(e[5]=[c(" Get a Quote ")])),_:1,__:[5]},8,["onClick"])])])]),_:1},8,["modelValue","class","onKeydown"])}const le=T(ee,[["render",re],["__scopeId","data-v-4931e4a5"]]),ae={name:"Footer",props:{siteName:{type:String,required:!0},footerDescription:{type:String,required:!0},menuItems:{type:Array,required:!0},settings:{type:Object,required:!0},logo:{type:String,default:null},newsletterDescription:{type:String,default:"Subscribe to get the latest power tips and updates."}},data(){return{newsletterEmail:"",newsletterLoading:!1,newsletterMessage:"",newsletterMessageType:"success",emailRules:[t=>!!t||"Email is required",t=>/.+@.+\..+/.test(t)||"Email must be valid"]}},methods:{hasSocialLink(t){return this.settings[`${t}_url`]&&this.settings[`${t}_url`].trim()!==""},async subscribeNewsletter(t){if(t&&t.preventDefault(),!this.newsletterEmail||!this.newsletterEmail.trim()){this.newsletterMessage="Email is required",this.newsletterMessageType="error";return}if(!/.+@.+\..+/.test(this.newsletterEmail)){this.newsletterMessage="Please enter a valid email address",this.newsletterMessageType="error";return}if(this.$refs.newsletterForm){const{valid:l}=await this.$refs.newsletterForm.validate();if(!l)return}this.newsletterLoading=!0,this.newsletterMessage="";try{const l=await this.$axios.post("/api/openapi/newsletter/subscribe",{email:this.newsletterEmail.trim()});this.newsletterMessage=l.data.message||"Thank you for subscribing!",this.newsletterMessageType="success",this.newsletterEmail="",this.$refs.newsletterForm&&this.$refs.newsletterForm.reset(),setTimeout(()=>{this.newsletterMessage=""},5e3)}catch(l){if(console.error("Error subscribing to newsletter:",l),l.response&&l.response.data)if(l.response.data.message)this.newsletterMessage=l.response.data.message;else if(l.response.data.errors){const u=l.response.data.errors,o=Object.values(u).flat();this.newsletterMessage=o.join(", ")||"Failed to subscribe. Please try again."}else this.newsletterMessage="Failed to subscribe. Please try again.";else this.newsletterMessage="An error occurred. Please try again later.";this.newsletterMessageType="error"}finally{this.newsletterLoading=!1}}}},ce={class:"d-flex align-center mb-6"},de={class:"logo-box-light mr-3 elevation-10"},ue={class:"text-h5 font-weight-black text-white tracking-tight"},me={class:"text-body-2 text-grey-lighten-1 mb-8 lh-relaxed opacity-80"},pe={class:"d-flex gap-4"},ge={class:"list-unstyled"},_e={class:"list-unstyled"},he={class:"mb-3"},fe={class:"mb-3"},we={class:"mb-3"},ve={class:"mb-3"},be={class:"text-body-2 text-grey-lighten-1 mb-6 opacity-80"},ye={class:"d-flex flex-column flex-md-row justify-space-between align-center text-caption text-grey-darken-1"},xe={class:"mb-4 mb-md-0 d-flex flex-column flex-md-row align-center gap-2 gap-md-4"},ke={class:"powered-by-info"},Ae={class:"info-item mb-3"},Se={class:"info-label"},Ue={class:"info-item mb-3"},Te={class:"info-label"},Me={class:"info-item mb-2"},Ie={class:"info-label"};function Ce(t,e,l,u,o,n){const p=r("v-img"),h=r("v-btn"),w=r("v-col"),f=r("router-link"),k=r("v-text-field"),A=r("v-form"),b=r("v-alert"),v=r("v-row"),M=r("v-divider"),x=r("v-icon"),D=r("v-card-title"),V=r("v-card-text"),I=r("v-card"),W=r("v-menu"),z=r("v-container"),N=r("v-footer");return d(),_(N,{class:"bg-footer text-white pt-20 pb-10 position-relative overflow-hidden"},{default:a(()=>[e[23]||(e[23]=s("div",{class:"footer-pattern"},null,-1)),e[24]||(e[24]=s("div",{class:"footer-glow"},null,-1)),i(z,{class:"position-relative z-index-2"},{default:a(()=>[i(v,null,{default:a(()=>[i(w,{cols:"12",md:"4",class:"mb-10 mb-md-0 pr-md-12"},{default:a(()=>[s("div",ce,[s("div",de,[i(p,{src:l.logo||"/assets/logo/default.png",alt:"Logo",cover:"",class:"footer-logo-image rounded-logo"},null,8,["src"])]),s("span",ue,m(l.siteName.toUpperCase()),1)]),s("p",me,m(l.footerDescription),1),s("div",pe,[n.hasSocialLink("facebook")?(d(),_(h,{key:0,href:l.settings.facebook_url,target:"_blank",icon:"mdi-facebook",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):g("",!0),n.hasSocialLink("twitter")?(d(),_(h,{key:1,href:l.settings.twitter_url,target:"_blank",icon:"mdi-twitter",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):g("",!0),n.hasSocialLink("linkedin")?(d(),_(h,{key:2,href:l.settings.linkedin_url,target:"_blank",icon:"mdi-linkedin",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):g("",!0),n.hasSocialLink("instagram")?(d(),_(h,{key:3,href:l.settings.instagram_url,target:"_blank",icon:"mdi-instagram",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):g("",!0)])]),_:1}),i(w,{cols:"6",md:"2",class:"mb-8 mb-md-0"},{default:a(()=>[e[2]||(e[2]=s("h4",{class:"text-subtitle-1 font-weight-bold mb-6 text-white position-relative d-inline-block"},[c(" Quick Links "),s("div",{class:"heading-underline"})],-1)),s("ul",ge,[(d(!0),y(C,null,E(l.menuItems,U=>(d(),y("li",{key:U.id,class:"mb-3"},[i(f,{to:U.url,class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>[c(m(U.label),1)]),_:2},1032,["to"])]))),128))])]),_:1,__:[2]}),i(w,{cols:"6",md:"3",class:"mb-8 mb-md-0"},{default:a(()=>[e[7]||(e[7]=s("h4",{class:"text-subtitle-1 font-weight-bold mb-6 text-white position-relative d-inline-block"},[c(" Our Services "),s("div",{class:"heading-underline"})],-1)),s("ul",_e,[s("li",he,[i(f,{to:"/services/ups-installation",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[3]||(e[3]=[c("UPS Installation")])),_:1,__:[3]})]),s("li",fe,[i(f,{to:"/services/battery-replacement",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[4]||(e[4]=[c("Battery Replacement")])),_:1,__:[4]})]),s("li",we,[i(f,{to:"/services/industrial-backup",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[5]||(e[5]=[c("Industrial Backup")])),_:1,__:[5]})]),s("li",ve,[i(f,{to:"/services/support",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[6]||(e[6]=[c("24/7 Support")])),_:1,__:[6]})])])]),_:1,__:[7]}),i(w,{cols:"12",md:"3"},{default:a(()=>[e[8]||(e[8]=s("h4",{class:"text-subtitle-1 font-weight-bold mb-6 text-white position-relative d-inline-block"},[c(" Newsletter "),s("div",{class:"heading-underline"})],-1)),s("p",be,m(l.newsletterDescription),1),i(A,{ref:"newsletterForm",onSubmit:R(n.subscribeNewsletter,["prevent"])},{default:a(()=>[i(k,{modelValue:o.newsletterEmail,"onUpdate:modelValue":e[0]||(e[0]=U=>o.newsletterEmail=U),placeholder:"Enter your email",variant:"outlined",density:"comfortable","bg-color":"rgba(255,255,255,0.05)",color:"amber-accent-4",rules:o.emailRules,loading:o.newsletterLoading,disabled:o.newsletterLoading,class:"mb-3 footer-input rounded-lg","hide-details":"auto",onKeyup:B(n.subscribeNewsletter,["enter"])},{"append-inner":a(()=>[i(h,{icon:"mdi-send",size:"small",color:"amber-accent-4",variant:"text",class:"mr-n2",loading:o.newsletterLoading,disabled:o.newsletterLoading,onClick:n.subscribeNewsletter},null,8,["loading","disabled","onClick"])]),_:1},8,["modelValue","rules","loading","disabled","onKeyup"])]),_:1},8,["onSubmit"]),o.newsletterMessage?(d(),_(b,{key:0,type:o.newsletterMessageType,density:"compact",class:"mt-2 newsletter-alert",variant:"tonal",closable:!0,"onClick:close":e[1]||(e[1]=U=>o.newsletterMessage="")},{default:a(()=>[c(m(o.newsletterMessage),1)]),_:1},8,["type"])):g("",!0)]),_:1,__:[8]})]),_:1}),i(M,{class:"my-10 border-opacity-10"}),s("div",ye,[s("div",xe,[s("div",null," Â© "+m(new Date().getFullYear())+" "+m(l.siteName)+". All rights reserved. ",1),i(W,{"open-on-hover":"",location:"top"},{activator:a(({props:U})=>[s("span",F({class:"powered-by-text-footer"},U,{style:{cursor:"pointer"}}),[e[10]||(e[10]=c(" Powered By MCT-IT ")),i(x,{size:"x-small",class:"ml-1"},{default:a(()=>e[9]||(e[9]=[c("mdi-information-outline")])),_:1,__:[9]})],16)]),default:a(()=>[i(I,{class:"powered-by-card","min-width":"280"},{default:a(()=>[i(D,{class:"text-h6 pb-2"},{default:a(()=>[i(x,{class:"mr-2"},{default:a(()=>e[11]||(e[11]=[c("mdi-code-tags")])),_:1,__:[11]}),e[12]||(e[12]=c(" Powered By MCT-IT "))]),_:1,__:[12]}),i(M),i(V,{class:"pt-3"},{default:a(()=>[s("div",ke,[s("div",Ae,[s("div",Se,[i(x,{size:"small",class:"mr-1"},{default:a(()=>e[13]||(e[13]=[c("mdi-account-circle")])),_:1,__:[13]}),e[14]||(e[14]=c(" Author & Credit "))]),e[15]||(e[15]=s("div",{class:"info-value"},"MCT-IT Development Team",-1))]),s("div",Ue,[s("div",Te,[i(x,{size:"small",class:"mr-1"},{default:a(()=>e[16]||(e[16]=[c("mdi-cog")])),_:1,__:[16]}),e[17]||(e[17]=c(" Managed By "))]),e[18]||(e[18]=s("div",{class:"info-value"},"MCT-IT Solutions",-1))]),s("div",Me,[s("div",Ie,[i(x,{size:"small",class:"mr-1"},{default:a(()=>e[19]||(e[19]=[c("mdi-tag")])),_:1,__:[19]}),e[20]||(e[20]=c(" Version "))]),e[21]||(e[21]=s("div",{class:"info-value"},"v1.0",-1))])])]),_:1})]),_:1})]),_:1})]),e[22]||(e[22]=s("div",{class:"d-flex gap-6"},[s("a",{href:"#",class:"footer-link-sm"},"Privacy Policy"),s("a",{href:"#",class:"footer-link-sm"},"Terms of Service"),s("a",{href:"#",class:"footer-link-sm"},"Sitemap")],-1))])]),_:1})]),_:1,__:[23,24]})}const De=T(ae,[["render",Ce],["__scopeId","data-v-7bd78981"]]),Ve={name:"WhatsAppFloat",data(){return{whatsappUrl:"",settings:{whatsapp_number:"",contact_phone:""}}},async mounted(){await this.loadSettings(),this.updateWhatsAppUrl()},methods:{async loadSettings(){try{const e=(await this.$axios.get("/api/openapi/settings")).data;e.whatsapp_number!==void 0&&(this.settings.whatsapp_number=e.whatsapp_number),e.contact_phone!==void 0&&(this.settings.contact_phone=e.contact_phone)}catch(t){console.error("Error loading WhatsApp settings:",t)}},updateWhatsAppUrl(){const t=this.settings.whatsapp_number||this.settings.contact_phone||"";if(!t){this.whatsappUrl="";return}const e=t.replace(/[^\d+]/g,"");this.whatsappUrl=`https://wa.me/${e}`}},watch:{"settings.whatsapp_number"(){this.updateWhatsAppUrl()},"settings.contact_phone"(){this.updateWhatsAppUrl()}}},Ee=["href"];function Le(t,e,l,u,o,n){const p=r("v-icon");return o.whatsappUrl?(d(),y("a",{key:0,href:o.whatsappUrl,target:"_blank",class:"whatsapp-float elevation-6 d-flex align-center justify-center text-decoration-none"},[i(p,{icon:"mdi-whatsapp",color:"white",size:"32"})],8,Ee)):g("",!0)}const Be=T(Ve,[["render",Le],["__scopeId","data-v-c6ab8af3"]]),We={name:"GoToTopButton",data(){return{showButton:!1}},mounted(){window.addEventListener("scroll",this.handleScroll),this.handleScroll()},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){this.showButton=window.scrollY>300},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}};function ze(t,e,l,u,o,n){const p=r("v-icon"),h=r("v-btn");return O((d(),_(h,{onClick:n.scrollToTop,class:S(["go-to-top-btn elevation-6",{show:o.showButton}]),color:"primary",size:"large"},{default:a(()=>[i(p,{icon:"mdi-chevron-up",size:"28"})]),_:1},8,["onClick","class"])),[[H,o.showButton]])}const Ne=T(We,[["render",ze],["__scopeId","data-v-a599d343"]]),Re={name:"AnnouncementsBanner",data(){return{announcements:[],currentAnnouncementIndex:0,dialogOpen:!1,dontShowAgain:!1,dismissedIds:[],loading:!1,windowWidth:typeof window<"u"?window.innerWidth:1200,windowHeight:typeof window<"u"?window.innerHeight:800}},computed:{isMobile(){return this.windowWidth<600},currentAnnouncement(){return this.announcements.length>0&&this.currentAnnouncementIndex<this.announcements.length?this.announcements[this.currentAnnouncementIndex]:null},resolvedImageUrl(){return!this.currentAnnouncement||!this.currentAnnouncement.image?"/assets/img/default.jpg":this.getImageUrl(this.currentAnnouncement.image)||"/assets/img/default.jpg"},resolvedVideoUrl(){if(!this.currentAnnouncement||!this.currentAnnouncement.video)return null;const t=this.getVideoUrl(this.currentAnnouncement.video);return this.isYouTubeUrl(t)?this.getYouTubeEmbedUrl(t)?t:null:t},youtubeEmbedUrl(){return!this.resolvedVideoUrl||!this.isYouTubeUrl(this.resolvedVideoUrl)?null:this.getYouTubeEmbedUrl(this.resolvedVideoUrl)},dialogMaxWidth(){return this.windowWidth<600?"95vw":this.windowWidth<960?"85vw":this.resolvedImageUrl||this.resolvedVideoUrl?"90vw":"80vw"},imageMaxHeight(){return Math.min(500,this.windowHeight*.5)}},async mounted(){await this.loadAnnouncements(),this.loadDismissedAnnouncements(),this.updateWindowSize(),window.addEventListener("resize",this.updateWindowSize),this.announcements.length>0&&setTimeout(()=>{this.dialogOpen=!0},500)},beforeUnmount(){typeof window<"u"&&window.removeEventListener("resize",this.updateWindowSize)},methods:{async loadAnnouncements(){try{this.loading=!0;const t=await this.$axios.get("/api/openapi/announcements",{params:{per_page:10}}),e=this.getDismissedIds(),l=Array.isArray(t.data)?t.data:t.data.data||[];this.announcements=l.filter(u=>!e.includes(u.id)).map(u=>((u.image===""||u.image===null)&&(u.image=null),(u.video===""||u.video===null)&&(u.video=null),u)).sort((u,o)=>(u.priority||100)-(o.priority||100))}catch(t){console.error("Error loading announcements:",t)}finally{this.loading=!1}},getDismissedIds(){const t=localStorage.getItem("dismissed_announcements");return t?JSON.parse(t):[]},loadDismissedAnnouncements(){this.dismissedIds=this.getDismissedIds()},isDismissed(t){return this.dismissedIds.includes(t)},closeDialog(){this.currentAnnouncement&&(this.dontShowAgain&&this.dismissAnnouncement(this.currentAnnouncement.id),this.dialogOpen=!1)},nextAnnouncement(){this.currentAnnouncement&&(this.dontShowAgain&&this.dismissAnnouncement(this.currentAnnouncement.id),this.currentAnnouncementIndex<this.announcements.length-1?(this.currentAnnouncementIndex++,this.dontShowAgain=!1):this.dialogOpen=!1)},dismissAnnouncement(t){this.dismissedIds.includes(t)||(this.dismissedIds.push(t),localStorage.setItem("dismissed_announcements",JSON.stringify(this.dismissedIds)))},getAlertColor(t){return{urgent_alerts:"error",offers_promotions:"success",events:"info",holidays:"warning",company_news:"primary"}[t]||"primary"},getAnnouncementIcon(t){return{urgent_alerts:"mdi-alert-circle",offers_promotions:"mdi-tag",events:"mdi-calendar-star",holidays:"mdi-party-popper",company_news:"mdi-bullhorn"}[t]||"mdi-information"},getAnnouncementTypeLabel(t){return{urgent_alerts:"Urgent Alert",offers_promotions:"Special Offer",events:"Event",holidays:"Holiday",company_news:"Company News"}[t]||t},getImageUrl(t){return!t||t===""||t===null?null:t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//")?t:L(t)},getVideoUrl(t){return!t||t===""||t===null?null:t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//")?t:L(t)},isYouTubeUrl(t){return t?/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)/i.test(t):!1},getYouTubeEmbedUrl(t){if(!t)return"";let e="";try{const l=t.match(/(?:youtu\.be\/)([^?&#]+)/);if(l)e=l[1];else{const u=t.match(/(?:youtube\.com\/(?:watch\?v=|embed\/|v\/))([^?&#]+)/);if(u)e=u[1];else try{const o=new URL(t);if(e=o.searchParams.get("v"),!e&&o.pathname){const n=o.pathname.split("/").filter(p=>p);n.length>0&&(e=n[n.length-1])}}catch{const n=t.match(/[?&]v=([^?&#]+)/);n&&(e=n[1])}}if(e&&(e=e.split("?")[0].split("&")[0].split("#")[0].trim()),e&&e.length>=11)return`https://www.youtube.com/embed/${e}`;if(t.includes("youtube.com/embed/"))return t}catch(l){console.error("Error processing YouTube URL:",l)}return""},handleImageError(t){t.target&&t.target.parentElement&&(t.target.parentElement.style.display="none")},updateWindowSize(){typeof window<"u"&&(this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight)}}},Fe={class:"text-white font-weight-bold announcement-title-text"},Oe={key:0,class:"mb-4 announcement-media"},He={key:1,class:"mb-4 announcement-media"},Ye={key:0,class:"youtube-embed-wrapper"},qe=["src"],je=["src"],Ge=["src"],Pe={key:2,class:"text-body-1 mb-4 announcement-description"},Ke=["innerHTML"];function Qe(t,e,l,u,o,n){const p=r("v-icon"),h=r("v-spacer"),w=r("v-chip"),f=r("v-btn"),k=r("v-card-title"),A=r("v-img"),b=r("v-card-text"),v=r("v-divider"),M=r("v-checkbox"),x=r("v-card-actions"),D=r("v-card"),V=r("v-dialog");return d(),_(V,{modelValue:o.dialogOpen,"onUpdate:modelValue":e[1]||(e[1]=I=>o.dialogOpen=I),"max-width":n.dialogMaxWidth,persistent:"",scrollable:"",class:S(["announcement-dialog",{"announcement-dialog--fullscreen":n.isMobile}]),fullscreen:n.isMobile},{default:a(()=>[n.currentAnnouncement?(d(),_(D,{key:0,class:S(["announcement-dialog-card",{"announcement-dialog-card--mobile":n.isMobile}])},{default:a(()=>[i(k,{class:S(["d-flex align-center pa-4 announcement-title",`bg-${n.getAlertColor(n.currentAnnouncement.type)}`])},{default:a(()=>[i(p,{class:"mr-2",color:"white"},{default:a(()=>[c(m(n.getAnnouncementIcon(n.currentAnnouncement.type)),1)]),_:1}),s("span",Fe,m(n.currentAnnouncement.title),1),i(h),o.announcements.length>1?(d(),_(w,{key:0,size:"small",variant:"flat",color:"white",class:"mr-2"},{default:a(()=>[c(m(o.currentAnnouncementIndex+1)+" / "+m(o.announcements.length),1)]),_:1})):g("",!0),i(f,{icon:"mdi-close",variant:"text",color:"white",size:"small",onClick:n.closeDialog},null,8,["onClick"])]),_:1},8,["class"]),i(b,{class:"pa-4 pa-md-6 announcement-content"},{default:a(()=>[n.resolvedImageUrl?(d(),y("div",Oe,[i(A,{src:n.resolvedImageUrl,alt:n.currentAnnouncement.title,"max-height":n.imageMaxHeight,contain:"",class:"rounded-lg announcement-image",onError:n.handleImageError},null,8,["src","alt","max-height","onError"])])):g("",!0),n.resolvedVideoUrl?(d(),y("div",He,[n.isYouTubeUrl(n.resolvedVideoUrl)&&n.youtubeEmbedUrl?(d(),y("div",Ye,[s("iframe",{src:n.youtubeEmbedUrl,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"",class:"youtube-iframe rounded-lg"},null,8,qe)])):n.isYouTubeUrl(n.resolvedVideoUrl)?g("",!0):(d(),y("video",{key:1,controls:"",class:"w-100 rounded-lg announcement-video",style:Y({maxHeight:n.imageMaxHeight+"px"})},[s("source",{src:n.resolvedVideoUrl,type:"video/mp4"},null,8,je),s("source",{src:n.resolvedVideoUrl,type:"video/webm"},null,8,Ge),e[2]||(e[2]=c(" Your browser does not support the video tag. "))],4))])):g("",!0),n.currentAnnouncement.short_description?(d(),y("div",Pe,m(n.currentAnnouncement.short_description),1)):g("",!0),n.currentAnnouncement.content?(d(),y("div",{key:3,class:"text-body-2 mb-4 announcement-content-html",innerHTML:n.currentAnnouncement.content},null,8,Ke)):g("",!0),i(w,{size:"small",color:n.getAlertColor(n.currentAnnouncement.type),class:"mb-2"},{default:a(()=>[c(m(n.getAnnouncementTypeLabel(n.currentAnnouncement.type)),1)]),_:1},8,["color"])]),_:1}),i(v),i(x,{class:S(["pa-4 announcement-actions",{"announcement-actions--stacked":n.isMobile}])},{default:a(()=>[i(M,{modelValue:o.dontShowAgain,"onUpdate:modelValue":e[0]||(e[0]=I=>o.dontShowAgain=I),label:"Don't show again",density:"compact","hide-details":"",class:"mr-auto announcement-checkbox"},null,8,["modelValue"]),o.announcements.length>1&&o.currentAnnouncementIndex<o.announcements.length-1?(d(),_(f,{key:0,variant:"text",class:"announcement-action-btn",onClick:n.nextAnnouncement},{default:a(()=>[e[4]||(e[4]=c(" Next ")),i(p,{right:""},{default:a(()=>e[3]||(e[3]=[c("mdi-arrow-right")])),_:1,__:[3]})]),_:1,__:[4]},8,["onClick"])):g("",!0),i(f,{variant:"text",class:"announcement-action-btn",onClick:n.closeDialog},{default:a(()=>[c(m(o.announcements.length>1&&o.currentAnnouncementIndex<o.announcements.length-1?"Skip All":"Close"),1)]),_:1},8,["onClick"]),n.currentAnnouncement.external_link?(d(),_(f,{key:1,href:n.currentAnnouncement.external_link,target:n.currentAnnouncement.open_in_new_tab?"_blank":"_self",color:"primary",variant:"flat",class:"announcement-action-btn",onClick:n.closeDialog},{default:a(()=>[e[6]||(e[6]=c(" Learn More ")),i(p,{right:""},{default:a(()=>e[5]||(e[5]=[c("mdi-arrow-right")])),_:1,__:[5]})]),_:1,__:[6]},8,["href","target","onClick"])):g("",!0)]),_:1},8,["class"])]),_:1},8,["class"])):g("",!0)]),_:1},8,["modelValue","max-width","class","fullscreen"])}const Je=T(Re,[["render",Qe],["__scopeId","data-v-f7650892"]]),Xe={name:"PublicLayout",components:{AppBar:$,MobileDrawer:le,Footer:De,WhatsAppFloat:Be,GoToTopButton:Ne,AnnouncementsBanner:Je},data(){return{drawer:!1,isScrolled:!1,siteName:"Micro Control Technology",siteTagline:"TECHNOLOGY",footerDescription:"Leading provider of technical power support solutions. We ensure your business stays powered with reliable UPS systems, backup generators, and professional maintenance.",newsletterDescription:"Subscribe to get the latest power tips and updates.",brandingLogo:null,settings:{site_name:"",site_tagline:"",contact_email:"",contact_phone:"",address:"",facebook_url:"",twitter_url:"",linkedin_url:"",instagram_url:"",whatsapp_number:""},menuItems:[{id:1,label:"Home",url:"/"},{id:2,label:"Services",url:"/services"},{id:3,label:"Products",url:"/products"},{id:4,label:"Blog",url:"/blog"},{id:5,label:"Careers",url:"/careers"},{id:6,label:"About Us",url:"/about"},{id:7,label:"Contact",url:"/contact"}]}},async mounted(){await this.loadSettings(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{async loadSettings(){try{const e=(await this.$axios.get("/api/openapi/settings")).data;Object.keys(this.settings).forEach(l=>{e[l]!==void 0&&e[l]!==null&&(this.settings[l]=e[l])}),e.site_name&&(this.siteName=e.site_name),e.site_tagline&&(this.siteTagline=e.site_tagline),e.footer_description?this.footerDescription=e.footer_description:e.about_description&&(this.footerDescription=e.about_description),e.newsletter_description&&(this.newsletterDescription=e.newsletter_description)}catch(t){console.error("Error loading settings:",t)}await this.loadBrandingSettings()},async loadBrandingSettings(){try{const t=await this.$axios.get("/api/openapi/settings?group=branding");t.data&&t.data.logo&&(this.brandingLogo=t.data.logo)}catch(t){console.error("Error loading branding settings:",t)}},handleScroll(){this.isScrolled=window.scrollY>20}}};function Ze(t,e,l,u,o,n){const p=r("AppBar"),h=r("MobileDrawer"),w=r("AnnouncementsBanner"),f=r("router-view"),k=r("v-main"),A=r("Footer"),b=r("WhatsAppFloat"),v=r("GoToTopButton"),M=r("v-app");return d(),_(M,null,{default:a(()=>[i(p,{"is-scrolled":o.isScrolled,"site-name":o.siteName,"site-tagline":o.siteTagline,"menu-items":o.menuItems,logo:o.brandingLogo,onToggleDrawer:e[0]||(e[0]=x=>o.drawer=!o.drawer),onCloseDrawer:e[1]||(e[1]=x=>o.drawer=!1)},null,8,["is-scrolled","site-name","site-tagline","menu-items","logo"]),i(h,{modelValue:o.drawer,"onUpdate:modelValue":e[2]||(e[2]=x=>o.drawer=x),"site-name":o.siteName,"menu-items":o.menuItems,logo:o.brandingLogo},null,8,["modelValue","site-name","menu-items","logo"]),i(k,{class:"bg-grey-lighten-5"},{default:a(()=>[i(w),i(f)]),_:1}),i(A,{"site-name":o.siteName,"footer-description":o.footerDescription,"menu-items":o.menuItems,settings:o.settings,logo:o.brandingLogo,"newsletter-description":o.newsletterDescription},null,8,["site-name","footer-description","menu-items","settings","logo","newsletter-description"]),i(b),i(v)]),_:1})}const tt=T(Xe,[["render",Ze],["__scopeId","data-v-b5f46c57"]]);export{tt as default};
