import{_ as H,g as C,c as x,w as i,b as t,r as h,a as s,d as I,f as d,h as E,t as v,e as U,F as P,n as Q,o as m}from"./app-D_WvYKr6.js";import{a as j}from"./adminPaginationMixin-DN7Wb3ng.js";import{Q as J}from"./quill.snow-h-05RbcF.js";import{r as L,n as R}from"./uploads-CnEkgyD_.js";const X={name:"AboutFormDialog",mixins:[j],props:{modelValue:{type:Boolean,default:!1},aboutData:{type:Object,default:null}},emits:["update:modelValue","saved"],data(){return{activeTab:"hero",loading:!1,saving:!1,storyImageFile:null,storyImagePreview:null,uploadingStoryImage:!1,storyImageError:null,storyQuillEditor:null,ogImageFile:null,ogImagePreview:null,uploadingOgImage:!1,ogImageError:null,ogImageFile:null,ogImagePreview:null,uploadingOgImage:!1,form:{hero:{overline:"WHO WE ARE",title:"Empowering Your World",subtitle:"We are dedicated to providing reliable, efficient, and sustainable power solutions for businesses and homes across the globe."},story:{overline:"OUR STORY",title:"Decades of Excellence in Power Solutions",description:"",image:"",stats:[]},valuesTitle:"Our Core Values",valuesSubtitle:"The principles that guide every project we undertake.",values:[],teamOverline:"OUR TEAM",teamTitle:"Meet the Experts",team:[],meta_title:"",meta_description:"",meta_keywords:"",og_image:""}}},computed:{dialog:{get(){return this.modelValue},set(r){this.$emit("update:modelValue",r)}},suggestedMetaTitle(){return this.form.meta_title||!this.form.hero.title?null:this.form.hero.title.length>60?this.form.hero.title.substring(0,57)+"...":this.form.hero.title},suggestedMetaDescription(){if(this.form.meta_description)return null;let r=null;if(this.form.hero.subtitle?r=this.form.hero.subtitle:this.form.story.description&&(r=this.form.story.description.replace(/<[^>]*>/g,"").trim()),r&&r.length>160){r=r.substring(0,157);const e=r.lastIndexOf(" ");e>120?r=r.substring(0,e)+"...":r+="..."}return r},suggestedMetaKeywords(){return this.form.meta_keywords?null:this.generateSuggestedKeywords()}},watch:{modelValue(r){r?(this.activeTab="hero",this.aboutData?this.loadAboutForEdit():this.resetForm()):this.storyQuillEditor&&this.destroyStoryEditor()},aboutData:{handler(r){r&&this.dialog?this.loadAboutForEdit():!r&&this.dialog&&this.resetForm()},immediate:!1},activeTab(r){r==="story"&&this.dialog&&!this.loading?this.$nextTick(()=>{setTimeout(()=>{this.initStoryEditor()},300)}):r!=="story"&&this.storyQuillEditor&&this.destroyStoryEditor()}},methods:{resetForm(){this.storyQuillEditor&&this.destroyStoryEditor(),this.form={hero:{overline:"WHO WE ARE",title:"Empowering Your World",subtitle:"We are dedicated to providing reliable, efficient, and sustainable power solutions for businesses and homes across the globe."},story:{overline:"OUR STORY",title:"Decades of Excellence in Power Solutions",description:"",image:"",stats:[]},valuesTitle:"Our Core Values",valuesSubtitle:"The principles that guide every project we undertake.",values:[],teamOverline:"OUR TEAM",teamTitle:"Meet the Experts",team:[],meta_title:"",meta_description:"",meta_keywords:"",og_image:""},this.storyImageFile=null,this.storyImagePreview=null,this.storyImageError=null,this.ogImageFile=null,this.ogImagePreview=null,this.ogImageError=null},loadAboutForEdit(){if(!this.aboutData){this.resetForm();return}this.loading=!0;try{this.aboutData.hero&&(this.form.hero={...this.aboutData.hero}),this.aboutData.story&&(this.form.story={overline:this.aboutData.story.overline||"",title:this.aboutData.story.title||"",description:this.aboutData.story.description||"",image:this.aboutData.story.image||"",stats:this.aboutData.story.stats?[...this.aboutData.story.stats]:[]},this.form.story.image&&(this.storyImagePreview=this.resolveImageUrl(this.form.story.image))),this.form.valuesTitle=this.aboutData.valuesTitle||"Our Core Values",this.form.valuesSubtitle=this.aboutData.valuesSubtitle||"",this.form.values=this.aboutData.values?this.aboutData.values.map(r=>({title:r.title||"",description:r.description||r.desc||"",icon:r.icon||""})):[],this.form.teamOverline=this.aboutData.teamOverline||"OUR TEAM",this.form.teamTitle=this.aboutData.teamTitle||"Meet the Experts",this.form.team=this.aboutData.team?this.aboutData.team.map(r=>({name:r.name||"",role:r.role||"",image:r.image||"",linkedin:r.linkedin||"",twitter:r.twitter||"",imagePreview:r.image?this.resolveImageUrl(r.image):null,imageFile:null,uploadingImage:!1,imageError:null})):[],this.form.meta_title=this.aboutData.meta_title||"",this.form.meta_description=this.aboutData.meta_description||"",this.form.meta_keywords=this.aboutData.meta_keywords||"",this.form.og_image=this.aboutData.og_image||"",this.form.og_image&&(this.ogImagePreview=this.resolveImageUrl(this.form.og_image)),this.$nextTick(()=>{this.activeTab==="story"&&setTimeout(()=>{this.initStoryEditor()},500)})}catch(r){console.error("Error loading about data:",r),this.handleApiError(r,"Failed to load about content")}finally{this.loading=!1}},initStoryEditor(){this.storyQuillEditor&&this.destroyStoryEditor(),this.$nextTick(()=>{const r=this.$refs.storyEditorContainer;if(!(!r||this.activeTab!=="story"))try{r.innerHTML="",this.storyQuillEditor=new J(r,{theme:"snow",modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link"],["clean"]]},placeholder:"Enter story description..."});const e=this.form.story.description||"";e&&setTimeout(()=>{this.storyQuillEditor&&(this.storyQuillEditor.root.innerHTML=e)},100),this.storyQuillEditor.on("text-change",()=>{if(!this.storyQuillEditor)return;const u=this.storyQuillEditor.root.innerHTML.trim();u&&u!=="<p><br></p>"&&u!=="<p></p>"?this.form.story.description=this.storyQuillEditor.root.innerHTML:(!u||u==="<p><br></p>"||u==="<p></p>")&&(this.form.story.description="")}),this.storyQuillEditor.on("selection-change",()=>{if(!this.storyQuillEditor)return;const u=this.storyQuillEditor.root.innerHTML.trim();u&&u!=="<p><br></p>"&&u!=="<p></p>"&&(this.form.story.description=this.storyQuillEditor.root.innerHTML)})}catch(e){console.error("Error initializing Quill editor:",e),this.showError("Failed to initialize text editor")}})},destroyStoryEditor(){if(this.storyQuillEditor){try{if(this.storyQuillEditor.root&&this.storyQuillEditor.root.innerHTML){const r=this.storyQuillEditor.root.innerHTML.trim();r&&r!=="<p><br></p>"&&r!=="<p></p>"&&(this.form.story.description=this.storyQuillEditor.root.innerHTML)}}catch(r){console.error("Error saving editor content:",r)}try{this.storyQuillEditor=null,this.$refs.storyEditorContainer&&(this.$refs.storyEditorContainer.innerHTML="")}catch(r){console.error("Error destroying editor:",r),this.storyQuillEditor=null}}else this.$refs.storyEditorContainer&&(this.$refs.storyEditorContainer.innerHTML="")},handleStoryImageSelect(r){if(this.storyImageError=null,r){const e=Array.isArray(r)?r[0]:r;if(e&&e.size>5242880){this.storyImageError="Image file size must be less than 5MB",this.storyImageFile=null;return}if(e&&!e.type.startsWith("image/")){this.storyImageError="Please select a valid image file (jpeg, jpg, png, gif, webp)",this.storyImageFile=null;return}if(this.storyImageFile=e,e){const u=new FileReader;u.onload=f=>{this.storyImagePreview=f.target.result},u.onerror=()=>{this.showError("Failed to read image file"),this.storyImageFile=null,this.storyImagePreview=null},u.readAsDataURL(e)}else this.storyImagePreview=null}else this.storyImageFile=null,this.form.story.image?this.storyImagePreview=this.resolveImageUrl(this.form.story.image):this.storyImagePreview=null},removeStoryImage(){confirm("Are you sure you want to remove this image?")&&(this.storyImagePreview=null,this.storyImageFile=null,this.form.story.image="",this.storyImageError=null)},async uploadStoryImage(){var e,u,f,o,a,b;if(!this.storyImageFile)return null;const r=Array.isArray(this.storyImageFile)?this.storyImageFile[0]:this.storyImageFile;if(!r)return null;this.uploadingStoryImage=!0;try{const g=new FormData;g.append("image",r),g.append("folder","about");const c=await C.post("/api/v1/upload/image",g,{headers:{...this.getAuthHeaders(),"Content-Type":"multipart/form-data"}});if(c.data.success){const _=R(c.data.path||c.data.url);return this.form.story.image=_,this.storyImagePreview=L(c.data.url||_),this.storyImageFile=null,this.storyImageError=null,_}else throw new Error(c.data.message||"Failed to upload image")}catch(g){console.error("Error uploading story image:",g),console.error("Error response:",(e=g.response)==null?void 0:e.data);let c="Failed to upload image";if(((u=g.response)==null?void 0:u.status)===422){const _=g.response.data.errors;_&&_.image?c=Array.isArray(_.image)?_.image.join(", "):_.image:g.response.data.message&&(c=g.response.data.message)}else(o=(f=g.response)==null?void 0:f.data)!=null&&o.message?c=g.response.data.message:(b=(a=g.response)==null?void 0:a.data)!=null&&b.error?c=g.response.data.error:g.message&&(c=g.message);throw this.storyImageError=c,new Error(c)}finally{this.uploadingStoryImage=!1}},addStat(){this.form.story.stats.push({value:"",label:""})},removeStat(r){this.form.story.stats.splice(r,1)},addValue(){this.form.values.push({title:"",description:"",icon:"mdi-check-circle"})},removeValue(r){this.form.values.splice(r,1)},addTeamMember(){this.form.team.push({name:"",role:"",image:"",linkedin:"",twitter:"",imagePreview:null,imageFile:null,uploadingImage:!1,imageError:null})},removeTeamMember(r){this.form.team.splice(r,1)},handleTeamMemberImageSelect(r,e){if(this.form.team[e]&&(this.form.team[e].imageError=null),r){const u=Array.isArray(r)?r[0]:r;if(u&&u.size>5242880){this.form.team[e].imageError="Image file size must be less than 5MB",this.form.team[e].imageFile=null;return}if(u&&!u.type.startsWith("image/")){this.form.team[e].imageError="Please select a valid image file (jpeg, jpg, png, gif, webp)",this.form.team[e].imageFile=null;return}if(this.form.team[e].imageFile=u,u){const f=new FileReader;f.onload=o=>{this.form.team[e].imagePreview=o.target.result},f.onerror=()=>{this.showError("Failed to read image file"),this.form.team[e].imageFile=null,this.form.team[e].imagePreview=null},f.readAsDataURL(u)}else this.form.team[e].imagePreview=null}else this.form.team[e].imageFile=null,this.form.team[e].image?this.form.team[e].imagePreview=this.resolveImageUrl(this.form.team[e].image):this.form.team[e].imagePreview=null},removeTeamMemberImage(r){confirm("Are you sure you want to remove this image?")&&(this.form.team[r].imagePreview=null,this.form.team[r].imageFile=null,this.form.team[r].image="",this.form.team[r].imageError=null)},async uploadTeamMemberImage(r){var f,o,a,b,g,c,_,M;const e=this.form.team[r];if(!e.imageFile)return null;const u=Array.isArray(e.imageFile)?e.imageFile[0]:e.imageFile;if(!u)return null;e.uploadingImage=!0;try{const p=new FormData;p.append("image",u),p.append("folder","about/team"),e.name&&p.append("prefix",e.name);const n=await C.post("/api/v1/upload/image",p,{headers:{...this.getAuthHeaders(),"Content-Type":"multipart/form-data"}});if(n.status===200&&(n.data.success||n.data.path)){const k=R(n.data.path||n.data.url);return e.image=k,e.imagePreview=L(n.data.url||k),e.imageFile=null,e.imageError=null,k}else{const k=((f=n.data)==null?void 0:f.message)||((o=n.data)==null?void 0:o.error)||"Failed to upload image";throw new Error(k)}}catch(p){console.error("Error uploading team member image:",p),console.error("Error response:",(a=p.response)==null?void 0:a.data);let n="Failed to upload image";if(((b=p.response)==null?void 0:b.status)===422){const k=p.response.data.errors;k&&k.image?n=Array.isArray(k.image)?k.image.join(", "):k.image:p.response.data.message&&(n=p.response.data.message)}else(c=(g=p.response)==null?void 0:g.data)!=null&&c.message?n=p.response.data.message:(M=(_=p.response)==null?void 0:_.data)!=null&&M.error?n=p.response.data.error:p.message&&(n=p.message);throw e.imageError=n,new Error(n)}finally{e.uploadingImage=!1}},async saveAbout(){var e;if(!this.$refs.formRef){this.showError("Form reference not found");return}const{valid:r}=await this.$refs.formRef.validate();if(!r){this.showError("Please fill in all required fields");return}if(this.storyQuillEditor&&this.storyQuillEditor.root){const u=this.storyQuillEditor.root.innerHTML.trim();u&&u!=="<p><br></p>"&&u!=="<p></p>"?this.form.story.description=this.storyQuillEditor.root.innerHTML:this.form.story.description=""}this.saving=!0;try{if(this.storyImageFile)try{await this.uploadStoryImage()}catch(f){const o=f.message||"Failed to upload story image";this.showError(o),this.saving=!1;return}for(let f=0;f<this.form.team.length;f++)if(this.form.team[f].imageFile)try{await this.uploadTeamMemberImage(f)}catch(o){const a=o.message||`Failed to upload image for ${this.form.team[f].name||"team member"}`;this.showError(a),this.saving=!1;return}if(this.ogImageFile)try{await this.uploadOgImage()}catch(f){const o=f.message||"Failed to upload OG image";this.showError(o),this.saving=!1;return}const u={...this.form};try{await C.put("/api/v1/about",u,{headers:this.getAuthHeaders()}),this.showSuccess("About content saved successfully"),this.$emit("saved"),this.closeDialog()}catch(f){((e=f.response)==null?void 0:e.status)===404?(await C.post("/api/v1/about",u,{headers:this.getAuthHeaders()}),this.showSuccess("About content created successfully"),this.$emit("saved"),this.closeDialog()):this.handleApiError(f,"Failed to save about content")}}catch(u){this.handleApiError(u,"Failed to save about content")}finally{this.saving=!1}},generateMetaTitle(){this.form.hero.title&&(this.form.meta_title=this.form.hero.title.length>60?this.form.hero.title.substring(0,57)+"...":this.form.hero.title)},generateMetaDescription(){let r="";if(this.form.hero.subtitle?r=this.form.hero.subtitle:this.form.story.description&&(r=this.form.story.description.replace(/<[^>]*>/g,"").trim()),r){if(r.length>160){r=r.substring(0,157);const e=r.lastIndexOf(" ");e>120?r=r.substring(0,e)+"...":r+="..."}this.form.meta_description=r}},generateMetaKeywords(){const r=this.generateSuggestedKeywords();r&&(this.form.meta_keywords=r)},generateSuggestedKeywords(){const r=[];if(this.form.hero.title){const f=this.form.hero.title.toLowerCase().replace(/[^\w\s]/g," ").split(/\s+/).filter(o=>o.length>3).slice(0,5);r.push(...f)}if(this.form.hero.subtitle){const f=this.form.hero.subtitle.toLowerCase().replace(/[^\w\s]/g," ").split(/\s+/).filter(o=>o.length>4).slice(0,5);r.push(...f)}this.form.values&&this.form.values.length>0&&this.form.values.forEach(f=>{if(f.title){const o=f.title.toLowerCase().replace(/[^\w\s]/g," ").split(/\s+/).filter(a=>a.length>3).slice(0,2);r.push(...o)}});const e=["the","and","for","with","from","this","that","your","our","about","company","team"],u=[...new Set(r)].filter(f=>!e.includes(f)).slice(0,10);return u.length>0?u.join(", "):null},applySuggestedMetaTitle(){this.suggestedMetaTitle&&(this.form.meta_title=this.suggestedMetaTitle)},applySuggestedMetaDescription(){this.suggestedMetaDescription&&(this.form.meta_description=this.suggestedMetaDescription)},applySuggestedMetaKeywords(){this.suggestedMetaKeywords&&(this.form.meta_keywords=this.suggestedMetaKeywords)},getMetaTitleColor(){const r=this.form.meta_title?this.form.meta_title.length:0;return r===0?"grey":r<50?"warning":r>60?"error":"success"},getMetaDescriptionColor(){const r=this.form.meta_description?this.form.meta_description.length:0;return r===0?"grey":r<120?"warning":r>160?"error":"success"},getPreviewTitle(){return this.form.meta_title||this.form.hero.title||"About Us"},getPreviewDescription(){return this.form.meta_description||this.form.hero.subtitle||"Learn more about our company, our story, and our team..."},getPreviewUrl(){return window.location.origin+"/about"},handleOgImageSelect(r){if(this.ogImageError=null,r){const e=Array.isArray(r)?r[0]:r;if(e&&e.size>5242880){this.ogImageError="OG image file size must be less than 5MB",this.ogImageFile=null;return}if(e&&!e.type.startsWith("image/")){this.ogImageError="Please select a valid image file (jpeg, jpg, png, gif, webp)",this.ogImageFile=null;return}if(this.ogImageFile=e,e){const u=new FileReader;u.onload=f=>{this.ogImagePreview=f.target.result},u.onerror=()=>{this.showError("Failed to read image file"),this.ogImageFile=null,this.ogImagePreview=null},u.readAsDataURL(e)}else this.ogImagePreview=null}else this.ogImageFile=null,this.form.og_image?this.ogImagePreview=this.resolveImageUrl(this.form.og_image):this.ogImagePreview=null},removeOgImage(){confirm("Are you sure you want to remove the Open Graph image?")&&(this.ogImagePreview=null,this.ogImageFile=null,this.form.og_image="",this.ogImageError=null)},async uploadOgImage(){var e,u,f,o,a,b;if(!this.ogImageFile)return null;const r=Array.isArray(this.ogImageFile)?this.ogImageFile[0]:this.ogImageFile;if(!r)return null;this.uploadingOgImage=!0;try{const g=new FormData;g.append("image",r),g.append("folder","about/og");const c=await C.post("/api/v1/upload/image",g,{headers:{...this.getAuthHeaders(),"Content-Type":"multipart/form-data"}});if(c.data.success){const _=R(c.data.path||c.data.url);return this.form.og_image=_,this.ogImagePreview=L(c.data.url||_),this.ogImageFile=null,this.ogImageError=null,_}else throw new Error(c.data.message||"Failed to upload OG image")}catch(g){console.error("Error uploading OG image:",g),console.error("Error response:",(e=g.response)==null?void 0:e.data);let c="Failed to upload OG image";if(((u=g.response)==null?void 0:u.status)===422){const _=g.response.data.errors;_&&_.image?c=Array.isArray(_.image)?_.image.join(", "):_.image:g.response.data.message&&(c=g.response.data.message)}else(o=(f=g.response)==null?void 0:f.data)!=null&&o.message?c=g.response.data.message:(b=(a=g.response)==null?void 0:a.data)!=null&&b.error?c=g.response.data.error:g.message&&(c=g.message);throw this.ogImageError=c,new Error(c)}finally{this.uploadingOgImage=!1}},closeDialog(){this.storyQuillEditor&&this.destroyStoryEditor(),this.dialog=!1},resolveImageUrl(r){return L(r)}},beforeUnmount(){this.storyQuillEditor&&this.destroyStoryEditor()}},Z={key:0,class:"d-flex align-center justify-center pa-12"},$={class:"text-center"},ee={class:"pa-6"},te={class:"pa-6"},oe={class:"rich-text-editor-wrapper"},ie={ref:"storyEditorContainer",class:"rich-text-editor"},re={class:"d-flex flex-column flex-md-row align-start"},se={key:0,class:"mr-md-4 mb-4 mb-md-0"},le={class:"mt-2"},ae={class:"flex-grow-1"},ne={class:"text-body-2"},me={key:2,class:"text-caption text-medium-emphasis mt-2"},de={class:"d-flex justify-space-between align-center mb-2"},ue={class:"pa-6"},ge={class:"d-flex justify-space-between align-center mb-2"},ce={class:"pa-6"},pe={class:"d-flex justify-space-between align-center mb-2"},fe={class:"d-flex flex-column flex-md-row align-start"},he={key:0,class:"mr-md-4 mb-4 mb-md-0"},ve={class:"mt-2"},ye={class:"flex-grow-1"},_e={class:"text-body-2"},be={key:2,class:"text-caption text-medium-emphasis mt-2"},we={class:"pa-6"},Ie={class:"d-flex align-center justify-space-between"},Ee={class:"text-body-2"},xe={key:0,class:"ml-2"},ke={key:1,class:"ml-2"},Ve={key:2,class:"ml-2 text-success"},Te={class:"d-flex align-center justify-space-between flex-wrap"},De={class:"text-body-2 mb-2"},Se={key:0,class:"ml-2"},Fe={key:1,class:"ml-2"},Me={key:2,class:"ml-2 text-success"},Ae={class:"d-flex align-center justify-space-between flex-wrap"},Ce={class:"text-body-2 mb-2"},Ue={class:"text-caption text-medium-emphasis"},Pe={class:"d-flex flex-column flex-md-row align-start"},Oe={key:0,class:"mr-md-4 mb-4 mb-md-0"},ze={class:"mt-2"},Le={class:"flex-grow-1"},Qe={class:"text-body-2"},Re={key:2,class:"text-caption text-medium-emphasis mt-2"},He={class:"search-preview"},je={class:"search-url mb-1 text-caption",style:{color:"#006621"}};function Ne(r,e,u,f,o,a){const b=h("v-btn"),g=h("v-card-title"),c=h("v-progress-circular"),_=h("v-tab"),M=h("v-tabs"),p=h("v-text-field"),n=h("v-col"),k=h("v-textarea"),D=h("v-row"),S=h("v-window-item"),A=h("v-label"),O=h("v-img"),z=h("v-file-input"),w=h("v-alert"),V=h("v-card"),F=h("v-divider"),N=h("v-icon"),W=h("v-window"),B=h("v-form"),K=h("v-card-text"),G=h("v-spacer"),q=h("v-card-actions"),Y=h("v-dialog");return m(),x(Y,{modelValue:a.dialog,"onUpdate:modelValue":e[18]||(e[18]=l=>a.dialog=l),"max-width":"1400",scrollable:"",persistent:""},{default:i(()=>[t(V,null,{default:i(()=>[t(g,{class:"d-flex align-center justify-space-between bg-primary text-white pa-4"},{default:i(()=>[e[19]||(e[19]=s("span",{class:"text-h5 font-weight-bold"},"Edit About Page Content",-1)),t(b,{icon:"mdi-close",variant:"text",color:"white",onClick:a.closeDialog,disabled:o.saving||o.loading},null,8,["onClick","disabled"])]),_:1,__:[19]}),t(K,{class:"pa-0"},{default:i(()=>[o.loading?(m(),I("div",Z,[s("div",$,[t(c,{indeterminate:"",color:"primary",size:"64"}),e[20]||(e[20]=s("p",{class:"text-body-1 text-medium-emphasis mt-4"},"Loading about content...",-1))])])):(m(),x(B,{key:1,ref:"formRef"},{default:i(()=>[t(M,{modelValue:o.activeTab,"onUpdate:modelValue":e[0]||(e[0]=l=>o.activeTab=l),"bg-color":"grey-lighten-4"},{default:i(()=>[t(_,{value:"hero"},{default:i(()=>e[21]||(e[21]=[d("Hero Section")])),_:1,__:[21]}),t(_,{value:"story"},{default:i(()=>e[22]||(e[22]=[d("Our Story")])),_:1,__:[22]}),t(_,{value:"values"},{default:i(()=>e[23]||(e[23]=[d("Core Values")])),_:1,__:[23]}),t(_,{value:"team"},{default:i(()=>e[24]||(e[24]=[d("Team")])),_:1,__:[24]}),t(_,{value:"seo"},{default:i(()=>e[25]||(e[25]=[d("SEO & Meta")])),_:1,__:[25]})]),_:1},8,["modelValue"]),t(W,{modelValue:o.activeTab,"onUpdate:modelValue":e[17]||(e[17]=l=>o.activeTab=l)},{default:i(()=>[t(S,{value:"hero"},{default:i(()=>[s("div",ee,[t(D,null,{default:i(()=>[t(n,{cols:"12"},{default:i(()=>[t(p,{modelValue:o.form.hero.overline,"onUpdate:modelValue":e[1]||(e[1]=l=>o.form.hero.overline=l),label:"Hero Overline",variant:"outlined",hint:"Small text above the title (e.g., 'WHO WE ARE')","persistent-hint":""},null,8,["modelValue"])]),_:1}),t(n,{cols:"12"},{default:i(()=>[t(p,{modelValue:o.form.hero.title,"onUpdate:modelValue":e[2]||(e[2]=l=>o.form.hero.title=l),label:"Hero Title *",variant:"outlined",rules:[l=>!!l||"Title is required"],hint:"Main heading for the hero section","persistent-hint":""},null,8,["modelValue","rules"])]),_:1}),t(n,{cols:"12"},{default:i(()=>[t(k,{modelValue:o.form.hero.subtitle,"onUpdate:modelValue":e[3]||(e[3]=l=>o.form.hero.subtitle=l),label:"Hero Subtitle *",variant:"outlined",rows:"3",rules:[l=>!!l||"Subtitle is required"],hint:"Subtitle text below the main title","persistent-hint":""},null,8,["modelValue","rules"])]),_:1})]),_:1})])]),_:1}),t(S,{value:"story"},{default:i(()=>[s("div",te,[t(D,null,{default:i(()=>[t(n,{cols:"12"},{default:i(()=>[t(p,{modelValue:o.form.story.overline,"onUpdate:modelValue":e[4]||(e[4]=l=>o.form.story.overline=l),label:"Story Overline",variant:"outlined",hint:"Small text above the story title","persistent-hint":""},null,8,["modelValue"])]),_:1}),t(n,{cols:"12"},{default:i(()=>[t(p,{modelValue:o.form.story.title,"onUpdate:modelValue":e[5]||(e[5]=l=>o.form.story.title=l),label:"Story Title",variant:"outlined",hint:"Main heading for the story section","persistent-hint":""},null,8,["modelValue"])]),_:1}),t(n,{cols:"12"},{default:i(()=>[t(A,{class:"mb-2"},{default:i(()=>e[26]||(e[26]=[d("Story Description")])),_:1,__:[26]}),s("div",oe,[s("div",ie,null,512)])]),_:1}),t(n,{cols:"12"},{default:i(()=>[t(A,{class:"mb-2"},{default:i(()=>e[27]||(e[27]=[d("Story Image")])),_:1,__:[27]}),t(V,{variant:"outlined",class:"pa-4"},{default:i(()=>[s("div",re,[o.storyImagePreview||o.form.story.image?(m(),I("div",se,[t(O,{src:o.storyImagePreview||a.resolveImageUrl(o.form.story.image),"max-width":"300","max-height":"300",class:"rounded elevation-2",cover:""},null,8,["src"]),s("div",le,[t(b,{color:"error",size:"small",variant:"text",onClick:a.removeStoryImage,"prepend-icon":"mdi-delete"},{default:i(()=>e[28]||(e[28]=[d(" Remove Image ")])),_:1,__:[28]},8,["onClick"])])])):E("",!0),s("div",ae,[t(z,{modelValue:o.storyImageFile,"onUpdate:modelValue":[e[6]||(e[6]=l=>o.storyImageFile=l),a.handleStoryImageSelect],accept:"image/*",label:"Select Story Image",variant:"outlined","prepend-icon":"","prepend-inner-icon":"mdi-image","show-size":"",clearable:"",hint:"Recommended size: 800x500px. Max file size: 5MB","persistent-hint":""},{append:i(()=>[o.uploadingStoryImage?(m(),x(c,{key:0,indeterminate:"",color:"primary",size:"24"})):E("",!0)]),_:1},8,["modelValue","onUpdate:modelValue"]),o.storyImageFile&&o.storyImageFile.size>5242880?(m(),x(w,{key:0,type:"warning",variant:"tonal",density:"compact",class:"mt-2"},{default:i(()=>e[29]||(e[29]=[d(" File size is larger than 5MB. Please choose a smaller image. ")])),_:1,__:[29]})):E("",!0),o.storyImageError?(m(),x(w,{key:1,type:"error",variant:"tonal",density:"compact",class:"mt-2",closable:"","onClick:close":e[7]||(e[7]=l=>o.storyImageError=null)},{default:i(()=>[s("div",ne,[e[30]||(e[30]=s("strong",null,"Upload Error:",-1)),d(" "+v(o.storyImageError),1)])]),_:1})):E("",!0),!o.storyImagePreview&&!o.storyImageFile&&!o.form.story.image?(m(),I("div",me," No image selected. Upload an image to display with the story section. ")):E("",!0)])])]),_:1})]),_:1}),t(n,{cols:"12"},{default:i(()=>[t(F,{class:"my-4"}),e[32]||(e[32]=s("h3",{class:"text-h6 font-weight-bold mb-4"},"Statistics",-1)),(m(!0),I(P,null,U(o.form.story.stats,(l,T)=>(m(),I("div",{key:T,class:"mb-4"},[t(V,{variant:"outlined",class:"pa-4"},{default:i(()=>[s("div",de,[s("strong",null,"Stat "+v(T+1),1),t(b,{icon:"mdi-delete",size:"small",variant:"text",color:"error",onClick:y=>a.removeStat(T)},null,8,["onClick"])]),t(D,null,{default:i(()=>[t(n,{cols:"12",md:"6"},{default:i(()=>[t(p,{modelValue:l.value,"onUpdate:modelValue":y=>l.value=y,label:"Value",variant:"outlined",hint:"e.g., 15+, 500+","persistent-hint":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(n,{cols:"12",md:"6"},{default:i(()=>[t(p,{modelValue:l.label,"onUpdate:modelValue":y=>l.label=y,label:"Label",variant:"outlined",hint:"e.g., Years Experience","persistent-hint":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128)),t(b,{color:"primary",variant:"outlined","prepend-icon":"mdi-plus",onClick:a.addStat},{default:i(()=>e[31]||(e[31]=[d("Add Statistic")])),_:1,__:[31]},8,["onClick"])]),_:1,__:[32]})]),_:1})])]),_:1}),t(S,{value:"values"},{default:i(()=>[s("div",ue,[t(D,null,{default:i(()=>[t(n,{cols:"12"},{default:i(()=>[t(p,{modelValue:o.form.valuesTitle,"onUpdate:modelValue":e[8]||(e[8]=l=>o.form.valuesTitle=l),label:"Values Section Title",variant:"outlined",hint:"Main heading for the values section","persistent-hint":""},null,8,["modelValue"])]),_:1}),t(n,{cols:"12"},{default:i(()=>[t(k,{modelValue:o.form.valuesSubtitle,"onUpdate:modelValue":e[9]||(e[9]=l=>o.form.valuesSubtitle=l),label:"Values Section Subtitle",variant:"outlined",rows:"2",hint:"Subtitle text for the values section","persistent-hint":""},null,8,["modelValue"])]),_:1}),t(n,{cols:"12"},{default:i(()=>[t(F,{class:"my-4"}),e[34]||(e[34]=s("h3",{class:"text-h6 font-weight-bold mb-4"},"Core Values",-1)),(m(!0),I(P,null,U(o.form.values,(l,T)=>(m(),I("div",{key:T,class:"mb-4"},[t(V,{variant:"outlined",class:"pa-4"},{default:i(()=>[s("div",ge,[s("strong",null,"Value "+v(T+1),1),t(b,{icon:"mdi-delete",size:"small",variant:"text",color:"error",onClick:y=>a.removeValue(T)},null,8,["onClick"])]),t(D,null,{default:i(()=>[t(n,{cols:"12",md:"6"},{default:i(()=>[t(p,{modelValue:l.title,"onUpdate:modelValue":y=>l.title=y,label:"Title *",variant:"outlined",rules:[y=>!!y||"Title is required"],hint:"Value title","persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),t(n,{cols:"12",md:"6"},{default:i(()=>[t(p,{modelValue:l.icon,"onUpdate:modelValue":y=>l.icon=y,label:"Icon",variant:"outlined",hint:"Material Design Icon name (e.g., mdi-shield-check)","persistent-hint":"","prepend-inner-icon":"mdi-information-outline"},{append:i(()=>[l.icon?(m(),x(N,{key:0,icon:l.icon,size:"small"},null,8,["icon"])):E("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(n,{cols:"12"},{default:i(()=>[t(k,{modelValue:l.description,"onUpdate:modelValue":y=>l.description=y,label:"Description *",variant:"outlined",rows:"3",rules:[y=>!!y||"Description is required"],hint:"Value description","persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128)),t(b,{color:"primary",variant:"outlined","prepend-icon":"mdi-plus",onClick:a.addValue},{default:i(()=>e[33]||(e[33]=[d("Add Value")])),_:1,__:[33]},8,["onClick"])]),_:1,__:[34]})]),_:1})])]),_:1}),t(S,{value:"team"},{default:i(()=>[s("div",ce,[t(D,null,{default:i(()=>[t(n,{cols:"12"},{default:i(()=>[t(p,{modelValue:o.form.teamOverline,"onUpdate:modelValue":e[10]||(e[10]=l=>o.form.teamOverline=l),label:"Team Section Overline",variant:"outlined",hint:"Small text above the team title","persistent-hint":""},null,8,["modelValue"])]),_:1}),t(n,{cols:"12"},{default:i(()=>[t(p,{modelValue:o.form.teamTitle,"onUpdate:modelValue":e[11]||(e[11]=l=>o.form.teamTitle=l),label:"Team Section Title",variant:"outlined",hint:"Main heading for the team section","persistent-hint":""},null,8,["modelValue"])]),_:1}),t(n,{cols:"12"},{default:i(()=>[t(F,{class:"my-4"}),e[40]||(e[40]=s("h3",{class:"text-h6 font-weight-bold mb-4"},"Team Members",-1)),(m(!0),I(P,null,U(o.form.team,(l,T)=>(m(),I("div",{key:T,class:"mb-4"},[t(V,{variant:"outlined",class:"pa-4"},{default:i(()=>[s("div",pe,[s("strong",null,"Team Member "+v(T+1),1),t(b,{icon:"mdi-delete",size:"small",variant:"text",color:"error",onClick:y=>a.removeTeamMember(T)},null,8,["onClick"])]),t(D,null,{default:i(()=>[t(n,{cols:"12",md:"6"},{default:i(()=>[t(p,{modelValue:l.name,"onUpdate:modelValue":y=>l.name=y,label:"Name *",variant:"outlined",rules:[y=>!!y||"Name is required"],hint:"Team member name","persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),t(n,{cols:"12",md:"6"},{default:i(()=>[t(p,{modelValue:l.role,"onUpdate:modelValue":y=>l.role=y,label:"Role *",variant:"outlined",rules:[y=>!!y||"Role is required"],hint:"Team member role","persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),t(n,{cols:"12"},{default:i(()=>[t(A,{class:"mb-2"},{default:i(()=>e[35]||(e[35]=[d("Member Image")])),_:1,__:[35]}),t(V,{variant:"outlined",class:"pa-4"},{default:i(()=>[s("div",fe,[l.imagePreview||l.image?(m(),I("div",he,[t(O,{src:l.imagePreview||a.resolveImageUrl(l.image),"max-width":"150","max-height":"150",class:"rounded elevation-2",cover:""},null,8,["src"]),s("div",ve,[t(b,{color:"error",size:"small",variant:"text",onClick:y=>a.removeTeamMemberImage(T),"prepend-icon":"mdi-delete"},{default:i(()=>e[36]||(e[36]=[d(" Remove Image ")])),_:2,__:[36]},1032,["onClick"])])])):E("",!0),s("div",ye,[t(z,{ref_for:!0,ref:`teamImageFile_${T}`,"onUpdate:modelValue":y=>a.handleTeamMemberImageSelect(y,T),accept:"image/*",label:"Select Team Member Image",variant:"outlined","prepend-icon":"","prepend-inner-icon":"mdi-image","show-size":"",clearable:"",hint:"Recommended: Square image. Max file size: 5MB","persistent-hint":""},{append:i(()=>[l.uploadingImage?(m(),x(c,{key:0,indeterminate:"",color:"primary",size:"24"})):E("",!0)]),_:2},1032,["onUpdate:modelValue"]),l.imageFile&&l.imageFile.size>5242880?(m(),x(w,{key:0,type:"warning",variant:"tonal",density:"compact",class:"mt-2"},{default:i(()=>e[37]||(e[37]=[d(" File size is larger than 5MB. Please choose a smaller image. ")])),_:1,__:[37]})):E("",!0),l.imageError?(m(),x(w,{key:1,type:"error",variant:"tonal",density:"compact",class:"mt-2",closable:"","onClick:close":y=>l.imageError=null},{default:i(()=>[s("div",_e,[e[38]||(e[38]=s("strong",null,"Upload Error:",-1)),d(" "+v(l.imageError),1)])]),_:2},1032,["onClick:close"])):E("",!0),!l.imagePreview&&!l.imageFile&&!l.image?(m(),I("div",be," No image selected. Upload an image to display with this team member. ")):E("",!0)])])]),_:2},1024)]),_:2},1024),t(n,{cols:"12",md:"6"},{default:i(()=>[t(p,{modelValue:l.linkedin,"onUpdate:modelValue":y=>l.linkedin=y,label:"LinkedIn URL",variant:"outlined",hint:"Optional LinkedIn profile URL","persistent-hint":"","prepend-inner-icon":"mdi-linkedin"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(n,{cols:"12",md:"6"},{default:i(()=>[t(p,{modelValue:l.twitter,"onUpdate:modelValue":y=>l.twitter=y,label:"Twitter URL",variant:"outlined",hint:"Optional Twitter profile URL","persistent-hint":"","prepend-inner-icon":"mdi-twitter"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128)),t(b,{color:"primary",variant:"outlined","prepend-icon":"mdi-plus",onClick:a.addTeamMember},{default:i(()=>e[39]||(e[39]=[d("Add Team Member")])),_:1,__:[39]},8,["onClick"])]),_:1,__:[40]})]),_:1})])]),_:1}),t(S,{value:"seo"},{default:i(()=>[s("div",we,[t(w,{type:"info",variant:"tonal",class:"mb-6",density:"compact"},{default:i(()=>e[41]||(e[41]=[s("div",{class:"text-body-2"},[s("strong",null,"SEO Best Practices:"),d(" Fill in these fields to improve your about page visibility in search engines and social media. If left empty, default values from the page content will be used. ")],-1)])),_:1,__:[41]}),t(D,null,{default:i(()=>[t(n,{cols:"12"},{default:i(()=>[t(p,{modelValue:o.form.meta_title,"onUpdate:modelValue":e[12]||(e[12]=l=>o.form.meta_title=l),label:"Meta Title",variant:"outlined",hint:"SEO title for search engines (recommended: 50-60 characters)","persistent-hint":"",counter:60,color:a.getMetaTitleColor(),"prepend-inner-icon":"mdi-format-title"},{append:i(()=>[t(b,{icon:"mdi-refresh",size:"small",variant:"text",onClick:a.generateMetaTitle,disabled:!o.form.hero.title,title:"Auto-generate from hero title"},null,8,["onClick","disabled"])]),_:1},8,["modelValue","color"]),!o.form.meta_title&&a.suggestedMetaTitle?(m(),x(w,{key:0,type:"info",variant:"tonal",density:"compact",class:"mt-2",closable:""},{default:i(()=>[s("div",Ie,[s("span",Ee,[e[42]||(e[42]=s("strong",null,"Suggested:",-1)),d(" "+v(a.suggestedMetaTitle),1)]),t(b,{size:"small",color:"primary",variant:"text",onClick:a.applySuggestedMetaTitle,class:"ml-2"},{default:i(()=>e[43]||(e[43]=[d(" Apply ")])),_:1,__:[43]},8,["onClick"])])]),_:1})):E("",!0),s("div",{class:Q(["text-caption",a.getMetaTitleColor()+"--text"])},[d(v((o.form.meta_title||"").length)+"/60 characters ",1),(o.form.meta_title||"").length<50&&o.form.meta_title?(m(),I("span",xe," (Too short - recommended: 50-60) ")):(o.form.meta_title||"").length>60?(m(),I("span",ke," (Too long - may be truncated) ")):o.form.meta_title?(m(),I("span",Ve,"✓ Good length")):E("",!0)],2)]),_:1}),t(n,{cols:"12"},{default:i(()=>[t(k,{modelValue:o.form.meta_description,"onUpdate:modelValue":e[13]||(e[13]=l=>o.form.meta_description=l),label:"Meta Description",variant:"outlined",rows:"4",hint:"SEO description for search results (recommended: 150-160 characters)","persistent-hint":"",counter:160,color:a.getMetaDescriptionColor(),"prepend-inner-icon":"mdi-text"},{append:i(()=>[t(b,{icon:"mdi-refresh",size:"small",variant:"text",onClick:a.generateMetaDescription,disabled:!o.form.hero.subtitle&&!o.form.story.description,title:"Auto-generate from hero subtitle or story description"},null,8,["onClick","disabled"])]),_:1},8,["modelValue","color"]),!o.form.meta_description&&a.suggestedMetaDescription?(m(),x(w,{key:0,type:"info",variant:"tonal",density:"compact",class:"mt-2",closable:""},{default:i(()=>[s("div",Te,[s("span",De,[e[44]||(e[44]=s("strong",null,"Suggested:",-1)),d(" "+v(a.suggestedMetaDescription),1)]),t(b,{size:"small",color:"primary",variant:"text",onClick:a.applySuggestedMetaDescription},{default:i(()=>e[45]||(e[45]=[d(" Apply ")])),_:1,__:[45]},8,["onClick"])])]),_:1})):E("",!0),s("div",{class:Q(["text-caption",a.getMetaDescriptionColor()+"--text"])},[d(v((o.form.meta_description||"").length)+"/160 characters ",1),(o.form.meta_description||"").length<120&&o.form.meta_description?(m(),I("span",Se," (Too short - recommended: 150-160) ")):(o.form.meta_description||"").length>160?(m(),I("span",Fe," (Too long - may be truncated) ")):o.form.meta_description?(m(),I("span",Me,"✓ Good length")):E("",!0)],2)]),_:1}),t(n,{cols:"12"},{default:i(()=>[t(p,{modelValue:o.form.meta_keywords,"onUpdate:modelValue":e[14]||(e[14]=l=>o.form.meta_keywords=l),label:"Meta Keywords",variant:"outlined",hint:"Comma-separated keywords for SEO (e.g., about us, company history, team)","persistent-hint":"","prepend-inner-icon":"mdi-tag-multiple"},{append:i(()=>[t(b,{icon:"mdi-auto-fix",size:"small",variant:"text",onClick:a.generateMetaKeywords,disabled:!o.form.hero.title&&!o.form.values.length,title:"Auto-generate from hero title and values"},null,8,["onClick","disabled"])]),_:1},8,["modelValue"]),!o.form.meta_keywords&&a.suggestedMetaKeywords?(m(),x(w,{key:0,type:"info",variant:"tonal",density:"compact",class:"mt-2",closable:""},{default:i(()=>[s("div",Ae,[s("span",Ce,[e[46]||(e[46]=s("strong",null,"Suggested:",-1)),d(" "+v(a.suggestedMetaKeywords),1)]),t(b,{size:"small",color:"primary",variant:"text",onClick:a.applySuggestedMetaKeywords},{default:i(()=>e[47]||(e[47]=[d(" Apply ")])),_:1,__:[47]},8,["onClick"])])]),_:1})):E("",!0),s("div",Ue,v((o.form.meta_keywords||"").split(",").filter(l=>l.trim()).length)+" keywords entered ",1)]),_:1}),t(n,{cols:"12"},{default:i(()=>[t(F,{class:"my-4"}),e[48]||(e[48]=s("h3",{class:"text-h6 font-weight-bold mb-4"},"Open Graph (Social Media)",-1)),e[49]||(e[49]=s("p",{class:"text-body-2 text-medium-emphasis mb-4"}," This image will be displayed when your about page is shared on social media platforms like Facebook, Twitter, LinkedIn, etc. ",-1))]),_:1,__:[48,49]}),t(n,{cols:"12"},{default:i(()=>[t(A,{class:"mb-2"},{default:i(()=>e[50]||(e[50]=[d("Open Graph Image")])),_:1,__:[50]}),t(V,{variant:"outlined",class:"pa-4"},{default:i(()=>[s("div",Pe,[o.ogImagePreview||o.form.og_image?(m(),I("div",Oe,[t(O,{src:o.ogImagePreview||a.resolveImageUrl(o.form.og_image),"max-width":"300","max-height":"300",class:"rounded elevation-2",cover:""},null,8,["src"]),s("div",ze,[t(b,{color:"error",size:"small",variant:"text",onClick:a.removeOgImage,"prepend-icon":"mdi-delete"},{default:i(()=>e[51]||(e[51]=[d(" Remove Image ")])),_:1,__:[51]},8,["onClick"])]),e[52]||(e[52]=s("div",{class:"text-caption text-medium-emphasis mt-2"}," Recommended: 1200x630px (1.91:1 ratio) ",-1))])):E("",!0),s("div",Le,[t(z,{modelValue:o.ogImageFile,"onUpdate:modelValue":[e[15]||(e[15]=l=>o.ogImageFile=l),a.handleOgImageSelect],accept:"image/*",label:"Select Open Graph Image",variant:"outlined","prepend-icon":"","prepend-inner-icon":"mdi-image","show-size":"",clearable:"",hint:"Recommended size: 1200x630px. Max file size: 5MB","persistent-hint":""},{append:i(()=>[o.uploadingOgImage?(m(),x(c,{key:0,indeterminate:"",color:"primary",size:"24"})):E("",!0)]),_:1},8,["modelValue","onUpdate:modelValue"]),o.ogImageFile&&o.ogImageFile.size>5242880?(m(),x(w,{key:0,type:"warning",variant:"tonal",density:"compact",class:"mt-2"},{default:i(()=>e[53]||(e[53]=[d(" File size is larger than 5MB. Please choose a smaller image. ")])),_:1,__:[53]})):E("",!0),o.ogImageError?(m(),x(w,{key:1,type:"error",variant:"tonal",density:"compact",class:"mt-2",closable:"","onClick:close":e[16]||(e[16]=l=>o.ogImageError=null)},{default:i(()=>[s("div",Qe,[e[54]||(e[54]=s("strong",null,"Upload Error:",-1)),d(" "+v(o.ogImageError),1)])]),_:1})):E("",!0),!o.ogImagePreview&&!o.ogImageFile&&!o.form.og_image?(m(),I("div",Re," No image selected. If not provided, the story image will be used. ")):E("",!0)])])]),_:1})]),_:1}),t(n,{cols:"12"},{default:i(()=>[t(F,{class:"my-4"}),e[55]||(e[55]=s("h3",{class:"text-h6 font-weight-bold mb-4"},"Search Engine Preview",-1)),t(V,{variant:"outlined",class:"pa-4"},{default:i(()=>[s("div",He,[s("div",je,v(a.getPreviewUrl()),1),s("div",{class:Q(["search-title mb-1 text-h6",a.getMetaTitleColor()+"--text"]),style:{color:"#1a0dab",cursor:"pointer"}},v(a.getPreviewTitle()),3),s("div",{class:Q(["search-description text-body-2",a.getMetaDescriptionColor()+"--text"]),style:{color:"#545454"}},v(a.getPreviewDescription()),3)])]),_:1})]),_:1,__:[55]})]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1},512))]),_:1}),t(q,{class:"pa-4 bg-grey-lighten-4"},{default:i(()=>[t(G),t(b,{variant:"text",onClick:a.closeDialog,disabled:o.saving},{default:i(()=>e[56]||(e[56]=[d("Cancel")])),_:1,__:[56]},8,["onClick","disabled"]),t(b,{color:"primary",variant:"flat",onClick:a.saveAbout,loading:o.saving},{default:i(()=>e[57]||(e[57]=[d(" Save About Content ")])),_:1,__:[57]},8,["onClick","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const We=H(X,[["render",Ne],["__scopeId","data-v-c483bb74"]]),Be={components:{AboutFormDialog:We},mixins:[j],data(){return{aboutData:null,showDialog:!1,loading:!1,error:null}},async mounted(){await this.loadAboutData()},methods:{async loadAboutData(){var r;this.loading=!0,this.error=null;try{const e=await C.get("/api/v1/about",{headers:this.getAuthHeaders()});this.aboutData=e.data||null}catch(e){console.error("Error loading about data:",e),((r=e.response)==null?void 0:r.status)===404?this.aboutData=null:(this.error="Failed to load about content",this.handleApiError(e,"Failed to load about content"))}finally{this.loading=!1}},openDialog(){this.showDialog=!0},handleAboutSaved(){this.loadAboutData()},resolveImageUrl(r){return L(r)}}},Ke={class:"page-header"},Ge={key:0,class:"text-center py-8"},qe={key:2,class:"about-preview"},Ye={class:"mb-2"},Je={class:"mb-2"},Xe={class:"mb-2"},Ze={class:"mb-2"},$e={class:"mb-2"},et=["innerHTML"],tt={key:0,class:"mt-2"},ot={class:"d-flex gap-4 mt-2"},it={key:1,class:"mt-2"},rt={class:"mb-2"},st={class:"mb-2"},lt={class:"mt-4"},at={class:"d-flex align-center mb-2"},nt={class:"text-body-2 text-medium-emphasis"},mt={class:"mb-2"},dt={class:"mb-2"},ut={class:"mt-4"},gt={class:"font-weight-bold"},ct={class:"text-caption text-primary"};function pt(r,e,u,f,o,a){const b=h("v-btn"),g=h("v-chip"),c=h("v-card-title"),_=h("v-progress-circular"),M=h("v-alert"),p=h("v-icon"),n=h("v-card-text"),k=h("v-card"),D=h("v-img"),S=h("v-col"),A=h("v-row"),O=h("v-avatar"),z=h("AboutFormDialog");return m(),I("div",null,[s("div",Ke,[e[3]||(e[3]=s("h1",{class:"text-h4 page-title"},"About Page Management",-1)),t(b,{color:"primary","prepend-icon":"mdi-pencil",onClick:e[0]||(e[0]=w=>a.openDialog()),class:"add-button"},{default:i(()=>e[2]||(e[2]=[d(" Edit About Content ")])),_:1,__:[2]})]),t(k,{class:"mb-4"},{default:i(()=>[t(c,{class:"d-flex justify-space-between align-center"},{default:i(()=>[e[6]||(e[6]=s("span",null,"About Page Content",-1)),o.aboutData?(m(),x(g,{key:0,color:"success",size:"small"},{default:i(()=>e[4]||(e[4]=[d(" Content Loaded ")])),_:1,__:[4]})):(m(),x(g,{key:1,color:"warning",size:"small"},{default:i(()=>e[5]||(e[5]=[d(" No Content ")])),_:1,__:[5]}))]),_:1,__:[6]}),t(n,null,{default:i(()=>[o.loading?(m(),I("div",Ge,[t(_,{indeterminate:"",color:"primary",size:"48"}),e[7]||(e[7]=s("p",{class:"mt-4 text-body-2"},"Loading about content...",-1))])):o.error?(m(),x(M,{key:1,type:"error",variant:"tonal",class:"mb-4"},{default:i(()=>[d(v(o.error),1)]),_:1})):o.aboutData?(m(),I("div",qe,[t(k,{variant:"outlined",class:"mb-4"},{default:i(()=>[t(c,{class:"bg-primary text-white"},{default:i(()=>[t(p,{icon:"mdi-image-text",class:"mr-2"}),e[8]||(e[8]=d(" Hero Section "))]),_:1,__:[8]}),t(n,null,{default:i(()=>{var w,V,F;return[s("div",Ye,[e[9]||(e[9]=s("strong",null,"Overline:",-1)),d(" "+v(((w=o.aboutData.hero)==null?void 0:w.overline)||"N/A"),1)]),s("div",Je,[e[10]||(e[10]=s("strong",null,"Title:",-1)),d(" "+v(((V=o.aboutData.hero)==null?void 0:V.title)||"N/A"),1)]),s("div",null,[e[11]||(e[11]=s("strong",null,"Subtitle:",-1)),d(" "+v(((F=o.aboutData.hero)==null?void 0:F.subtitle)||"N/A"),1)])]}),_:1})]),_:1}),o.aboutData.story?(m(),x(k,{key:0,variant:"outlined",class:"mb-4"},{default:i(()=>[t(c,{class:"bg-primary text-white"},{default:i(()=>[t(p,{icon:"mdi-book-open-page-variant",class:"mr-2"}),e[12]||(e[12]=d(" Our Story Section "))]),_:1,__:[12]}),t(n,null,{default:i(()=>[s("div",Xe,[e[13]||(e[13]=s("strong",null,"Overline:",-1)),d(" "+v(o.aboutData.story.overline||"N/A"),1)]),s("div",Ze,[e[14]||(e[14]=s("strong",null,"Title:",-1)),d(" "+v(o.aboutData.story.title||"N/A"),1)]),s("div",$e,[e[15]||(e[15]=s("strong",null,"Description:",-1)),s("div",{innerHTML:o.aboutData.story.description||"N/A",class:"text-body-2 mt-1"},null,8,et)]),o.aboutData.story.stats&&o.aboutData.story.stats.length>0?(m(),I("div",tt,[e[16]||(e[16]=s("strong",null,"Stats:",-1)),s("div",ot,[(m(!0),I(P,null,U(o.aboutData.story.stats,(w,V)=>(m(),x(g,{key:V,size:"small",variant:"outlined"},{default:i(()=>[d(v(w.value)+" - "+v(w.label),1)]),_:2},1024))),128))])])):E("",!0),o.aboutData.story.image?(m(),I("div",it,[e[17]||(e[17]=s("strong",null,"Image:",-1)),t(D,{src:a.resolveImageUrl(o.aboutData.story.image),"max-width":"200","max-height":"150",class:"mt-2 rounded"},null,8,["src"])])):E("",!0)]),_:1})]),_:1})):E("",!0),o.aboutData.values&&o.aboutData.values.length>0?(m(),x(k,{key:1,variant:"outlined",class:"mb-4"},{default:i(()=>[t(c,{class:"bg-primary text-white"},{default:i(()=>[t(p,{icon:"mdi-heart",class:"mr-2"}),e[18]||(e[18]=d(" Core Values Section "))]),_:1,__:[18]}),t(n,null,{default:i(()=>[s("div",rt,[e[19]||(e[19]=s("strong",null,"Title:",-1)),d(" "+v(o.aboutData.valuesTitle||"N/A"),1)]),s("div",st,[e[20]||(e[20]=s("strong",null,"Subtitle:",-1)),d(" "+v(o.aboutData.valuesSubtitle||"N/A"),1)]),s("div",lt,[s("strong",null,"Values ("+v(o.aboutData.values.length)+"):",1),t(A,{class:"mt-2"},{default:i(()=>[(m(!0),I(P,null,U(o.aboutData.values,(w,V)=>(m(),x(S,{key:V,cols:"12",md:"4"},{default:i(()=>[t(k,{variant:"outlined",class:"pa-3"},{default:i(()=>[s("div",at,[t(p,{icon:w.icon||"mdi-check-circle",class:"mr-2"},null,8,["icon"]),s("strong",null,v(w.title),1)]),s("p",nt,v(w.description||w.desc),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1})]),_:1})):E("",!0),o.aboutData.team&&o.aboutData.team.length>0?(m(),x(k,{key:2,variant:"outlined"},{default:i(()=>[t(c,{class:"bg-primary text-white"},{default:i(()=>[t(p,{icon:"mdi-account-group",class:"mr-2"}),e[21]||(e[21]=d(" Team Section "))]),_:1,__:[21]}),t(n,null,{default:i(()=>[s("div",mt,[e[22]||(e[22]=s("strong",null,"Overline:",-1)),d(" "+v(o.aboutData.teamOverline||"N/A"),1)]),s("div",dt,[e[23]||(e[23]=s("strong",null,"Title:",-1)),d(" "+v(o.aboutData.teamTitle||"N/A"),1)]),s("div",ut,[s("strong",null,"Team Members ("+v(o.aboutData.team.length)+"):",1),t(A,{class:"mt-2"},{default:i(()=>[(m(!0),I(P,null,U(o.aboutData.team,(w,V)=>(m(),x(S,{key:V,cols:"12",sm:"6",md:"3"},{default:i(()=>[t(k,{variant:"outlined",class:"pa-3 text-center"},{default:i(()=>[t(O,{size:"80",class:"mb-2"},{default:i(()=>[t(D,{src:w.image?a.resolveImageUrl(w.image):"https://i.pravatar.cc/300?img="+V,cover:""},null,8,["src"])]),_:2},1024),s("div",gt,v(w.name),1),s("div",ct,v(w.role),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1})]),_:1})):E("",!0)])):(m(),x(M,{key:3,type:"info",variant:"tonal"},{default:i(()=>e[24]||(e[24]=[d(' No about content found. Click "Edit About Content" to create content. ')])),_:1,__:[24]}))]),_:1})]),_:1}),t(z,{modelValue:o.showDialog,"onUpdate:modelValue":e[1]||(e[1]=w=>o.showDialog=w),"about-data":o.aboutData,onSaved:a.handleAboutSaved},null,8,["modelValue","about-data","onSaved"])])}const _t=H(Be,[["render",pt],["__scopeId","data-v-12935623"]]);export{_t as default};
