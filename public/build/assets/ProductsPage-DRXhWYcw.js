import{p as F,q as Q,_ as we,s as ce,u as Se,x as Ve,r as y,d as r,o as l,b as t,w as o,a as e,c as B,g as V,f as h,t as f,y as g,z as Te,F as z,e as S,n as ye,m as he,j as qe,v as Ke,l as We,A as He}from"./app-aJ0YMKHb.js";import{f as Fe}from"./formatters-DOdYL610.js";import{P as Ge}from"./ProductCard-CCQ8yY80.js";import"./ShareDialog-DOGaPdqj.js";import"./uploads-CnEkgyD_.js";function Ye(){const c=F([]),b=F(!1),w=F(null),N=async()=>{b.value=!0,w.value=null;try{const u=await window.axios.get("/api/openapi/products");return c.value=Array.isArray(u.data)?u.data:[],c.value}catch(u){return console.error("Error loading products:",u),w.value=u.message||"Failed to load products",c.value=A(),c.value}finally{b.value=!1}},H=u=>c.value.find(k=>k.slug===u)||null,D=u=>u!=null&&u.thumbnail?u.thumbnail:u!=null&&u.images&&u.images.length>0?u.images[0]:"https://via.placeholder.com/400x300?text=Product",U=u=>u!=null&&u.categories&&u.categories.length>0?u.categories[0].name:"Uncategorized",L=u=>Fe(u,"Contact for Price"),E=u=>{const k=[];return u!=null&&u.specifications&&(u.specifications.capacity&&k.push({label:"Capacity",value:u.specifications.capacity}),u.specifications.input&&k.push({label:"Input",value:u.specifications.input}),u.specifications.type&&k.push({label:"Type",value:u.specifications.type})),k.slice(0,3)},A=()=>Array.from({length:12}).map((u,k)=>({id:k+1,title:`Industrial Power Unit ${k+100}`,slug:`product-${k+1}`,sku:`MCT-${String(k+1).padStart(4,"0")}`,short_description:"High-performance power solution designed for reliability and efficiency.",price:(Math.random()*1e3+200).toFixed(2),featured:k%3===0,rating:(4+Math.random()).toFixed(1),categories:[{id:k%2===0?"ups":"batteries",name:k%2===0?"UPS Systems":"Batteries"}],specifications:{capacity:`${500+k*100}VA`,input:"230V AC",type:"Online Double Conversion"},created_at:new Date(Date.now()-k*864e5).toISOString()}));return{products:c,loading:b,error:w,fetchProducts:N,getProductBySlug:H,getProductImage:D,getCategoryName:U,formatPrice:L,getQuickSpecs:E}}function Ze(){const c=F([]),b=F(!1),w=F(null),N=[{id:"all",name:"All Products",icon:"mdi-view-grid"},{id:"ups",name:"UPS Systems",icon:"mdi-power"},{id:"batteries",name:"Batteries",icon:"mdi-battery"},{id:"inverters",name:"Inverters",icon:"mdi-flash"},{id:"solar",name:"Solar",icon:"mdi-solar-power"},{id:"accessories",name:"Accessories",icon:"mdi-package-variant"}],H={ups:"mdi-power",batteries:"mdi-battery",inverters:"mdi-flash",solar:"mdi-solar-power",accessories:"mdi-package-variant",power:"mdi-lightning-bolt",energy:"mdi-flash-circle"},D=A=>{const u=(A==null?void 0:A.toLowerCase())||"";return H[u]||"mdi-package-variant"},U=async()=>{b.value=!0,w.value=null;try{const A=await window.axios.get("/api/openapi/categories?type=product"),u=Array.isArray(A.data)?A.data:A.data.data||A.data.categories||[];return Array.isArray(u)&&u.length>0?c.value=[{id:"all",name:"All Products",icon:"mdi-view-grid"},...u.map(k=>({id:k.id,name:k.name,slug:k.slug,icon:D(k.slug||k.name)}))]:c.value=N,c.value}catch(A){return console.error("Error loading categories:",A),w.value=A.message||"Failed to load categories",c.value=N,c.value}finally{b.value=!1}},L=A=>c.value.find(u=>u.id===A)||null;return{categories:c,loading:b,error:w,fetchCategories:U,getCategoryById:L,getCategoryNameById:A=>{const u=L(A);return u?u.name:"Unknown"},getCategoryIcon:D}}function Je(c){const b=F("all"),w=F(""),N=F("newest"),H=[{label:"Newest First",value:"newest"},{label:"Price: Low to High",value:"price_asc"},{label:"Price: High to Low",value:"price_desc"},{label:"Name: A to Z",value:"name_asc"},{label:"Name: Z to A",value:"name_desc"},{label:"Featured First",value:"featured"}],D=Q(()=>{const m=H.find(I=>I.value===N.value);return m?m.label:"Newest First"}),U=m=>b.value==="all"?m:m.filter(I=>{var R;return(((R=I.categories)==null?void 0:R.map(se=>se.id))||[]).includes(b.value)}),L=m=>{if(!w.value)return m;const I=w.value.toLowerCase().trim();return m.filter(M=>{var R,se,ae,Z;return((R=M.title)==null?void 0:R.toLowerCase().includes(I))||((se=M.short_description)==null?void 0:se.toLowerCase().includes(I))||((ae=M.sku)==null?void 0:ae.toLowerCase().includes(I))||((Z=M.description)==null?void 0:Z.toLowerCase().includes(I))})},E=m=>{const I=[...m];return I.sort((M,R)=>{switch(N.value){case"price_asc":return(parseFloat(M.price)||0)-(parseFloat(R.price)||0);case"price_desc":return(parseFloat(R.price)||0)-(parseFloat(M.price)||0);case"name_asc":return(M.title||"").localeCompare(R.title||"");case"name_desc":return(R.title||"").localeCompare(M.title||"");case"featured":return M.featured&&!R.featured?-1:!M.featured&&R.featured?1:0;case"newest":default:return new Date(R.created_at||0)-new Date(M.created_at||0)}}),I},A=Q(()=>{let m=c.value||[];return m=U(m),m=L(m),m=E(m),m}),u=Q(()=>b.value!=="all"||w.value!==""||N.value!=="newest"),k=Q(()=>{let m=0;return b.value!=="all"&&m++,w.value!==""&&m++,N.value!=="newest"&&m++,m});return{activeCategory:b,searchQuery:w,sortBy:N,sortOptions:H,filteredProducts:A,sortByLabel:D,hasActiveFilters:u,activeFiltersCount:k,setActiveCategory:m=>{b.value=m},setSortBy:m=>{N.value=m},setSearchQuery:m=>{w.value=m},clearFilters:()=>{b.value="all",w.value="",N.value="newest"}}}function Xe(c=3){const b=F([]),w=F(!1),N=x=>b.value.some(m=>m.id===x.id),H=Q(()=>b.value.length<c),D=x=>!x||N(x)||!H.value?!1:(b.value.push(x),!0),U=x=>{const m=b.value.findIndex(I=>I.id===x.id);return m>-1?(b.value.splice(m,1),!0):!1};return{comparisonProducts:b,showComparison:w,maxProducts:c,canAddMore:H,isInComparison:N,addToComparison:D,removeFromComparison:U,toggleComparison:x=>{if(N(x))U(x);else if(!D(x))return!1;return!0},clearComparison:()=>{b.value=[]},openComparison:()=>{w.value=!0},closeComparison:()=>{w.value=!1},getComparisonSpecs:()=>{const x=new Set;return b.value.forEach(m=>{m.specifications&&Object.keys(m.specifications).forEach(I=>x.add(I))}),Array.from(x).map(m=>({key:m,label:m.charAt(0).toUpperCase()+m.slice(1).replace(/_/g," ")}))},getSpecValue:(x,m)=>x.specifications&&x.specifications[m]?x.specifications[m]:"N/A",getKeyFeatures:x=>x.key_features&&Array.isArray(x.key_features)?x.key_features:["High Performance","Reliable Design","Energy Efficient"],getRecommendedUse:x=>{var I,M,R;if(x.recommended_use)return x.recommended_use;const m=((R=(M=(I=x.categories)==null?void 0:I[0])==null?void 0:M.name)==null?void 0:R.toLowerCase())||"";return m.includes("ups")?"Data Centers, Servers":m.includes("battery")?"Backup Power Systems":m.includes("solar")?"Renewable Energy Systems":"General Purpose"}}}function Ae(c,b=300){let w=null;return function(...N){clearTimeout(w),w=setTimeout(()=>{c.apply(this,N)},b)}}const et={class:"filter-shell mb-4 mb-md-5"},tt={class:"filter-top"},st={class:"filter-meta"},at={class:"title-row"},lt={class:"icon-pill"},nt={class:"top-actions"},ot={class:"filter-grid"},it={class:"panel search-panel"},rt={class:"panel sort-panel"},ct={class:"sort-actions"},dt={class:"d-none d-sm-inline"},ut={key:1,class:"mr-2",style:{width:"20px"}},mt={class:"category-block"},vt={class:"category-heading"},pt={class:"subcopy"},ft={class:"category-filter-wrapper"},yt={class:"category-text"},gt={class:"advanced-filters-block"},bt={key:0,class:"filter-section-header"},ht={key:1,class:"mobile-filters-header"},_t={class:"d-flex align-center w-100"},wt={class:"price-inputs"},kt={class:"d-flex align-center w-100"},xt={class:"d-flex align-center w-100"},Ct={class:"d-flex align-center w-100"},$t={class:"d-flex align-center w-100"},At={class:"features-grid"},zt={class:"d-flex align-center"},St={class:"text-body-2"},Vt={class:"d-flex align-center w-100"},Ft={class:"filters-content"},Ut={class:"filter-item"},Pt={class:"filter-item-header"},Bt={class:"price-inputs"},Rt={class:"filter-item"},Nt={class:"filter-item-header"},Mt={class:"filter-item"},Ot={class:"filter-item-header"},Dt={class:"filter-item"},It={class:"filter-item-header"},jt={class:"filter-item"},Et={class:"filter-item-header"},Lt={class:"features-grid"},Qt={class:"d-flex align-center"},Tt={class:"text-body-2"},qt={class:"filter-item"},Kt={class:"filter-item-header"},Wt={__name:"FilterBar",props:{categories:{type:Array,default:()=>[]},activeCategory:{type:[String,Number],default:"all"},searchQuery:{type:String,default:""},sortBy:{type:String,default:"newest"},sortOptions:{type:Array,default:()=>[]},sortByLabel:{type:String,default:"Newest First"},hasActiveFilters:{type:Boolean,default:!1},activeFiltersCount:{type:Number,default:0},comparisonCount:{type:Number,default:0},resultsCount:{type:Number,default:0},priceRange:{type:Array,default:()=>[0,1e4]},availability:{type:Array,default:()=>[]},brands:{type:Array,default:()=>[]},selectedBrands:{type:Array,default:()=>[]},minRating:{type:Number,default:0},features:{type:Array,default:()=>[]},selectedFeatures:{type:Array,default:()=>[]},discount:{type:String,default:null},mobile:{type:Boolean,default:!1}},emits:["update:activeCategory","update:searchQuery","update:sortBy","update:priceRange","update:availability","update:brands","update:minRating","update:features","update:discount","clear-filters","open-comparison"],setup(c,{emit:b}){const w=c,N=b,H=F(!1),D=F(!0),U=F([...w.priceRange]),L=F([...w.availability]),E=F([...w.selectedBrands]),A=F(w.minRating),u=F([...w.selectedFeatures]),k=F(w.discount),J=[{value:"in_stock",label:"In Stock",icon:"mdi-check-circle"},{value:"out_of_stock",label:"Out of Stock",icon:"mdi-close-circle"},{value:"pre_order",label:"Pre-Order",icon:"mdi-clock-outline"},{value:"coming_soon",label:"Coming Soon",icon:"mdi-new-box"}],X=[{value:"any",label:"Any Discount"},{value:"10",label:"10% or more"},{value:"25",label:"25% or more"},{value:"50",label:"50% or more"}];ce(()=>w.priceRange,_=>{U.value=[..._]},{deep:!0}),ce(()=>w.availability,_=>{L.value=[..._]},{deep:!0}),ce(()=>w.selectedBrands,_=>{E.value=[..._]},{deep:!0}),ce(()=>w.minRating,_=>{A.value=_}),ce(()=>w.selectedFeatures,_=>{u.value=[..._]},{deep:!0}),ce(()=>w.discount,_=>{k.value=_}),ce(()=>w.categories,()=>{setTimeout(()=>{Z()},100)},{deep:!0});const te=()=>{H.value=window.scrollY>200},x=Ae(_=>{N("update:searchQuery",_||"")},300),m=Ae(()=>{N("update:priceRange",U.value)},500),I=()=>{D.value=!D.value},M=_=>{const s=u.value.indexOf(_);s>-1?u.value.splice(s,1):u.value.push(_),N("update:features",u.value)},R=F(null),se=F(!1),ae=F(!1),Z=()=>{if(!R.value)return;const _=R.value;se.value=_.scrollLeft>10,ae.value=_.scrollLeft<_.scrollWidth-_.clientWidth-10},ue=_=>{if(!R.value)return;const s=200,C=R.value;_==="left"?C.scrollBy({left:-200,behavior:"smooth"}):C.scrollBy({left:s,behavior:"smooth"}),setTimeout(Z,100)};return Se(()=>{window.addEventListener("scroll",te),setTimeout(()=>{Z()},100),window.addEventListener("resize",Z)}),Ve(()=>{window.removeEventListener("scroll",te),window.removeEventListener("resize",Z)}),(_,s)=>{const C=y("v-icon"),a=y("v-chip"),i=y("v-btn"),p=y("v-text-field"),P=y("v-list-item-title"),O=y("v-list-item"),T=y("v-list"),K=y("v-menu"),W=y("v-spacer"),G=y("v-expansion-panel-title"),ee=y("v-range-slider"),le=y("v-expansion-panel-text"),ne=y("v-expansion-panel"),oe=y("v-chip-group"),d=y("v-select"),q=y("v-checkbox"),Y=y("v-expansion-panels"),ve=y("v-expand-transition"),pe=y("v-card");return l(),r("div",et,[t(pe,{class:ye(["filter-card rounded-xl elevation-2",{"sticky-filter":H.value}])},{default:o(()=>[e("div",tt,[e("div",st,[s[28]||(s[28]=e("span",{class:"eyebrow"},"Product filters",-1)),e("div",at,[e("div",lt,[t(C,{icon:"mdi-filter-variant",color:"primary",size:"18"})]),s[27]||(s[27]=e("div",null,[e("div",{class:"title-text"},"Filter & Search"),e("div",{class:"subtitle"},"Shape the catalog in a couple taps")],-1))])]),e("div",nt,[c.resultsCount?(l(),B(a,{key:0,size:"small",color:"primary",variant:"tonal",class:"metric-chip"},{default:o(()=>[h(f(c.resultsCount)+" results ",1)]),_:1})):V("",!0),c.hasActiveFilters?(l(),B(a,{key:1,size:"small",color:"primary",variant:"flat",class:"metric-chip"},{default:o(()=>[h(f(c.activeFiltersCount)+" active ",1)]),_:1})):V("",!0),t(i,{variant:"text",color:"grey-darken-1",size:"small","prepend-icon":"mdi-close-circle",class:"text-capitalize clear-btn",disabled:!c.hasActiveFilters,onClick:s[0]||(s[0]=n=>_.$emit("clear-filters"))},{default:o(()=>s[29]||(s[29]=[h(" Clear filters ")])),_:1,__:[29]},8,["disabled"])])]),e("div",ot,[e("div",it,[s[30]||(s[30]=e("div",{class:"panel-header"},[e("span",{class:"panel-title"},"Search"),e("span",{class:"panel-hint"},"Names, tags or SKU")],-1)),t(p,{"model-value":c.searchQuery,density:"compact",variant:"solo-filled",placeholder:"Search products...","prepend-inner-icon":"mdi-magnify","hide-details":"auto","bg-color":"white",class:"search-field rounded-lg",clearable:"","onUpdate:modelValue":g(x),"onClick:clear":s[1]||(s[1]=n=>_.$emit("update:searchQuery",""))},Te({_:2},[c.searchQuery?{name:"append-inner",fn:o(()=>[t(a,{size:"x-small",color:"primary",variant:"flat",class:"results-chip mr-1"},{default:o(()=>[h(f(c.resultsCount),1)]),_:1})]),key:"0"}:void 0]),1032,["model-value","onUpdate:modelValue"])]),e("div",rt,[s[33]||(s[33]=e("div",{class:"panel-header"},[e("span",{class:"panel-title"},"Sort & compare"),e("span",{class:"panel-hint"},"Tune order & shortlist")],-1)),e("div",ct,[t(K,{location:"bottom end","close-on-content-click":!0},{activator:o(({props:n})=>[t(i,he(n,{variant:"outlined",color:"grey-darken-2",class:"sort-btn bg-white text-grey-darken-2 font-weight-medium","append-icon":"mdi-chevron-down",size:"small",density:"comfortable"}),{default:o(()=>[t(C,{icon:"mdi-sort",size:"16",class:"mr-1 d-none d-sm-inline"}),e("span",dt,f(c.sortByLabel),1),s[31]||(s[31]=e("span",{class:"d-sm-none"},"Sort",-1))]),_:2,__:[31]},1040)]),default:o(()=>[t(T,{class:"sort-menu-list",density:"compact"},{default:o(()=>[(l(!0),r(z,null,S(c.sortOptions,n=>(l(),B(O,{key:n.value,class:ye([{"sort-option-active":c.sortBy===n.value},"sort-option"]),onClick:ie=>_.$emit("update:sortBy",n.value)},{prepend:o(()=>[c.sortBy===n.value?(l(),B(C,{key:0,icon:"mdi-check",color:"primary",size:"small",class:"mr-2"})):(l(),r("div",ut))]),default:o(()=>[t(P,{class:"font-weight-medium text-body-2"},{default:o(()=>[h(f(n.label),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1}),c.comparisonCount>0?(l(),B(i,{key:0,color:"primary",variant:"flat","prepend-icon":"mdi-scale-balance",class:"comparison-btn text-white font-weight-bold",size:"small",density:"comfortable",onClick:s[2]||(s[2]=n=>_.$emit("open-comparison"))},{default:o(()=>[s[32]||(s[32]=e("span",{class:"d-none d-sm-inline mr-1"},"Compare",-1)),t(a,{size:"x-small",color:"white",variant:"flat",class:"comparison-badge ml-1"},{default:o(()=>[h(f(c.comparisonCount),1)]),_:1})]),_:1,__:[32]})):V("",!0)])])]),e("div",mt,[e("div",vt,[e("div",null,[s[35]||(s[35]=e("span",{class:"eyebrow"},"Categories",-1)),e("div",pt,[t(C,{icon:"mdi-gesture-swipe-horizontal",size:"12",class:"mr-1"}),s[34]||(s[34]=h(" Scroll to explore "))])]),c.hasActiveFilters?(l(),B(a,{key:0,size:"x-small",color:"primary",variant:"tonal",class:"d-none d-sm-inline-flex"},{default:o(()=>s[36]||(s[36]=[h(" Active filter set ")])),_:1,__:[36]})):V("",!0)]),e("div",ft,[se.value?(l(),r("div",{key:0,class:"scroll-indicator left-indicator",onClick:s[3]||(s[3]=n=>ue("left"))},[t(C,{icon:"mdi-chevron-left",color:"primary",size:"small"})])):V("",!0),ae.value?(l(),r("div",{key:1,class:"scroll-indicator right-indicator",onClick:s[4]||(s[4]=n=>ue("right"))},[t(C,{icon:"mdi-chevron-right",color:"primary",size:"small"})])):V("",!0),e("div",{ref_key:"categoryScroll",ref:R,class:"category-filter",onScroll:Z},[(l(!0),r(z,null,S(c.categories,n=>(l(),B(i,{key:n.id,variant:"flat",color:c.activeCategory===n.id?"primary":"grey-lighten-3",class:ye(["category-btn font-weight-bold text-capitalize rounded-pill flex-shrink-0",{"category-btn-active":c.activeCategory===n.id,"category-btn-inactive":c.activeCategory!==n.id}]),size:"small",density:"comfortable",onClick:ie=>_.$emit("update:activeCategory",n.id),"aria-pressed":c.activeCategory===n.id},{default:o(()=>[n.icon?(l(),B(C,{key:0,icon:n.icon,size:"14",class:"mr-1"},null,8,["icon"])):V("",!0),e("span",yt,f(n.name),1)]),_:2},1032,["color","class","onClick","aria-pressed"]))),128))],544)])]),e("div",gt,[c.mobile?V("",!0):(l(),r("div",bt,[s[37]||(s[37]=e("span",{class:"eyebrow"},"Advanced Filters",-1)),t(i,{variant:"text",size:"x-small",color:"primary",class:"text-capitalize",onClick:I},{default:o(()=>[h(f(D.value?"Hide":"Show")+" ",1),t(C,{icon:D.value?"mdi-chevron-up":"mdi-chevron-down",size:"small",class:"ml-1"},null,8,["icon"])]),_:1})])),c.mobile?(l(),r("div",ht,[t(C,{icon:"mdi-tune",size:"20",color:"primary",class:"mr-2"}),s[38]||(s[38]=e("span",{class:"eyebrow"},"Filter Options",-1))])):V("",!0),c.mobile?(l(),B(Y,{key:2,variant:"accordion",class:"mobile-expansion-panels"},{default:o(()=>[t(ne,{elevation:"0","bg-color":"transparent"},{default:o(()=>[t(G,{class:"filter-panel-title"},{default:o(()=>[e("div",_t,[t(C,{icon:"mdi-currency-usd",size:"18",color:"primary",class:"mr-2"}),s[40]||(s[40]=e("span",{class:"filter-label mb-0"},"Price Range",-1)),t(W),c.priceRange[0]>0||c.priceRange[1]<1e4?(l(),B(a,{key:0,size:"x-small",color:"primary",variant:"tonal",class:"mr-2"},{default:o(()=>s[39]||(s[39]=[h(" Active ")])),_:1,__:[39]})):V("",!0)])]),_:1}),t(le,null,{default:o(()=>[e("div",wt,[t(p,{modelValue:U.value[0],"onUpdate:modelValue":[s[5]||(s[5]=n=>U.value[0]=n),g(m)],type:"number",density:"compact",variant:"outlined",label:"Min",prefix:"$","hide-details":"",class:"price-field"},null,8,["modelValue","onUpdate:modelValue"]),s[41]||(s[41]=e("span",{class:"price-separator"},"—",-1)),t(p,{modelValue:U.value[1],"onUpdate:modelValue":[s[6]||(s[6]=n=>U.value[1]=n),g(m)],type:"number",density:"compact",variant:"outlined",label:"Max",prefix:"$","hide-details":"",class:"price-field"},null,8,["modelValue","onUpdate:modelValue"])]),t(ee,{modelValue:U.value,"onUpdate:modelValue":[s[7]||(s[7]=n=>U.value=n),g(m)],min:0,max:1e4,step:50,color:"primary",class:"mt-4","thumb-label":"always","hide-details":""},{"thumb-label":o(({modelValue:n})=>[h(" $"+f(n),1)]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1}),t(ne,{elevation:"0","bg-color":"transparent"},{default:o(()=>[t(G,{class:"filter-panel-title"},{default:o(()=>[e("div",kt,[t(C,{icon:"mdi-package-variant-closed",size:"18",color:"primary",class:"mr-2"}),s[42]||(s[42]=e("span",{class:"filter-label mb-0"},"Availability",-1)),t(W),c.availability.length>0?(l(),B(a,{key:0,size:"x-small",color:"primary",variant:"tonal",class:"mr-2"},{default:o(()=>[h(f(c.availability.length),1)]),_:1})):V("",!0)])]),_:1}),t(le,null,{default:o(()=>[t(oe,{modelValue:L.value,"onUpdate:modelValue":[s[8]||(s[8]=n=>L.value=n),s[9]||(s[9]=n=>_.$emit("update:availability",L.value))],column:"",multiple:""},{default:o(()=>[(l(),r(z,null,S(J,n=>t(a,{key:n.value,value:n.value,filter:"",variant:"outlined",color:"primary",size:"small"},{default:o(()=>[t(C,{icon:n.icon,size:"14",class:"mr-1"},null,8,["icon"]),h(" "+f(n.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(ne,{elevation:"0","bg-color":"transparent"},{default:o(()=>[t(G,{class:"filter-panel-title"},{default:o(()=>[e("div",xt,[t(C,{icon:"mdi-tag-multiple",size:"18",color:"primary",class:"mr-2"}),s[43]||(s[43]=e("span",{class:"filter-label mb-0"},"Brand",-1)),t(W),c.selectedBrands.length>0?(l(),B(a,{key:0,size:"x-small",color:"primary",variant:"tonal",class:"mr-2"},{default:o(()=>[h(f(c.selectedBrands.length),1)]),_:1})):V("",!0)])]),_:1}),t(le,null,{default:o(()=>[t(d,{modelValue:E.value,"onUpdate:modelValue":[s[10]||(s[10]=n=>E.value=n),s[11]||(s[11]=n=>_.$emit("update:brands",E.value))],items:c.brands,multiple:"",chips:"","closable-chips":"",density:"compact",variant:"outlined",placeholder:"Select brands","hide-details":"",class:"brand-select"},{chip:o(({item:n,props:ie})=>[t(a,he(ie,{size:"small",color:"primary",variant:"flat"}),{default:o(()=>[h(f(n.title),1)]),_:2},1040)]),_:1},8,["modelValue","items"])]),_:1})]),_:1}),t(ne,{elevation:"0","bg-color":"transparent"},{default:o(()=>[t(G,{class:"filter-panel-title"},{default:o(()=>[e("div",Ct,[t(C,{icon:"mdi-star",size:"18",color:"primary",class:"mr-2"}),s[44]||(s[44]=e("span",{class:"filter-label mb-0"},"Minimum Rating",-1)),t(W),c.minRating>0?(l(),B(a,{key:0,size:"x-small",color:"primary",variant:"tonal",class:"mr-2"},{default:o(()=>[h(f(c.minRating)+"+ ⭐ ",1)]),_:1})):V("",!0)])]),_:1}),t(le,null,{default:o(()=>[t(oe,{modelValue:A.value,"onUpdate:modelValue":[s[12]||(s[12]=n=>A.value=n),s[13]||(s[13]=n=>_.$emit("update:minRating",A.value))],mandatory:""},{default:o(()=>[(l(),r(z,null,S([5,4,3,2,1],n=>t(a,{key:n,value:n,filter:"",variant:"outlined",color:"primary",size:"small"},{default:o(()=>[h(f(n)+" ",1),t(C,{icon:"mdi-star",size:"12",class:"ml-1",color:"amber"}),s[45]||(s[45]=h(" & up "))]),_:2,__:[45]},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(ne,{elevation:"0","bg-color":"transparent"},{default:o(()=>[t(G,{class:"filter-panel-title"},{default:o(()=>[e("div",$t,[t(C,{icon:"mdi-feature-search",size:"18",color:"primary",class:"mr-2"}),s[46]||(s[46]=e("span",{class:"filter-label mb-0"},"Features",-1)),t(W),c.selectedFeatures.length>0?(l(),B(a,{key:0,size:"x-small",color:"primary",variant:"tonal",class:"mr-2"},{default:o(()=>[h(f(c.selectedFeatures.length),1)]),_:1})):V("",!0)])]),_:1}),t(le,null,{default:o(()=>[e("div",At,[(l(!0),r(z,null,S(c.features,n=>(l(),B(q,{key:n.value,"model-value":u.value.includes(n.value),label:n.label,value:n.value,density:"compact","hide-details":"",color:"primary",class:"feature-checkbox","onUpdate:modelValue":ie=>M(n.value)},{label:o(()=>[e("div",zt,[t(C,{icon:n.icon,size:"14",class:"mr-1"},null,8,["icon"]),e("span",St,f(n.label),1)])]),_:2},1032,["model-value","label","value","onUpdate:modelValue"]))),128))])]),_:1})]),_:1}),t(ne,{elevation:"0","bg-color":"transparent"},{default:o(()=>[t(G,{class:"filter-panel-title"},{default:o(()=>[e("div",Vt,[t(C,{icon:"mdi-sale",size:"18",color:"primary",class:"mr-2"}),s[48]||(s[48]=e("span",{class:"filter-label mb-0"},"Discounts & Offers",-1)),t(W),c.discount?(l(),B(a,{key:0,size:"x-small",color:"primary",variant:"tonal",class:"mr-2"},{default:o(()=>s[47]||(s[47]=[h(" Active ")])),_:1,__:[47]})):V("",!0)])]),_:1}),t(le,null,{default:o(()=>[t(oe,{modelValue:k.value,"onUpdate:modelValue":[s[14]||(s[14]=n=>k.value=n),s[15]||(s[15]=n=>_.$emit("update:discount",k.value))]},{default:o(()=>[(l(),r(z,null,S(X,n=>t(a,{key:n.value,value:n.value,filter:"",variant:"outlined",color:"primary",size:"small"},{default:o(()=>[h(f(n.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})):(l(),B(ve,{key:3},{default:o(()=>[qe(e("div",Ft,[e("div",Ut,[e("div",Pt,[t(C,{icon:"mdi-currency-usd",size:"18",color:"primary",class:"mr-2"}),s[49]||(s[49]=e("span",{class:"filter-label"},"Price Range",-1))]),e("div",Bt,[t(p,{modelValue:U.value[0],"onUpdate:modelValue":[s[16]||(s[16]=n=>U.value[0]=n),g(m)],type:"number",density:"compact",variant:"outlined",label:"Min",prefix:"$","hide-details":"",class:"price-field"},null,8,["modelValue","onUpdate:modelValue"]),s[50]||(s[50]=e("span",{class:"price-separator"},"—",-1)),t(p,{modelValue:U.value[1],"onUpdate:modelValue":[s[17]||(s[17]=n=>U.value[1]=n),g(m)],type:"number",density:"compact",variant:"outlined",label:"Max",prefix:"$","hide-details":"",class:"price-field"},null,8,["modelValue","onUpdate:modelValue"])]),t(ee,{modelValue:U.value,"onUpdate:modelValue":[s[18]||(s[18]=n=>U.value=n),g(m)],min:0,max:1e4,step:50,color:"primary",class:"mt-4","thumb-label":"always","hide-details":""},{"thumb-label":o(({modelValue:n})=>[h(" $"+f(n),1)]),_:1},8,["modelValue","onUpdate:modelValue"])]),e("div",Rt,[e("div",Nt,[t(C,{icon:"mdi-package-variant-closed",size:"18",color:"primary",class:"mr-2"}),s[51]||(s[51]=e("span",{class:"filter-label"},"Availability",-1))]),t(oe,{modelValue:L.value,"onUpdate:modelValue":[s[19]||(s[19]=n=>L.value=n),s[20]||(s[20]=n=>_.$emit("update:availability",L.value))],column:"",multiple:""},{default:o(()=>[(l(),r(z,null,S(J,n=>t(a,{key:n.value,value:n.value,filter:"",variant:"outlined",color:"primary",size:"small"},{default:o(()=>[t(C,{icon:n.icon,size:"14",class:"mr-1"},null,8,["icon"]),h(" "+f(n.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),e("div",Mt,[e("div",Ot,[t(C,{icon:"mdi-tag-multiple",size:"18",color:"primary",class:"mr-2"}),s[52]||(s[52]=e("span",{class:"filter-label"},"Brand",-1))]),t(d,{modelValue:E.value,"onUpdate:modelValue":[s[21]||(s[21]=n=>E.value=n),s[22]||(s[22]=n=>_.$emit("update:brands",E.value))],items:c.brands,multiple:"",chips:"","closable-chips":"",density:"compact",variant:"outlined",placeholder:"Select brands","hide-details":"",class:"brand-select"},{chip:o(({item:n,props:ie})=>[t(a,he(ie,{size:"small",color:"primary",variant:"flat"}),{default:o(()=>[h(f(n.title),1)]),_:2},1040)]),_:1},8,["modelValue","items"])]),e("div",Dt,[e("div",It,[t(C,{icon:"mdi-star",size:"18",color:"primary",class:"mr-2"}),s[53]||(s[53]=e("span",{class:"filter-label"},"Minimum Rating",-1))]),t(oe,{modelValue:A.value,"onUpdate:modelValue":[s[23]||(s[23]=n=>A.value=n),s[24]||(s[24]=n=>_.$emit("update:minRating",A.value))],mandatory:""},{default:o(()=>[(l(),r(z,null,S([5,4,3,2,1],n=>t(a,{key:n,value:n,filter:"",variant:"outlined",color:"primary",size:"small"},{default:o(()=>[h(f(n)+" ",1),t(C,{icon:"mdi-star",size:"12",class:"ml-1",color:"amber"}),s[54]||(s[54]=h(" & up "))]),_:2,__:[54]},1032,["value"])),64))]),_:1},8,["modelValue"])]),e("div",jt,[e("div",Et,[t(C,{icon:"mdi-feature-search",size:"18",color:"primary",class:"mr-2"}),s[55]||(s[55]=e("span",{class:"filter-label"},"Features",-1))]),e("div",Lt,[(l(!0),r(z,null,S(c.features,n=>(l(),B(q,{key:n.value,"model-value":u.value.includes(n.value),label:n.label,value:n.value,density:"compact","hide-details":"",color:"primary",class:"feature-checkbox","onUpdate:modelValue":ie=>M(n.value)},{label:o(()=>[e("div",Qt,[t(C,{icon:n.icon,size:"14",class:"mr-1"},null,8,["icon"]),e("span",Tt,f(n.label),1)])]),_:2},1032,["model-value","label","value","onUpdate:modelValue"]))),128))])]),e("div",qt,[e("div",Kt,[t(C,{icon:"mdi-sale",size:"18",color:"primary",class:"mr-2"}),s[56]||(s[56]=e("span",{class:"filter-label"},"Discounts & Offers",-1))]),t(oe,{modelValue:k.value,"onUpdate:modelValue":[s[25]||(s[25]=n=>k.value=n),s[26]||(s[26]=n=>_.$emit("update:discount",k.value))]},{default:o(()=>[(l(),r(z,null,S(X,n=>t(a,{key:n.value,value:n.value,filter:"",variant:"outlined",color:"primary",size:"small"},{default:o(()=>[h(f(n.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])])],512),[[Ke,D.value]])]),_:1}))])]),_:1},8,["class"])])}}},ze=we(Wt,[["__scopeId","data-v-51ec4fba"]]),Ht={class:"d-flex align-center"},Gt={key:0,class:"text-center py-16"},Yt={key:1,class:"comparison-table"},Zt={class:"product-comparison-card"},Jt={class:"text-subtitle-1 font-weight-bold mb-2"},Xt={class:"text-h6 font-weight-black text-primary mb-2"},es={class:"section-header"},ts=["colspan"],ss={class:"font-weight-medium"},as={key:0},ls={class:"font-weight-medium"},ns={class:"text-h6 font-weight-black text-primary"},os={key:1},is={key:1,class:"text-medium-emphasis"},rs={key:2},cs={key:1,class:"text-medium-emphasis"},ds={key:3},us={key:0,class:"d-flex align-center justify-center"},ms={class:"font-weight-bold"},vs={key:1,class:"text-medium-emphasis"},ps={key:4,class:"section-header"},fs=["colspan"],ys={key:5},gs={key:0,class:"text-body-2 text-left pa-2"},bs={key:1,class:"text-medium-emphasis"},hs={key:6,class:"section-header"},_s=["colspan"],ws={key:7},ks={key:0,class:"d-flex flex-column align-center gap-1 pa-2"},xs={key:1,class:"text-medium-emphasis"},Cs={key:8,class:"section-header"},$s=["colspan"],As={class:"font-weight-bold bg-grey-lighten-4"},zs={class:"pa-2"},Ss={class:"text-body-2"},Vs={class:"section-header"},Fs=["colspan"],Us={key:9},Ps={key:0,class:"d-flex flex-wrap justify-center gap-1 pa-2"},Bs={key:1,class:"text-medium-emphasis"},Rs={key:10},Ns={key:0,class:"d-flex flex-column align-center gap-1 pa-2"},Ms={key:1,class:"text-medium-emphasis"},Os={key:11},Ds={key:0,class:"d-flex flex-column align-start gap-2 pa-2"},Is={class:"font-weight-bold text-body-2 mb-1"},js={class:"text-body-2 text-medium-emphasis"},Es={key:1,class:"text-medium-emphasis"},Ls={key:12},Qs={key:0,class:"text-left pa-2"},Ts={class:"font-weight-medium"},qs={class:"ml-1"},Ks={key:1,class:"text-medium-emphasis"},Ws={class:"text-body-2"},Hs={__name:"ComparisonDialog",props:{modelValue:{type:Boolean,default:!1},products:{type:Array,default:()=>[]},comparisonSpecs:{type:Array,default:()=>[]}},emits:["update:modelValue","remove-product","clear-all"],setup(c){const b=c,w=a=>a.thumbnail?a.thumbnail:a.images&&a.images.length>0?a.images[0]:"/assets/img/default.jpg",N=a=>a.categories&&a.categories.length>0?a.categories[0].name:"Uncategorized",H=a=>Fe(a,"Contact for Price"),D=(a="")=>a.toString().replace(/_/g," ").split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ").trim(),U=(a,i="",p="")=>{const P=[];return!a||typeof a!="object"||Object.entries(a).forEach(([O,T])=>{const K=i?`${i}.${O}`:O,W=p?`${p} > ${D(O)}`:D(O);T&&typeof T=="object"&&!Array.isArray(T)?P.push(...U(T,K,W)):P.push({key:K,label:W})}),P},L=Q(()=>{const a=new Map,i=["_key_features","_faqs","_warranty_info"];return(b.comparisonSpecs||[]).forEach(p=>{p!=null&&p.key&&!i.includes(p.key)&&a.set(p.key,p.label||D(p.key))}),b.products.forEach(p=>{p!=null&&p.specifications&&U(p.specifications).forEach(({key:P,label:O})=>{i.some(T=>P===T||P.startsWith(T+"."))||a.has(P)||a.set(P,O)})}),Array.from(a.entries()).map(([p,P])=>({key:p,label:P}))}),E=a=>a==null||a===""?"N/A":Array.isArray(a)?a.length===0?"N/A":a.some(p=>typeof p=="object")?a.map((p,P)=>p&&typeof p=="object"?Object.entries(p).map(([O,T])=>`${D(O)}: ${E(T)}`).join("; "):`${P+1}. ${E(p)}`).join(" | "):a.join(", "):typeof a=="object"?Object.entries(a).map(([i,p])=>`${D(i)}: ${E(p)}`).join(" | "):a,A=(a,i)=>{if(!(a!=null&&a.specifications))return"N/A";const p=i.split(".");let P=a.specifications;for(const O of p)if(P&&Object.prototype.hasOwnProperty.call(P,O))P=P[O];else return"N/A";return E(P)},u=a=>{var i;return a.key_features&&Array.isArray(a.key_features)?a.key_features:(i=a.specifications)!=null&&i._key_features&&Array.isArray(a.specifications._key_features)?a.specifications._key_features:[]},k=a=>{if(a.recommended_use)return a.recommended_use;const i=N(a).toLowerCase();return i.includes("ups")?"Data Centers, Servers":i.includes("battery")?"Backup Power Systems":i.includes("solar")?"Renewable Energy Systems":"General Purpose"},J=a=>{var i;return(i=a.specifications)!=null&&i.Model?a.specifications.Model:"N/A"},X=a=>a.tags&&Array.isArray(a.tags)?a.tags.map(i=>i.name||i):[],te=a=>a.downloads&&Array.isArray(a.downloads)?a.downloads:[],x=a=>{var i;return(i=a.specifications)!=null&&i._faqs&&Array.isArray(a.specifications._faqs)?a.specifications._faqs:[]},m=a=>{var i;return(i=a.specifications)!=null&&i._warranty_info&&typeof a.specifications._warranty_info=="object"?a.specifications._warranty_info:null},I=Q(()=>b.products.some(a=>a.rating)),M=Q(()=>b.products.some(a=>{var i;return(i=a.specifications)==null?void 0:i.Model})),R=Q(()=>b.products.some(a=>a.stock!==null&&a.stock!==void 0)),se=Q(()=>b.products.some(a=>a.featured)),ae=Q(()=>b.products.some(a=>a.short_description||a.description)),Z=Q(()=>b.products.some(a=>u(a).length>0)),ue=Q(()=>b.products.some(a=>X(a).length>0)),_=Q(()=>b.products.some(a=>te(a).length>0)),s=Q(()=>b.products.some(a=>x(a).length>0)),C=Q(()=>b.products.some(a=>m(a)!==null));return(a,i)=>{const p=y("v-icon"),P=y("v-btn"),O=y("v-card-title"),T=y("v-img"),K=y("v-chip"),W=y("v-table"),G=y("v-card-text"),ee=y("v-spacer"),le=y("v-card-actions"),ne=y("v-card"),oe=y("v-dialog");return l(),B(oe,{"model-value":c.modelValue,"max-width":"1400",scrollable:"","onUpdate:modelValue":i[3]||(i[3]=d=>a.$emit("update:modelValue",d))},{default:o(()=>[t(ne,{class:"rounded-xl"},{default:o(()=>[t(O,{class:"d-flex align-center justify-space-between pa-6 bg-primary text-white"},{default:o(()=>[e("div",Ht,[t(p,{icon:"mdi-scale-balance",class:"mr-3"}),i[4]||(i[4]=e("span",{class:"text-h5 font-weight-bold"},"Compare Products",-1))]),t(P,{icon:"mdi-close",variant:"text",color:"white",onClick:i[0]||(i[0]=d=>a.$emit("update:modelValue",!1))})]),_:1}),t(G,{class:"pa-0"},{default:o(()=>[c.products.length===0?(l(),r("div",Gt,[t(p,{icon:"mdi-scale-balance",size:"64",color:"grey-lighten-1",class:"mb-4"}),i[5]||(i[5]=e("p",{class:"text-body-1 text-medium-emphasis"},"No products selected for comparison.",-1)),i[6]||(i[6]=e("p",{class:"text-caption text-medium-emphasis mt-2"},"Select up to 3 products to compare.",-1))])):(l(),r("div",Yt,[t(W,{density:"comfortable",class:"comparison-table-content"},{default:o(()=>[e("thead",null,[e("tr",null,[i[8]||(i[8]=e("th",{class:"comparison-header"},"Feature",-1)),(l(!0),r(z,null,S(c.products,d=>(l(),r("th",{key:d.id,class:"comparison-product-header text-center"},[e("div",Zt,[t(P,{icon:"mdi-close",size:"x-small",variant:"text",class:"position-absolute top-0 right-0",onClick:q=>a.$emit("remove-product",d)},null,8,["onClick"]),t(T,{src:w(d),alt:d.title,"max-height":"120",contain:"",class:"mb-3"},null,8,["src","alt"]),e("h4",Jt,f(d.title),1),e("div",Xt,f(H(d)),1),t(P,{variant:"outlined",color:"primary",size:"small",to:`/products/${d.slug}`},{default:o(()=>i[7]||(i[7]=[h(" View Details ")])),_:2,__:[7]},1032,["to"])])]))),128))])]),e("tbody",null,[e("tr",es,[e("td",{colspan:c.products.length+1,class:"font-weight-bold text-h6 bg-primary text-white pa-3"}," Basic Information ",8,ts)]),e("tr",null,[i[9]||(i[9]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Category",-1)),(l(!0),r(z,null,S(c.products,d=>(l(),r("td",{key:d.id,class:"text-center"},[t(K,{size:"small",variant:"tonal",color:"primary"},{default:o(()=>[h(f(N(d)),1)]),_:2},1024)]))),128))]),e("tr",null,[i[10]||(i[10]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"SKU",-1)),(l(!0),r(z,null,S(c.products,d=>(l(),r("td",{key:d.id,class:"text-center"},[e("span",ss,f(d.sku||"N/A"),1)]))),128))]),M.value?(l(),r("tr",as,[i[11]||(i[11]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Model",-1)),(l(!0),r(z,null,S(c.products,d=>(l(),r("td",{key:d.id,class:"text-center"},[e("span",ls,f(J(d)),1)]))),128))])):V("",!0),e("tr",null,[i[12]||(i[12]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Price",-1)),(l(!0),r(z,null,S(c.products,d=>(l(),r("td",{key:d.id,class:"text-center"},[e("span",ns,f(H(d)),1)]))),128))]),R.value?(l(),r("tr",os,[i[13]||(i[13]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Stock Status",-1)),(l(!0),r(z,null,S(c.products,d=>(l(),r("td",{key:d.id,class:"text-center"},[d.stock!==null&&d.stock!==void 0?(l(),B(K,{key:0,color:d.stock>0?"success":"error",size:"small",variant:"flat"},{default:o(()=>[h(f(d.stock>0?`In Stock (${d.stock})`:"Out of Stock"),1)]),_:2},1032,["color"])):(l(),r("span",is,"N/A"))]))),128))])):V("",!0),se.value?(l(),r("tr",rs,[i[15]||(i[15]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Featured",-1)),(l(!0),r(z,null,S(c.products,d=>(l(),r("td",{key:d.id,class:"text-center"},[d.featured?(l(),B(K,{key:0,color:"amber",size:"small",variant:"flat"},{default:o(()=>[t(p,{icon:"mdi-star",size:"x-small",class:"mr-1"}),i[14]||(i[14]=h(" Featured "))]),_:1,__:[14]})):(l(),r("span",cs,"No"))]))),128))])):V("",!0),I.value?(l(),r("tr",ds,[i[16]||(i[16]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Rating",-1)),(l(!0),r(z,null,S(c.products,d=>(l(),r("td",{key:d.id,class:"text-center"},[d.rating?(l(),r("div",us,[t(p,{icon:"mdi-star",color:"amber",size:"small",class:"mr-1"}),e("span",ms,f(d.rating),1)])):(l(),r("span",vs,"N/A"))]))),128))])):V("",!0),ae.value?(l(),r("tr",ps,[e("td",{colspan:c.products.length+1,class:"font-weight-bold text-h6 bg-primary text-white pa-3"}," Description ",8,fs)])):V("",!0),ae.value?(l(),r("tr",ys,[i[17]||(i[17]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Short Description",-1)),(l(!0),r(z,null,S(c.products,d=>(l(),r("td",{key:d.id,class:"text-center"},[d.short_description?(l(),r("p",gs,f(d.short_description),1)):(l(),r("span",bs,"N/A"))]))),128))])):V("",!0),Z.value?(l(),r("tr",hs,[e("td",{colspan:c.products.length+1,class:"font-weight-bold text-h6 bg-primary text-white pa-3"}," Key Features ",8,_s)])):V("",!0),Z.value?(l(),r("tr",ws,[i[18]||(i[18]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Features",-1)),(l(!0),r(z,null,S(c.products,d=>(l(),r("td",{key:d.id,class:"text-center"},[u(d).length?(l(),r("div",ks,[(l(!0),r(z,null,S(u(d),(q,Y)=>(l(),B(K,{key:Y,size:"small",variant:"tonal",color:"primary",class:"mb-1"},{default:o(()=>[h(f(q),1)]),_:2},1024))),128))])):(l(),r("span",xs,"N/A"))]))),128))])):V("",!0),L.value.length>0?(l(),r("tr",Cs,[e("td",{colspan:c.products.length+1,class:"font-weight-bold text-h6 bg-primary text-white pa-3"}," Technical Specifications ",8,$s)])):V("",!0),(l(!0),r(z,null,S(L.value,d=>(l(),r("tr",{key:d.key},[e("td",As,f(d.label),1),(l(!0),r(z,null,S(c.products,q=>(l(),r("td",{key:q.id,class:"text-center"},[e("div",zs,[e("span",Ss,f(A(q,d.key)),1)])]))),128))]))),128)),e("tr",Vs,[e("td",{colspan:c.products.length+1,class:"font-weight-bold text-h6 bg-primary text-white pa-3"}," Additional Information ",8,Fs)]),ue.value?(l(),r("tr",Us,[i[19]||(i[19]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Tags",-1)),(l(!0),r(z,null,S(c.products,d=>(l(),r("td",{key:d.id,class:"text-center"},[X(d).length?(l(),r("div",Ps,[(l(!0),r(z,null,S(X(d),(q,Y)=>(l(),B(K,{key:Y,size:"x-small",variant:"outlined",color:"secondary"},{default:o(()=>[h(f(q),1)]),_:2},1024))),128))])):(l(),r("span",Bs,"N/A"))]))),128))])):V("",!0),_.value?(l(),r("tr",Rs,[i[20]||(i[20]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Downloads",-1)),(l(!0),r(z,null,S(c.products,d=>(l(),r("td",{key:d.id,class:"text-center"},[te(d).length?(l(),r("div",Ns,[(l(!0),r(z,null,S(te(d),(q,Y)=>(l(),B(K,{key:Y,size:"small",variant:"outlined",color:"info",class:"mb-1"},{default:o(()=>[t(p,{icon:"mdi-download",size:"small",class:"mr-1"}),h(" "+f(q.name||`Download ${Y+1}`),1)]),_:2},1024))),128))])):(l(),r("span",Ms,"N/A"))]))),128))])):V("",!0),s.value?(l(),r("tr",Os,[i[21]||(i[21]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"FAQs",-1)),(l(!0),r(z,null,S(c.products,d=>(l(),r("td",{key:d.id,class:"text-center"},[x(d).length?(l(),r("div",Ds,[(l(!0),r(z,null,S(x(d),(q,Y)=>(l(),r("div",{key:Y,class:"text-left w-100"},[e("div",Is," Q"+f(Y+1)+": "+f(q.question||"Question"),1),e("div",js," A: "+f(q.answer||"Answer"),1)]))),128))])):(l(),r("span",Es,"N/A"))]))),128))])):V("",!0),C.value?(l(),r("tr",Ls,[i[22]||(i[22]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Warranty Information",-1)),(l(!0),r(z,null,S(c.products,d=>(l(),r("td",{key:d.id,class:"text-center"},[m(d)?(l(),r("div",Qs,[(l(!0),r(z,null,S(m(d),(q,Y)=>(l(),r("div",{key:Y,class:"mb-1 text-body-2"},[e("span",Ts,f(D(Y))+":",1),e("span",qs,f(E(q)),1)]))),128))])):(l(),r("span",Ks,"N/A"))]))),128))])):V("",!0),e("tr",null,[i[23]||(i[23]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Recommended Use",-1)),(l(!0),r(z,null,S(c.products,d=>(l(),r("td",{key:d.id,class:"text-center"},[e("span",Ws,f(k(d)),1)]))),128))])])]),_:1})]))]),_:1}),t(le,{class:"pa-4 bg-grey-lighten-5"},{default:o(()=>[t(ee),t(P,{variant:"text",onClick:i[1]||(i[1]=d=>a.$emit("clear-all"))},{default:o(()=>i[24]||(i[24]=[h(" Clear All ")])),_:1,__:[24]}),t(P,{color:"primary",variant:"flat",onClick:i[2]||(i[2]=d=>a.$emit("update:modelValue",!1))},{default:o(()=>i[25]||(i[25]=[h(" Close ")])),_:1,__:[25]})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},Gs=we(Hs,[["__scopeId","data-v-aafec947"]]),Ys={class:"products-page-modern position-relative"},Zs={class:"mb-10 page-hero position-relative d-flex align-center justify-center text-center overflow-hidden"},Js={class:"glass-pill d-inline-flex align-center px-5 py-3 rounded-pill mb-8 animate-float"},Xs={class:"pb-12 bg-grey-lighten-5 min-vh-100"},ea={class:"results-banner mb-4"},ta={class:"results-icon-wrapper"},sa={class:"results-info"},aa={class:"text-subtitle-2 font-weight-bold text-grey-darken-3"},la={class:"text-caption text-grey-darken-1"},na={key:0,class:"text-center py-16"},oa={key:1,class:"text-center py-16"},ia={key:3,class:"text-center mt-12"},_e=12,ra={__name:"ProductsPage",setup(c){const{products:b,loading:w,fetchProducts:N}=Ye(),{categories:H,fetchCategories:D}=Ze(),{activeCategory:U,searchQuery:L,sortBy:E,sortOptions:A,filteredProducts:u,sortByLabel:k,hasActiveFilters:J,activeFiltersCount:X,setActiveCategory:te,setSortBy:x,setSearchQuery:m,clearFilters:I}=Je(b),{comparisonProducts:M,showComparison:R,canAddMore:se,isInComparison:ae,toggleComparison:Z,removeFromComparison:ue,clearComparison:_,openComparison:s,getComparisonSpecs:C}=Xe(3),a=F(_e),i=F(!1),p=F(!1),P=F(!1),O=F([0,1e4]),T=F([]),K=F([]),W=F(0),G=F([]),ee=F(null),le=Q(()=>{const $=new Set;return b.value.forEach(v=>{v.brand&&$.add(v.brand)}),Array.from($).sort()}),ne=Q(()=>{const $={wireless:"mdi-wifi",waterproof:"mdi-water",bluetooth:"mdi-bluetooth",rechargeable:"mdi-battery-charging",warranty:"mdi-shield-check",eco_friendly:"mdi-leaf"},v=new Set;return b.value.forEach(j=>{j.features&&Array.isArray(j.features)&&j.features.forEach(de=>{de&&v.add(de)})}),Array.from(v).sort().map(j=>({value:j,label:j.split("_").map(de=>de.charAt(0).toUpperCase()+de.slice(1)).join(" "),icon:$[j]||"mdi-check-circle"}))}),oe=Q(()=>C()),d=Q(()=>{let $=[...u.value];return(O.value[0]>0||O.value[1]<1e4)&&($=$.filter(v=>{const j=parseFloat(v.price)||0;return j>=O.value[0]&&j<=O.value[1]})),T.value.length>0&&($=$.filter(v=>T.value.includes(v.availability))),K.value.length>0&&($=$.filter(v=>K.value.includes(v.brand))),W.value>0&&($=$.filter(v=>(parseFloat(v.rating)||0)>=W.value)),G.value.length>0&&($=$.filter(v=>!v.features||!Array.isArray(v.features)?!1:G.value.some(j=>v.features.includes(j)))),ee.value&&($=$.filter(v=>{const j=parseFloat(v.discount_percent)||0;return ee.value==="any"?j>0:j>=parseFloat(ee.value)})),$}),q=Q(()=>d.value.slice(0,a.value)),Y=Q(()=>d.value.length>a.value),ve=$=>{O.value=$},pe=$=>{T.value=$},n=$=>{K.value=$},ie=$=>{W.value=$},ke=$=>{G.value=$},xe=$=>{ee.value=$},Ue=$=>{!Z($)&&!ae($)&&console.warn("Cannot add more than 3 products to comparison")},Pe=()=>{i.value=!0,setTimeout(()=>{a.value+=_e,i.value=!1},200)},fe=()=>{I(),O.value=[0,1e4],T.value=[],K.value=[],W.value=0,G.value=[],ee.value=null};ce([U,L,E,O,T,K,W,G,ee],()=>{a.value=_e},{deep:!0});const ge=()=>{P.value=window.innerWidth<1280};return Se(async()=>{ge(),window.addEventListener("resize",ge),await Promise.all([D(),N()])}),Ve(()=>{window.removeEventListener("resize",ge)}),($,v)=>{const j=y("v-icon"),de=y("v-badge"),me=y("v-btn"),Be=y("v-fade-transition"),Ce=y("v-container"),be=y("v-col"),Re=y("v-toolbar-title"),Ne=y("v-spacer"),Me=y("v-chip"),Oe=y("v-toolbar"),De=y("v-card-text"),Ie=y("v-divider"),je=y("v-card-actions"),Ee=y("v-card"),Le=y("v-dialog"),Qe=y("v-progress-circular"),$e=y("v-row");return l(),r("div",Ys,[!p.value&&P.value?(l(),B(me,{key:0,class:ye(["mobile-filter-toggle d-lg-none",{"has-active-filters":g(J)}]),color:"primary",size:"large",elevation:"6",onClick:v[0]||(v[0]=re=>p.value=!0)},{default:o(()=>[t(j,{icon:"mdi-filter-variant",size:"20"}),v[5]||(v[5]=e("span",{class:"filter-text ml-2"},"Filters",-1)),g(J)?(l(),B(de,{key:0,content:g(X),color:"error",class:"filter-badge","offset-x":"-8","offset-y":"-8"},null,8,["content"])):V("",!0)]),_:1,__:[5]},8,["class"])):V("",!0),e("section",Zs,[v[10]||(v[10]=We('<div class="hero-bg-gradient" data-v-bead152c></div><div class="hero-pattern" data-v-bead152c></div><div class="gradient-orb orb-1" data-v-bead152c></div><div class="gradient-orb orb-2" data-v-bead152c></div><div class="gradient-orb orb-3" data-v-bead152c></div>',5)),t(Ce,{class:"position-relative z-index-2"},{default:o(()=>[t(Be,{appear:""},{default:o(()=>[e("div",null,[e("div",Js,[v[6]||(v[6]=e("div",{class:"pulse-dot mr-2"},null,-1)),t(j,{icon:"mdi-shield-check",color:"amber-accent-4",size:"small",class:"mr-2"}),v[7]||(v[7]=e("span",{class:"text-subtitle-2 font-weight-bold tracking-wide text-white"},"PREMIUM QUALITY",-1))]),v[8]||(v[8]=e("h1",{class:"text-h4 text-lg-h2 font-weight-black text-white mb-6 lh-tight text-shadow-sm animate-slide-up"},[h(" Explore Our "),e("span",{class:"text-amber-accent-3"},"Product Range")],-1)),v[9]||(v[9]=e("p",{class:"text-h6 text-white opacity-90 mw-700 mx-auto font-weight-light animate-slide-up-delay"}," Discover high-performance solutions designed for your business needs. Browse, compare, and find the perfect product. ",-1))])]),_:1})]),_:1})]),e("section",Xs,[t(Ce,{fluid:""},{default:o(()=>[t($e,{class:"products-layout"},{default:o(()=>[t(be,{lg:"3",xl:"2",class:"filter-sidebar d-none d-lg-block"},{default:o(()=>[t(ze,{categories:g(H),"active-category":g(U),"search-query":g(L),"sort-by":g(E),"sort-options":g(A),"sort-by-label":g(k),"has-active-filters":g(J),"active-filters-count":g(X),"comparison-count":g(M).length,"results-count":d.value.length,"price-range":O.value,availability:T.value,brands:le.value,"selected-brands":K.value,"min-rating":W.value,features:ne.value,"selected-features":G.value,discount:ee.value,"onUpdate:activeCategory":g(te),"onUpdate:searchQuery":g(m),"onUpdate:sortBy":g(x),"onUpdate:priceRange":ve,"onUpdate:availability":pe,"onUpdate:brands":n,"onUpdate:minRating":ie,"onUpdate:features":ke,"onUpdate:discount":xe,onClearFilters:fe,onOpenComparison:g(s)},null,8,["categories","active-category","search-query","sort-by","sort-options","sort-by-label","has-active-filters","active-filters-count","comparison-count","results-count","price-range","availability","brands","selected-brands","min-rating","features","selected-features","discount","onUpdate:activeCategory","onUpdate:searchQuery","onUpdate:sortBy","onOpenComparison"])]),_:1}),t(Le,{modelValue:p.value,"onUpdate:modelValue":v[3]||(v[3]=re=>p.value=re),fullscreen:"",transition:"dialog-bottom-transition",class:"mobile-filters-dialog d-lg-none",scrollable:"",persistent:""},{default:o(()=>[t(Ee,{class:"mobile-filter-card"},{default:o(()=>[t(Oe,{color:"primary",class:"mobile-filter-toolbar",elevation:"2"},{default:o(()=>[t(me,{icon:"mdi-close",onClick:v[1]||(v[1]=re=>p.value=!1),"aria-label":"Close filters"}),t(Re,{class:"font-weight-bold"},{default:o(()=>[t(j,{icon:"mdi-filter-variant",size:"20",class:"mr-2"}),v[11]||(v[11]=h(" Filters "))]),_:1,__:[11]}),t(Ne),g(J)?(l(),B(Me,{key:0,color:"white",variant:"flat",size:"small",class:"filter-count-chip"},{default:o(()=>[h(f(g(X))+" active ",1)]),_:1})):V("",!0)]),_:1}),t(De,{class:"mobile-dialog-content pa-4"},{default:o(()=>[e("div",ea,[e("div",ta,[t(j,{icon:"mdi-package-variant",color:"primary",size:"24"})]),e("div",sa,[e("span",aa,f(d.value.length)+" Products ",1),e("span",la,f(g(J)?"Filtered results":"All available products"),1)])]),t(ze,{categories:g(H),"active-category":g(U),"search-query":g(L),"sort-by":g(E),"sort-options":g(A),"sort-by-label":g(k),"has-active-filters":g(J),"active-filters-count":g(X),"comparison-count":g(M).length,"results-count":d.value.length,"price-range":O.value,availability:T.value,brands:le.value,"selected-brands":K.value,"min-rating":W.value,features:ne.value,"selected-features":G.value,discount:ee.value,mobile:!0,"onUpdate:activeCategory":g(te),"onUpdate:searchQuery":g(m),"onUpdate:sortBy":g(x),"onUpdate:priceRange":ve,"onUpdate:availability":pe,"onUpdate:brands":n,"onUpdate:minRating":ie,"onUpdate:features":ke,"onUpdate:discount":xe,onClearFilters:fe,onOpenComparison:g(s)},null,8,["categories","active-category","search-query","sort-by","sort-options","sort-by-label","has-active-filters","active-filters-count","comparison-count","results-count","price-range","availability","brands","selected-brands","min-rating","features","selected-features","discount","onUpdate:activeCategory","onUpdate:searchQuery","onUpdate:sortBy","onOpenComparison"])]),_:1}),t(Ie),t(je,{class:"mobile-dialog-footer pa-4"},{default:o(()=>[t(me,{variant:"outlined",color:"grey-darken-1",size:"large",class:"flex-grow-1",onClick:fe},{default:o(()=>[t(j,{icon:"mdi-refresh",class:"mr-2"}),v[12]||(v[12]=h(" Reset "))]),_:1,__:[12]}),t(me,{color:"primary",size:"large",class:"flex-grow-1",onClick:v[2]||(v[2]=re=>p.value=!1)},{default:o(()=>[t(j,{icon:"mdi-check",class:"mr-2"}),v[13]||(v[13]=h(" Apply Filters "))]),_:1,__:[13]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(be,{cols:"12",lg:"9",xl:"10",class:"products-content"},{default:o(()=>[g(w)?(l(),r("div",na,[t(Qe,{indeterminate:"",color:"primary",size:"64"}),v[14]||(v[14]=e("p",{class:"text-body-1 text-medium-emphasis mt-4"},"Loading products...",-1))])):d.value.length===0?(l(),r("div",oa,[t(j,{icon:"mdi-package-variant",size:"64",color:"grey-lighten-1",class:"mb-4"}),v[16]||(v[16]=e("h3",{class:"text-h6 font-weight-bold text-grey-darken-2 mb-2"},"No products found",-1)),v[17]||(v[17]=e("p",{class:"text-body-2 text-medium-emphasis mb-6"}," Try adjusting your filters or search terms. ",-1)),t(me,{variant:"outlined",color:"primary",onClick:fe},{default:o(()=>v[15]||(v[15]=[h(" Clear Filters ")])),_:1,__:[15]})])):(l(),B($e,{key:2},{default:o(()=>[(l(!0),r(z,null,S(q.value,re=>(l(),B(be,{key:re.id,cols:"12",sm:"6",xl:"4",xxl:"3"},{default:o(()=>[t(Ge,{product:re,"comparison-disabled":!g(se)&&!g(ae)(re),onToggleComparison:Ue},null,8,["product","comparison-disabled"])]),_:2},1024))),128))]),_:1})),q.value.length>0&&Y.value?(l(),r("div",ia,[t(me,{variant:"outlined",color:"primary",size:"large",rounded:"pill",class:"px-10 font-weight-bold",onClick:Pe,loading:i.value},{default:o(()=>v[18]||(v[18]=[h(" Load More Products ")])),_:1,__:[18]},8,["loading"])])):V("",!0)]),_:1})]),_:1})]),_:1})]),t(Gs,{modelValue:g(R),"onUpdate:modelValue":v[4]||(v[4]=re=>He(R)?R.value=re:null),products:g(M),"comparison-specs":oe.value,onRemoveProduct:g(ue),onClearAll:g(_)},null,8,["modelValue","products","comparison-specs","onRemoveProduct","onClearAll"])])}}},pa=we(ra,[["__scopeId","data-v-bead152c"]]);export{pa as default};
