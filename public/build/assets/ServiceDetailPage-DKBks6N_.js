import{r as B}from"./uploads-CnEkgyD_.js";import{_ as I,d as a,h as _,a as n,b as s,w as i,r as l,t as p,f as u,F as S,e as T,c as f,o as r}from"./app-Dh6wD5JW.js";const L={name:"ServiceDetailPage",data(){return{service:{title:"Loading...",short_description:"Please wait while we load the service details."},otherServices:[],loading:!0,loadingOtherServices:!1,error:null}},mounted(){this.loadService(),this.loadOtherServices()},watch:{"$route.params.slug":function(){this.loadService(),this.loadOtherServices()}},beforeUnmount(){this.cleanupMetaTags()},methods:{updateMetaTags(){const o="Micro_Control_Technology",t=window.location.origin,c=this.service.meta_title||this.service.title||"Service";document.title=`${c} - ${o}`;const d=this.service.meta_description||this.service.short_description||"";this.updateMetaTag("name","description",d),this.service.meta_keywords&&this.updateMetaTag("name","keywords",this.service.meta_keywords),this.updateMetaTag("property","og:title",c),this.updateMetaTag("property","og:description",d),this.updateMetaTag("property","og:type","website"),this.updateMetaTag("property","og:url",`${t}${this.$route.fullPath}`);const e=this.service.og_image||this.service.image||"";if(e){const g=e.startsWith("http")?e:`${t}${e}`;this.updateMetaTag("property","og:image",g),this.updateMetaTag("property","og:image:secure_url",g)}if(this.updateMetaTag("name","twitter:card","summary_large_image"),this.updateMetaTag("name","twitter:title",c),this.updateMetaTag("name","twitter:description",d),e){const g=e.startsWith("http")?e:`${t}${e}`;this.updateMetaTag("name","twitter:image",g)}},updateMetaTag(o,t,c){if(!c)return;const d=document.querySelector(`meta[${o}="${t}"]`);if(d)d.setAttribute("content",c);else{const e=document.createElement("meta");e.setAttribute(o,t),e.setAttribute("content",c),document.head.appendChild(e)}},cleanupMetaTags(){const o="Micro_Control_Technology";document.title=`${o}`;const t=["og:title","og:description","og:image","og:image:secure_url","og:url"],c=["twitter:title","twitter:description","twitter:image"];[...t,...c].forEach(d=>{const e=document.querySelector(`meta[property="${d}"], meta[name="${d}"]`);e&&e.remove()})},async loadService(){this.loading=!0,this.error=null;try{const o=this.$route.params.slug,t=await this.$axios.get(`/api/openapi/services/${o}`);this.service=t.data,this.$nextTick(()=>{this.updateMetaTags()})}catch(o){console.error("Error loading service:",o),o.response&&o.response.status===404?this.error="Service not found. The service you are looking for does not exist or is not published.":this.error="Failed to load service details. Please try again later.",this.service={title:"Service Not Found",short_description:"The requested service could not be found."}}finally{this.loading=!1}},async loadOtherServices(){this.loadingOtherServices=!0;try{const t=(await this.$axios.get("/api/openapi/services")).data||[],c=this.$route.params.slug;this.otherServices=t.filter(d=>d.slug!==c).slice(0,5)}catch(o){console.error("Error loading other services:",o),this.otherServices=[]}finally{this.loadingOtherServices=!1}},resolveImageUrl(o){return B(o)}}},P={class:"service-detail-page"},A={key:0,class:"page-hero position-relative d-flex align-center justify-center text-center"},F={class:"glass-pill d-inline-flex align-center px-4 py-2 rounded-pill mb-6"},V={class:"text-h4 text-lg-h3 font-weight-black text-white mb-6 lh-tight text-shadow-sm"},D={class:"text-h6 text-white opacity-80 mw-800 mx-auto font-weight-light"},q={key:1,class:"py-20 bg-surface"},W={class:"text-center"},j={key:2,class:"py-20 bg-surface"},H={key:3,class:"py-20 bg-surface"},G={class:"text-body-1 text-grey-darken-3 lh-relaxed mb-8"},K={class:"mb-8"},Q=["innerHTML"],R={key:1,class:"mb-6"},$={key:2},J={key:3},X={key:4,class:"mb-6"},Y={class:"text-body-1"},Z={key:0,class:"text-center py-4"},ee={key:2,class:"text-body-2 text-medium-emphasis text-center py-4"};function te(o,t,c,d,e,g){const h=l("v-icon"),E=l("v-fade-transition"),v=l("v-container"),k=l("v-progress-circular"),N=l("v-alert"),M=l("v-btn"),O=l("v-img"),y=l("v-list-item-title"),b=l("v-list-item"),w=l("v-list"),C=l("v-col"),U=l("v-card"),z=l("v-row");return r(),a("div",P,[!e.loading&&!e.error?(r(),a("section",A,[t[1]||(t[1]=n("div",{class:"hero-bg-gradient"},null,-1)),t[2]||(t[2]=n("div",{class:"hero-pattern"},null,-1)),s(v,{class:"position-relative z-index-2"},{default:i(()=>[s(E,{appear:""},{default:i(()=>[n("div",null,[n("div",F,[s(h,{icon:"mdi-cogs",color:"amber-accent-4",size:"small",class:"mr-2"}),t[0]||(t[0]=n("span",{class:"text-subtitle-2 font-weight-bold tracking-wide text-white"},"SERVICE DETAILS",-1))]),n("h1",V,p(e.service.title),1),n("p",D,p(e.service.short_description),1)])]),_:1})]),_:1})])):_("",!0),e.loading?(r(),a("section",q,[s(v,null,{default:i(()=>[n("div",W,[s(k,{indeterminate:"",color:"primary",size:"64"}),t[3]||(t[3]=n("p",{class:"mt-4 text-body-1"},"Loading service details...",-1))])]),_:1})])):e.error?(r(),a("section",j,[s(v,null,{default:i(()=>[s(N,{type:"error",variant:"tonal",class:"mb-4"},{default:i(()=>[u(p(e.error),1)]),_:1}),s(M,{color:"primary",to:{name:"Services"}},{default:i(()=>t[4]||(t[4]=[u("Back to Services")])),_:1,__:[4]})]),_:1})])):(r(),a("section",H,[s(v,null,{default:i(()=>[s(z,null,{default:i(()=>[s(C,{cols:"12",md:"8"},{default:i(()=>[n("div",G,[n("div",K,[s(O,{src:e.service.image?g.resolveImageUrl(e.service.image):"/assets/img/default.jpg","max-width":"100%",height:"400",cover:"",class:"rounded-xl elevation-4"},null,8,["src"])]),e.service.description?(r(),a("div",{key:0,class:"mb-6",innerHTML:e.service.description},null,8,Q)):(r(),a("p",R,[t[5]||(t[5]=u(" At Micro Control Technology, our ")),n("strong",null,p(e.service.title),1),t[6]||(t[6]=u(" service is designed to ensure your operations never miss a beat. We understand the critical nature of reliable power, which is why we offer comprehensive solutions tailored to your specific needs. "))])),e.service.benefits&&e.service.benefits.length>0?(r(),a("div",$,[t[7]||(t[7]=n("h3",{class:"text-h5 font-weight-bold mb-4"},"Key Benefits",-1)),s(w,{density:"comfortable",class:"bg-transparent mb-6"},{default:i(()=>[(r(!0),a(S,null,T(e.service.benefits,(m,x)=>(r(),f(b,{key:x,class:"px-0"},{prepend:i(()=>[s(h,{color:"primary",icon:"mdi-check-circle",class:"mr-3"})]),default:i(()=>[s(y,{class:"text-body-1"},{default:i(()=>[u(p(m),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):_("",!0),e.service.features&&e.service.features.length>0?(r(),a("div",J,[t[8]||(t[8]=n("h3",{class:"text-h5 font-weight-bold mb-4"},"Features",-1)),s(w,{density:"comfortable",class:"bg-transparent mb-6"},{default:i(()=>[(r(!0),a(S,null,T(e.service.features,(m,x)=>(r(),f(b,{key:x,class:"px-0"},{prepend:i(()=>[s(h,{color:"primary",icon:"mdi-star",class:"mr-3"})]),default:i(()=>[s(y,{class:"text-body-1"},{default:i(()=>[u(p(m),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):_("",!0),e.service.price_range?(r(),a("div",X,[t[9]||(t[9]=n("h3",{class:"text-h5 font-weight-bold mb-2"},"Pricing",-1)),n("p",Y,p(e.service.price_range),1)])):_("",!0),n("p",null," Contact us today to learn more about how our "+p(e.service.title)+" can benefit your business or home. ",1)]),s(M,{color:"primary",size:"large",rounded:"pill",to:{name:"Contact"},class:"font-weight-bold px-8"},{default:i(()=>t[10]||(t[10]=[u(" Get a Quote for this Service ")])),_:1,__:[10]})]),_:1}),s(C,{cols:"12",md:"4"},{default:i(()=>[s(U,{class:"rounded-xl pa-6 elevation-4 bg-grey-lighten-5"},{default:i(()=>[t[11]||(t[11]=n("h4",{class:"text-h6 font-weight-bold mb-4"},"Other Services",-1)),e.loadingOtherServices?(r(),a("div",Z,[s(k,{indeterminate:"",color:"primary",size:"32"})])):e.otherServices.length>0?(r(),f(w,{key:1,class:"bg-transparent"},{default:i(()=>[(r(!0),a(S,null,T(e.otherServices,m=>(r(),f(b,{key:m.id,to:`/services/${m.slug}`,rounded:"lg","active-color":"primary",class:"mb-2"},{prepend:i(()=>[s(h,{icon:"mdi-chevron-right",size:"small"})]),default:i(()=>[s(y,{class:"font-weight-medium"},{default:i(()=>[u(p(m.title),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})):(r(),a("p",ee,"No other services available"))]),_:1,__:[11]})]),_:1})]),_:1})]),_:1})]))])}const re=I(L,[["render",te],["__scopeId","data-v-365785b3"]]);export{re as default};
