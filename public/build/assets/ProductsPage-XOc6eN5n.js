import{p as N,q as B,_ as q,r as g,c as D,o as n,w as d,b as i,m as Q,a as t,g as E,f as z,n as j,h as X,d as v,t as C,F as V,e as I,s as ee,u as ue,x as w,y as me,z as pe,l as ve,A as fe}from"./app-BWbsA8X-.js";import{S as ge}from"./ShareDialog-DRcMEm81.js";import{r as ye}from"./uploads-CnEkgyD_.js";function he(){const s=N([]),r=N(!1),y=N(null),h=async()=>{r.value=!0,y.value=null;try{const e=await window.axios.get("/api/openapi/products");return s.value=Array.isArray(e.data)?e.data:[],s.value}catch(e){return console.error("Error loading products:",e),y.value=e.message||"Failed to load products",s.value=a(),s.value}finally{r.value=!1}},S=e=>s.value.find(f=>f.slug===e)||null,F=e=>e!=null&&e.thumbnail?e.thumbnail:e!=null&&e.images&&e.images.length>0?e.images[0]:"https://via.placeholder.com/400x300?text=Product",k=e=>e!=null&&e.categories&&e.categories.length>0?e.categories[0].name:"Uncategorized",u=e=>e!=null&&e.price_range?e.price_range:e!=null&&e.price?`$${parseFloat(e.price).toFixed(2)}`:"Contact for Price",P=e=>{const f=[];return e!=null&&e.specifications&&(e.specifications.capacity&&f.push({label:"Capacity",value:e.specifications.capacity}),e.specifications.input&&f.push({label:"Input",value:e.specifications.input}),e.specifications.type&&f.push({label:"Type",value:e.specifications.type})),f.slice(0,3)},a=()=>Array.from({length:12}).map((e,f)=>({id:f+1,title:`Industrial Power Unit ${f+100}`,slug:`product-${f+1}`,sku:`MCT-${String(f+1).padStart(4,"0")}`,short_description:"High-performance power solution designed for reliability and efficiency.",price:(Math.random()*1e3+200).toFixed(2),featured:f%3===0,rating:(4+Math.random()).toFixed(1),categories:[{id:f%2===0?"ups":"batteries",name:f%2===0?"UPS Systems":"Batteries"}],specifications:{capacity:`${500+f*100}VA`,input:"230V AC",type:"Online Double Conversion"},created_at:new Date(Date.now()-f*864e5).toISOString()}));return{products:s,loading:r,error:y,fetchProducts:h,getProductBySlug:S,getProductImage:F,getCategoryName:k,formatPrice:u,getQuickSpecs:P}}function be(){const s=N([]),r=N(!1),y=N(null),h=[{id:"all",name:"All Products",icon:"mdi-view-grid"},{id:"ups",name:"UPS Systems",icon:"mdi-power"},{id:"batteries",name:"Batteries",icon:"mdi-battery"},{id:"inverters",name:"Inverters",icon:"mdi-flash"},{id:"solar",name:"Solar",icon:"mdi-solar-power"},{id:"accessories",name:"Accessories",icon:"mdi-package-variant"}],S={ups:"mdi-power",batteries:"mdi-battery",inverters:"mdi-flash",solar:"mdi-solar-power",accessories:"mdi-package-variant",power:"mdi-lightning-bolt",energy:"mdi-flash-circle"},F=a=>{const e=(a==null?void 0:a.toLowerCase())||"";return S[e]||"mdi-package-variant"},k=async()=>{r.value=!0,y.value=null;try{const a=await window.axios.get("/api/openapi/categories?type=product"),e=Array.isArray(a.data)?a.data:a.data.data||a.data.categories||[];return Array.isArray(e)&&e.length>0?s.value=[{id:"all",name:"All Products",icon:"mdi-view-grid"},...e.map(f=>({id:f.id,name:f.name,slug:f.slug,icon:F(f.slug||f.name)}))]:s.value=h,s.value}catch(a){return console.error("Error loading categories:",a),y.value=a.message||"Failed to load categories",s.value=h,s.value}finally{r.value=!1}},u=a=>s.value.find(e=>e.id===a)||null;return{categories:s,loading:r,error:y,fetchCategories:k,getCategoryById:u,getCategoryNameById:a=>{const e=u(a);return e?e.name:"Unknown"},getCategoryIcon:F}}function _e(s){const r=N("all"),y=N(""),h=N("newest"),S=[{label:"Newest First",value:"newest"},{label:"Price: Low to High",value:"price_asc"},{label:"Price: High to Low",value:"price_desc"},{label:"Name: A to Z",value:"name_asc"},{label:"Name: Z to A",value:"name_desc"},{label:"Featured First",value:"featured"}],F=B(()=>{const o=S.find(l=>l.value===h.value);return o?o.label:"Newest First"}),k=o=>r.value==="all"?o:o.filter(l=>{var x;return(((x=l.categories)==null?void 0:x.map(L=>L.id))||[]).includes(r.value)}),u=o=>{if(!y.value)return o;const l=y.value.toLowerCase().trim();return o.filter(_=>{var x,L,R,c;return((x=_.title)==null?void 0:x.toLowerCase().includes(l))||((L=_.short_description)==null?void 0:L.toLowerCase().includes(l))||((R=_.sku)==null?void 0:R.toLowerCase().includes(l))||((c=_.description)==null?void 0:c.toLowerCase().includes(l))})},P=o=>{const l=[...o];return l.sort((_,x)=>{switch(h.value){case"price_asc":return(parseFloat(_.price)||0)-(parseFloat(x.price)||0);case"price_desc":return(parseFloat(x.price)||0)-(parseFloat(_.price)||0);case"name_asc":return(_.title||"").localeCompare(x.title||"");case"name_desc":return(x.title||"").localeCompare(_.title||"");case"featured":return _.featured&&!x.featured?-1:!_.featured&&x.featured?1:0;case"newest":default:return new Date(x.created_at||0)-new Date(_.created_at||0)}}),l},a=B(()=>{let o=s.value||[];return o=k(o),o=u(o),o=P(o),o}),e=B(()=>r.value!=="all"||y.value!==""||h.value!=="newest"),f=B(()=>{let o=0;return r.value!=="all"&&o++,y.value!==""&&o++,h.value!=="newest"&&o++,o});return{activeCategory:r,searchQuery:y,sortBy:h,sortOptions:S,filteredProducts:a,sortByLabel:F,hasActiveFilters:e,activeFiltersCount:f,setActiveCategory:o=>{r.value=o},setSortBy:o=>{h.value=o},setSearchQuery:o=>{y.value=o},clearFilters:()=>{r.value="all",y.value="",h.value="newest"}}}function we(s=3){const r=N([]),y=N(!1),h=p=>r.value.some(o=>o.id===p.id),S=B(()=>r.value.length<s),F=p=>!p||h(p)||!S.value?!1:(r.value.push(p),!0),k=p=>{const o=r.value.findIndex(l=>l.id===p.id);return o>-1?(r.value.splice(o,1),!0):!1};return{comparisonProducts:r,showComparison:y,maxProducts:s,canAddMore:S,isInComparison:h,addToComparison:F,removeFromComparison:k,toggleComparison:p=>{if(h(p))k(p);else if(!F(p))return!1;return!0},clearComparison:()=>{r.value=[]},openComparison:()=>{y.value=!0},closeComparison:()=>{y.value=!1},getComparisonSpecs:()=>{const p=new Set;return r.value.forEach(o=>{o.specifications&&Object.keys(o.specifications).forEach(l=>p.add(l))}),Array.from(p).map(o=>({key:o,label:o.charAt(0).toUpperCase()+o.slice(1).replace(/_/g," ")}))},getSpecValue:(p,o)=>p.specifications&&p.specifications[o]?p.specifications[o]:"N/A",getKeyFeatures:p=>p.key_features&&Array.isArray(p.key_features)?p.key_features:["High Performance","Reliable Design","Energy Efficient"],getRecommendedUse:p=>{var l,_,x;if(p.recommended_use)return p.recommended_use;const o=((x=(_=(l=p.categories)==null?void 0:l[0])==null?void 0:_.name)==null?void 0:x.toLowerCase())||"";return o.includes("ups")?"Data Centers, Servers":o.includes("battery")?"Backup Power Systems":o.includes("solar")?"Renewable Energy Systems":"General Purpose"}}}const Ce={class:"product-image-container position-relative bg-grey-lighten-4",style:{height:"240px",overflow:"hidden"}},xe={class:"actions-overlay d-flex align-center justify-center gap-2"},ke={class:"pa-5"},$e={class:"d-flex justify-space-between align-start mb-2"},Se={class:"text-caption font-weight-bold text-primary text-uppercase tracking-wide"},Pe={key:0,class:"d-flex align-center"},Ae={class:"text-caption font-weight-bold"},Fe={class:"text-h6 font-weight-bold text-grey-darken-4 mb-2 lh-tight",style:{"min-height":"48px"}},ze={class:"text-body-2 text-medium-emphasis mb-4 line-clamp-2",style:{"min-height":"40px"}},Ue={key:0,class:"specs-preview my-4 py-3 border-top border-bottom border-dashed"},Be={class:"d-flex flex-wrap gap-3"},Ne={class:"spec-label"},Ve={class:"spec-value"},Ie={class:"d-flex align-center justify-space-between mt-4"},De={key:0,class:"text-caption text-medium-emphasis text-decoration-line-through mr-2"},Ee={class:"text-h6 font-weight-black text-primary"},Le={__name:"ProductCard",props:{product:{type:Object,required:!0},comparisonDisabled:{type:Boolean,default:!1}},emits:["toggle-comparison"],setup(s){const r=s,y=N(!1),h=m=>!m||typeof m!="string"?null:ye(m),S=m=>{if(!m)return null;if(Array.isArray(m))return m.length>0?m[0]:null;if(typeof m=="string")try{const b=JSON.parse(m);if(Array.isArray(b)&&b.length>0)return b[0]}catch{return m}return null},F=B(()=>{var b,U;let m=null;if((b=r.product)!=null&&b.thumbnail&&(m=h(r.product.thumbnail)),!m&&((U=r.product)!=null&&U.images)){const p=S(r.product.images);p&&(m=h(p))}return m||"/assets/img/default.jpg"}),k=B(()=>r.product.categories&&r.product.categories.length>0?r.product.categories[0].name:"Uncategorized"),u=B(()=>r.product.price_range?r.product.price_range:r.product.price?`$${parseFloat(r.product.price).toFixed(2)}`:"Contact for Price"),P=B(()=>{const m=[];return r.product.specifications&&(r.product.specifications.capacity&&m.push({label:"Capacity",value:r.product.specifications.capacity}),r.product.specifications.input&&m.push({label:"Input",value:r.product.specifications.input}),r.product.specifications.type&&m.push({label:"Type",value:r.product.specifications.type})),m.slice(0,3)}),a=B(()=>`${window.location.origin}/products/${r.product.slug}`),e=B(()=>{const m=r.product.title||"Product",b=r.product.short_description||"",U=u.value;return`Check out ${m}${b?` - ${b}`:""}${U?` - ${U}`:""}`}),f=()=>{navigator.share?navigator.share({title:r.product.title,text:e.value,url:a.value}).catch(m=>{m.name!=="AbortError"&&(y.value=!0)}):y.value=!0};return(m,b)=>{const U=g("v-chip"),p=g("v-img"),o=g("v-btn"),l=g("v-tooltip"),_=g("v-icon"),x=g("v-card"),L=g("v-hover");return n(),D(L,null,{default:d(({isHovering:R,props:c})=>[i(x,Q(c,{elevation:R?8:2,class:"product-card h-100 bg-white rounded-xl overflow-hidden transition-all"}),{default:d(()=>[t("div",Ce,[s.product.featured?(n(),D(U,{key:0,color:"amber-accent-4",variant:"flat",size:"x-small",class:"position-absolute top-0 left-0 ma-3 font-weight-bold z-index-2"},{default:d(()=>b[2]||(b[2]=[z(" FEATURED ")])),_:1,__:[2]})):E("",!0),i(p,{src:F.value,alt:s.product.title,height:"100%",cover:"",class:j(["product-img transition-transform",{"scale-110":R}])},null,8,["src","alt","class"]),t("div",xe,[i(l,{text:"View product details",location:"top"},{activator:d(({props:A})=>[i(o,Q({icon:"mdi-eye-outline",variant:"flat",color:"white",size:"small",class:"hover-scale"},A,{to:`/products/${s.product.slug}`,"aria-label":"View product details"}),null,16,["to"])]),_:1}),i(l,{text:"Add to comparison",location:"top"},{activator:d(({props:A})=>[i(o,Q({icon:"mdi-scale-balance",variant:"flat",color:"primary",size:"small",class:"hover-scale"},A,{disabled:s.comparisonDisabled,onClick:b[0]||(b[0]=X(M=>m.$emit("toggle-comparison",s.product),["prevent"])),"aria-label":"Add to comparison"}),null,16,["disabled"])]),_:1}),i(l,{text:"Share product",location:"top"},{activator:d(({props:A})=>[i(o,Q({icon:"mdi-share-variant",variant:"flat",color:"success",size:"small",class:"hover-scale"},A,{onClick:X(f,["prevent"]),"aria-label":"Share product"}),null,16)]),_:1})])]),t("div",ke,[t("div",$e,[t("div",Se,C(k.value),1),s.product.rating?(n(),v("div",Pe,[i(_,{icon:"mdi-star",color:"amber",size:"x-small",class:"mr-1"}),t("span",Ae,C(s.product.rating),1)])):E("",!0)]),t("h3",Fe,C(s.product.title),1),t("p",ze,C(s.product.short_description),1),P.value.length>0?(n(),v("div",Ue,[t("div",Be,[(n(!0),v(V,null,I(P.value,(A,M)=>(n(),v("div",{key:M,class:"spec-badge"},[t("span",Ne,C(A.label),1),t("span",Ve,C(A.value),1)]))),128))])])):E("",!0),t("div",Ie,[t("div",null,[s.product.oldPrice?(n(),v("span",De," $"+C(s.product.oldPrice),1)):E("",!0),t("span",Ee,C(u.value),1)]),i(o,{variant:"text",color:"primary",class:"px-0 font-weight-bold text-capitalize",to:`/products/${s.product.slug}`},{default:d(()=>[b[3]||(b[3]=z(" View Details ")),i(_,{icon:"mdi-arrow-right",size:"small",class:"ml-1"})]),_:1,__:[3]},8,["to"])])])]),_:2},1040,["elevation"]),i(ge,{modelValue:y.value,"onUpdate:modelValue":b[1]||(b[1]=A=>y.value=A),title:s.product.title,url:a.value,"share-text":e.value},null,8,["modelValue","title","url","share-text"])]),_:1})}}},Re=q(Le,[["__scopeId","data-v-f04d9eca"]]);function Me(s,r=300){let y=null;return function(...h){clearTimeout(y),y=setTimeout(()=>{s.apply(this,h)},r)}}const Te={class:"filter-shell mb-4 mb-md-5"},Qe={class:"filter-top"},Oe={class:"filter-meta"},je={class:"title-row"},qe={class:"icon-pill"},Ke={class:"top-actions"},He={class:"filter-grid"},Ge={class:"panel search-panel"},Ye={class:"panel sort-panel"},Ze={class:"sort-actions"},Je={class:"d-none d-sm-inline"},We={key:1,class:"mr-2",style:{width:"20px"}},Xe={class:"category-block"},et={class:"category-heading"},tt={class:"category-filter-wrapper"},st={class:"category-filter d-flex align-center overflow-x-auto w-100 pb-1 gap-2"},at={class:"category-text"},ot={__name:"FilterBar",props:{categories:{type:Array,default:()=>[]},activeCategory:{type:[String,Number],default:"all"},searchQuery:{type:String,default:""},sortBy:{type:String,default:"newest"},sortOptions:{type:Array,default:()=>[]},sortByLabel:{type:String,default:"Newest First"},hasActiveFilters:{type:Boolean,default:!1},activeFiltersCount:{type:Number,default:0},comparisonCount:{type:Number,default:0},resultsCount:{type:Number,default:0}},emits:["update:activeCategory","update:searchQuery","update:sortBy","clear-filters","open-comparison"],setup(s,{emit:r}){const y=r,h=N(!1),S=()=>{h.value=window.scrollY>200},F=Me(k=>{y("update:searchQuery",k||"")},300);return ee(()=>{window.addEventListener("scroll",S)}),ue(()=>{window.removeEventListener("scroll",S)}),(k,u)=>{const P=g("v-icon"),a=g("v-chip"),e=g("v-btn"),f=g("v-text-field"),m=g("v-list-item-title"),b=g("v-list-item"),U=g("v-list"),p=g("v-menu"),o=g("v-card");return n(),v("div",Te,[i(o,{class:j(["filter-card rounded-xl elevation-2",{"sticky-filter":h.value}])},{default:d(()=>[t("div",Qe,[t("div",Oe,[u[4]||(u[4]=t("span",{class:"eyebrow"},"Product filters",-1)),t("div",je,[t("div",qe,[i(P,{icon:"mdi-filter-variant",color:"primary",size:"18"})]),u[3]||(u[3]=t("div",null,[t("div",{class:"title-text"},"Filter & Search"),t("div",{class:"subtitle"},"Shape the catalog in a couple taps")],-1))])]),t("div",Ke,[s.resultsCount?(n(),D(a,{key:0,size:"small",color:"primary",variant:"tonal",class:"metric-chip"},{default:d(()=>[z(C(s.resultsCount)+" results ",1)]),_:1})):E("",!0),s.hasActiveFilters?(n(),D(a,{key:1,size:"small",color:"primary",variant:"flat",class:"metric-chip"},{default:d(()=>[z(C(s.activeFiltersCount)+" active ",1)]),_:1})):E("",!0),i(e,{variant:"text",color:"grey-darken-1",size:"small","prepend-icon":"mdi-close-circle",class:"text-capitalize clear-btn",disabled:!s.hasActiveFilters,onClick:u[0]||(u[0]=l=>k.$emit("clear-filters"))},{default:d(()=>u[5]||(u[5]=[z(" Clear filters ")])),_:1,__:[5]},8,["disabled"])])]),t("div",He,[t("div",Ge,[u[6]||(u[6]=t("div",{class:"panel-header"},[t("span",{class:"panel-title"},"Search"),t("span",{class:"panel-hint"},"Names, tags or SKU")],-1)),i(f,{"model-value":s.searchQuery,density:"compact",variant:"solo-filled",placeholder:"Search products...","prepend-inner-icon":"mdi-magnify","hide-details":"auto","bg-color":"white",class:"search-field rounded-lg",clearable:"","onUpdate:modelValue":w(F),"onClick:clear":u[1]||(u[1]=l=>k.$emit("update:searchQuery",""))},me({_:2},[s.searchQuery?{name:"append-inner",fn:d(()=>[i(a,{size:"x-small",color:"primary",variant:"flat",class:"results-chip mr-1"},{default:d(()=>[z(C(s.resultsCount),1)]),_:1})]),key:"0"}:void 0]),1032,["model-value","onUpdate:modelValue"])]),t("div",Ye,[u[9]||(u[9]=t("div",{class:"panel-header"},[t("span",{class:"panel-title"},"Sort & compare"),t("span",{class:"panel-hint"},"Tune order & shortlist")],-1)),t("div",Ze,[i(p,{location:"bottom end","close-on-content-click":!0},{activator:d(({props:l})=>[i(e,Q(l,{variant:"outlined",color:"grey-darken-2",class:"sort-btn bg-white text-grey-darken-2 font-weight-medium","append-icon":"mdi-chevron-down",size:"small",density:"comfortable"}),{default:d(()=>[i(P,{icon:"mdi-sort",size:"16",class:"mr-1 d-none d-sm-inline"}),t("span",Je,C(s.sortByLabel),1),u[7]||(u[7]=t("span",{class:"d-sm-none"},"Sort",-1))]),_:2,__:[7]},1040)]),default:d(()=>[i(U,{class:"sort-menu-list",density:"compact"},{default:d(()=>[(n(!0),v(V,null,I(s.sortOptions,l=>(n(),D(b,{key:l.value,class:j([{"sort-option-active":s.sortBy===l.value},"sort-option"]),onClick:_=>k.$emit("update:sortBy",l.value)},{prepend:d(()=>[s.sortBy===l.value?(n(),D(P,{key:0,icon:"mdi-check",color:"primary",size:"small",class:"mr-2"})):(n(),v("div",We))]),default:d(()=>[i(m,{class:"font-weight-medium text-body-2"},{default:d(()=>[z(C(l.label),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1}),s.comparisonCount>0?(n(),D(e,{key:0,color:"primary",variant:"flat","prepend-icon":"mdi-scale-balance",class:"comparison-btn text-white font-weight-bold",size:"small",density:"comfortable",onClick:u[2]||(u[2]=l=>k.$emit("open-comparison"))},{default:d(()=>[u[8]||(u[8]=t("span",{class:"d-none d-sm-inline mr-1"},"Compare",-1)),i(a,{size:"x-small",color:"white",variant:"flat",class:"comparison-badge ml-1"},{default:d(()=>[z(C(s.comparisonCount),1)]),_:1})]),_:1,__:[8]})):E("",!0)])])]),t("div",Xe,[t("div",et,[u[11]||(u[11]=t("div",null,[t("span",{class:"eyebrow"},"Categories"),t("div",{class:"subcopy"},"Swipe through the full catalog")],-1)),s.hasActiveFilters?(n(),D(a,{key:0,size:"x-small",color:"primary",variant:"tonal",class:"d-none d-sm-inline-flex"},{default:d(()=>u[10]||(u[10]=[z(" Active filter set ")])),_:1,__:[10]})):E("",!0)]),t("div",tt,[t("div",st,[(n(!0),v(V,null,I(s.categories,l=>(n(),D(e,{key:l.id,variant:"flat",color:s.activeCategory===l.id?"primary":"grey-lighten-3",class:j(["category-btn font-weight-bold text-capitalize rounded-pill flex-shrink-0",{"category-btn-active":s.activeCategory===l.id,"category-btn-inactive":s.activeCategory!==l.id}]),size:"small",density:"comfortable",onClick:_=>k.$emit("update:activeCategory",l.id),"aria-pressed":s.activeCategory===l.id},{default:d(()=>[l.icon?(n(),D(P,{key:0,icon:l.icon,size:"14",class:"mr-1"},null,8,["icon"])):E("",!0),t("span",at,C(l.name),1)]),_:2},1032,["color","class","onClick","aria-pressed"]))),128))])])])]),_:1},8,["class"])])}}},rt=q(ot,[["__scopeId","data-v-be721b69"]]),nt={class:"d-flex align-center"},it={key:0,class:"text-center py-16"},lt={key:1,class:"comparison-table"},ct={class:"product-comparison-card"},dt={class:"text-subtitle-1 font-weight-bold mb-2"},ut={class:"text-h6 font-weight-black text-primary mb-2"},mt={key:0},pt={key:0,class:"d-flex align-center justify-center"},vt={class:"font-weight-bold"},ft={key:1},gt={class:"font-weight-bold bg-grey-lighten-4"},yt={class:"d-flex flex-column align-center gap-1"},ht={__name:"ComparisonDialog",props:{modelValue:{type:Boolean,default:!1},products:{type:Array,default:()=>[]},comparisonSpecs:{type:Array,default:()=>[]}},emits:["update:modelValue","remove-product","clear-all"],setup(s){const r=s,y=a=>a.thumbnail?a.thumbnail:a.images&&a.images.length>0?a.images[0]:"/assets/img/default.jpg",h=a=>a.categories&&a.categories.length>0?a.categories[0].name:"Uncategorized",S=a=>a.price_range?a.price_range:a.price?`$${parseFloat(a.price).toFixed(2)}`:"Contact for Price",F=(a,e)=>a.specifications&&a.specifications[e]?a.specifications[e]:"N/A",k=a=>a.key_features&&Array.isArray(a.key_features)?a.key_features:["High Performance","Reliable Design","Energy Efficient"],u=a=>{if(a.recommended_use)return a.recommended_use;const e=h(a).toLowerCase();return e.includes("ups")?"Data Centers, Servers":e.includes("battery")?"Backup Power Systems":e.includes("solar")?"Renewable Energy Systems":"General Purpose"},P=B(()=>r.products.some(a=>a.rating));return(a,e)=>{const f=g("v-icon"),m=g("v-btn"),b=g("v-card-title"),U=g("v-img"),p=g("v-chip"),o=g("v-table"),l=g("v-card-text"),_=g("v-spacer"),x=g("v-card-actions"),L=g("v-card"),R=g("v-dialog");return n(),D(R,{"model-value":s.modelValue,"max-width":"1400",scrollable:"","onUpdate:modelValue":e[3]||(e[3]=c=>a.$emit("update:modelValue",c))},{default:d(()=>[i(L,{class:"rounded-xl"},{default:d(()=>[i(b,{class:"d-flex align-center justify-space-between pa-6 bg-primary text-white"},{default:d(()=>[t("div",nt,[i(f,{icon:"mdi-scale-balance",class:"mr-3"}),e[4]||(e[4]=t("span",{class:"text-h5 font-weight-bold"},"Compare Products",-1))]),i(m,{icon:"mdi-close",variant:"text",color:"white",onClick:e[0]||(e[0]=c=>a.$emit("update:modelValue",!1))})]),_:1}),i(l,{class:"pa-0"},{default:d(()=>[s.products.length===0?(n(),v("div",it,[i(f,{icon:"mdi-scale-balance",size:"64",color:"grey-lighten-1",class:"mb-4"}),e[5]||(e[5]=t("p",{class:"text-body-1 text-medium-emphasis"},"No products selected for comparison.",-1)),e[6]||(e[6]=t("p",{class:"text-caption text-medium-emphasis mt-2"},"Select up to 3 products to compare.",-1))])):(n(),v("div",lt,[i(o,{density:"comfortable",class:"comparison-table-content"},{default:d(()=>[t("thead",null,[t("tr",null,[e[8]||(e[8]=t("th",{class:"comparison-header"},"Feature",-1)),(n(!0),v(V,null,I(s.products,c=>(n(),v("th",{key:c.id,class:"comparison-product-header text-center"},[t("div",ct,[i(m,{icon:"mdi-close",size:"x-small",variant:"text",class:"position-absolute top-0 right-0",onClick:A=>a.$emit("remove-product",c)},null,8,["onClick"]),i(U,{src:y(c),alt:c.title,"max-height":"120",contain:"",class:"mb-3"},null,8,["src","alt"]),t("h4",dt,C(c.title),1),t("div",ut,C(S(c)),1),i(m,{variant:"outlined",color:"primary",size:"small",to:`/products/${c.slug}`},{default:d(()=>e[7]||(e[7]=[z(" View Details ")])),_:2,__:[7]},1032,["to"])])]))),128))])]),t("tbody",null,[t("tr",null,[e[9]||(e[9]=t("td",{class:"font-weight-bold bg-grey-lighten-4"},"Category",-1)),(n(!0),v(V,null,I(s.products,c=>(n(),v("td",{key:c.id,class:"text-center"},C(h(c)),1))),128))]),t("tr",null,[e[10]||(e[10]=t("td",{class:"font-weight-bold bg-grey-lighten-4"},"SKU",-1)),(n(!0),v(V,null,I(s.products,c=>(n(),v("td",{key:c.id,class:"text-center"},C(c.sku||"N/A"),1))),128))]),t("tr",null,[e[11]||(e[11]=t("td",{class:"font-weight-bold bg-grey-lighten-4"},"Price",-1)),(n(!0),v(V,null,I(s.products,c=>(n(),v("td",{key:c.id,class:"text-center"},C(S(c)),1))),128))]),P.value?(n(),v("tr",mt,[e[12]||(e[12]=t("td",{class:"font-weight-bold bg-grey-lighten-4"},"Rating",-1)),(n(!0),v(V,null,I(s.products,c=>(n(),v("td",{key:c.id,class:"text-center"},[c.rating?(n(),v("div",pt,[i(f,{icon:"mdi-star",color:"amber",size:"small",class:"mr-1"}),t("span",vt,C(c.rating),1)])):(n(),v("span",ft,"N/A"))]))),128))])):E("",!0),(n(!0),v(V,null,I(s.comparisonSpecs,c=>(n(),v("tr",{key:c.key},[t("td",gt,C(c.label),1),(n(!0),v(V,null,I(s.products,A=>(n(),v("td",{key:A.id,class:"text-center"},C(F(A,c.key)),1))),128))]))),128)),t("tr",null,[e[13]||(e[13]=t("td",{class:"font-weight-bold bg-grey-lighten-4"},"Key Features",-1)),(n(!0),v(V,null,I(s.products,c=>(n(),v("td",{key:c.id,class:"text-center"},[t("div",yt,[(n(!0),v(V,null,I(k(c).slice(0,3),(A,M)=>(n(),D(p,{key:M,size:"x-small",variant:"tonal",color:"primary",class:"mb-1"},{default:d(()=>[z(C(A),1)]),_:2},1024))),128))])]))),128))]),t("tr",null,[e[14]||(e[14]=t("td",{class:"font-weight-bold bg-grey-lighten-4"},"Recommended Use",-1)),(n(!0),v(V,null,I(s.products,c=>(n(),v("td",{key:c.id,class:"text-center"},C(u(c)),1))),128))])])]),_:1})]))]),_:1}),i(x,{class:"pa-4 bg-grey-lighten-5"},{default:d(()=>[i(_),i(m,{variant:"text",onClick:e[1]||(e[1]=c=>a.$emit("clear-all"))},{default:d(()=>e[15]||(e[15]=[z(" Clear All ")])),_:1,__:[15]}),i(m,{color:"primary",variant:"flat",onClick:e[2]||(e[2]=c=>a.$emit("update:modelValue",!1))},{default:d(()=>e[16]||(e[16]=[z(" Close ")])),_:1,__:[16]})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},bt=q(ht,[["__scopeId","data-v-0ad0e2c7"]]),_t={class:"products-page-modern"},wt={class:"mb-10 page-hero position-relative d-flex align-center justify-center text-center overflow-hidden"},Ct={class:"glass-pill d-inline-flex align-center px-5 py-3 rounded-pill mb-8 animate-float"},xt={class:"py-12 bg-grey-lighten-5 min-vh-100"},kt={key:0,class:"text-center py-16"},$t={key:1,class:"text-center py-16"},St={key:3,class:"text-center mt-12"},G=12,Pt={__name:"ProductsPage",setup(s){const{products:r,loading:y,fetchProducts:h}=he(),{categories:S,fetchCategories:F}=be(),{activeCategory:k,searchQuery:u,sortBy:P,sortOptions:a,filteredProducts:e,sortByLabel:f,hasActiveFilters:m,activeFiltersCount:b,setActiveCategory:U,setSortBy:p,setSearchQuery:o,clearFilters:l}=_e(r),{comparisonProducts:_,showComparison:x,canAddMore:L,isInComparison:R,toggleComparison:c,removeFromComparison:A,clearComparison:M,openComparison:te,getComparisonSpecs:se}=we(3),O=N(G),K=N(!1),ae=B(()=>se()),Y=B(()=>e.value.slice(0,O.value)),oe=B(()=>e.value.length>O.value),re=H=>{!c(H)&&!R(H)&&console.warn("Cannot add more than 3 products to comparison")},ne=()=>{K.value=!0,setTimeout(()=>{O.value+=G,K.value=!1},200)};return pe([k,u,P],()=>{O.value=G}),ee(async()=>{await Promise.all([F(),h()])}),(H,$)=>{const Z=g("v-icon"),ie=g("v-fade-transition"),J=g("v-container"),le=g("v-progress-circular"),W=g("v-btn"),ce=g("v-col"),de=g("v-row");return n(),v("div",_t,[t("section",wt,[$[5]||($[5]=ve('<div class="hero-bg-gradient" data-v-9fa78b3f></div><div class="hero-pattern" data-v-9fa78b3f></div><div class="gradient-orb orb-1" data-v-9fa78b3f></div><div class="gradient-orb orb-2" data-v-9fa78b3f></div><div class="gradient-orb orb-3" data-v-9fa78b3f></div>',5)),i(J,{class:"position-relative z-index-2"},{default:d(()=>[i(ie,{appear:""},{default:d(()=>[t("div",null,[t("div",Ct,[$[1]||($[1]=t("div",{class:"pulse-dot mr-2"},null,-1)),i(Z,{icon:"mdi-shield-check",color:"amber-accent-4",size:"small",class:"mr-2"}),$[2]||($[2]=t("span",{class:"text-subtitle-2 font-weight-bold tracking-wide text-white"},"PREMIUM QUALITY",-1))]),$[3]||($[3]=t("h1",{class:"text-h4 text-lg-h2 font-weight-black text-white mb-6 lh-tight text-shadow-sm animate-slide-up"},[z(" Explore Our "),t("span",{class:"text-amber-accent-3"},"Product Range")],-1)),$[4]||($[4]=t("p",{class:"text-h6 text-white opacity-90 mw-700 mx-auto font-weight-light animate-slide-up-delay"}," Discover high-performance solutions designed for your business needs. Browse, compare, and find the perfect product. ",-1))])]),_:1})]),_:1})]),t("section",xt,[i(J,null,{default:d(()=>[i(rt,{categories:w(S),"active-category":w(k),"search-query":w(u),"sort-by":w(P),"sort-options":w(a),"sort-by-label":w(f),"has-active-filters":w(m),"active-filters-count":w(b),"comparison-count":w(_).length,"results-count":w(e).length,"onUpdate:activeCategory":w(U),"onUpdate:searchQuery":w(o),"onUpdate:sortBy":w(p),onClearFilters:w(l),onOpenComparison:w(te)},null,8,["categories","active-category","search-query","sort-by","sort-options","sort-by-label","has-active-filters","active-filters-count","comparison-count","results-count","onUpdate:activeCategory","onUpdate:searchQuery","onUpdate:sortBy","onClearFilters","onOpenComparison"]),w(y)?(n(),v("div",kt,[i(le,{indeterminate:"",color:"primary",size:"64"}),$[6]||($[6]=t("p",{class:"text-body-1 text-medium-emphasis mt-4"},"Loading products...",-1))])):w(e).length===0?(n(),v("div",$t,[i(Z,{icon:"mdi-package-variant",size:"64",color:"grey-lighten-1",class:"mb-4"}),$[8]||($[8]=t("h3",{class:"text-h6 font-weight-bold text-grey-darken-2 mb-2"},"No products found",-1)),$[9]||($[9]=t("p",{class:"text-body-2 text-medium-emphasis mb-6"}," Try adjusting your filters or search terms. ",-1)),i(W,{variant:"outlined",color:"primary",onClick:w(l)},{default:d(()=>$[7]||($[7]=[z(" Clear Filters ")])),_:1,__:[7]},8,["onClick"])])):(n(),D(de,{key:2},{default:d(()=>[(n(!0),v(V,null,I(Y.value,T=>(n(),D(ce,{key:T.id,cols:"12",sm:"6",lg:"4",xl:"3"},{default:d(()=>[i(Re,{product:T,"comparison-disabled":!w(L)&&!w(R)(T),onToggleComparison:re},null,8,["product","comparison-disabled"])]),_:2},1024))),128))]),_:1})),Y.value.length>0&&oe.value?(n(),v("div",St,[i(W,{variant:"outlined",color:"primary",size:"large",rounded:"pill",class:"px-10 font-weight-bold",onClick:ne,loading:K.value},{default:d(()=>$[10]||($[10]=[z(" Load More Products ")])),_:1,__:[10]},8,["loading"])])):E("",!0)]),_:1})]),i(bt,{modelValue:w(x),"onUpdate:modelValue":$[0]||($[0]=T=>fe(x)?x.value=T:null),products:w(_),"comparison-specs":ae.value,onRemoveProduct:w(A),onClearAll:w(M)},null,8,["modelValue","products","comparison-specs","onRemoveProduct","onClearAll"])])}}},Ut=q(Pt,[["__scopeId","data-v-9fa78b3f"]]);export{Ut as default};
