import{a as te}from"./adminPaginationMixin-DN7Wb3ng.js";import{r as Y,n as le}from"./uploads-CnEkgyD_.js";import{b as ie,c as se,a as oe,f as ae}from"./formatters-DOdYL610.js";import{_ as K,c as C,w as i,b as l,g as U,r as g,a,d as y,f as c,t as _,F as A,e as S,o as u,k as re,M as J,N as $,m as ne,n as ee}from"./app-DFUhJa7k.js";import{R as de}from"./RichTextEditor-CMA9teyG.js";const ue={name:"ProductDetailsDialog",props:{modelValue:{type:Boolean,default:!1},productDetails:{type:Object,default:null},loading:{type:Boolean,default:!1},specificationsList:{type:Array,default:()=>[]},featuresList:{type:Array,default:()=>[]},downloadsList:{type:Array,default:()=>[]},faqsList:{type:Array,default:()=>[]},warrantyInfo:{type:Object,default:()=>({period:"2 Years",coverage:[],terms:""})}},emits:["update:modelValue","edit"],data(){return{detailsTab:"basic"}},methods:{close(){this.$emit("update:modelValue",!1)},handleEdit(){this.$emit("edit")},resolveImageUrl(t){return Y(t)},formatNumber(t){return oe(t)},formatPrice(t){return se(t,"-")},formatPriceRange(t){return ie(t,"-")}},watch:{modelValue(t){t||(this.detailsTab="basic")}}},me={class:"d-flex align-center"},ce={key:0,class:"d-flex align-center justify-center pa-12"},fe={class:"text-center"},pe={key:1},ge={class:"text-h6 font-weight-bold mb-4"},ve={class:"text-body-1 mb-4"},he={class:"text-body-1 mb-4"},ye={class:"text-body-1 mb-4"},be=["innerHTML"],_e={key:0,class:"mb-4"},we={class:"text-caption text-medium-emphasis mt-2"},Fe={key:1,class:"text-body-1 text-medium-emphasis"},De={key:0,class:"d-flex flex-wrap gap-3"},Pe={class:"text-caption text-truncate"},ke={key:1,class:"text-body-1 text-medium-emphasis"},xe={class:"text-h6 font-weight-bold mb-4"},Ve={class:"text-body-1 mb-4"},Ce={key:0,class:"d-flex flex-wrap gap-2 mb-4"},Ie={key:1,class:"text-body-1 text-medium-emphasis mb-4"},Ue={key:0,class:"d-flex flex-wrap gap-2"},Le={key:1,class:"text-body-1 text-medium-emphasis"},ze={key:0},Ae={class:"font-weight-medium"},Se={key:1,class:"text-center py-8"},Te={key:0},Ee={key:1,class:"text-center py-8"},qe={key:0},Me={key:1,class:"text-center py-8"},Oe={key:0},Re={class:"font-weight-medium"},Be={class:"text-body-1"},Ne={key:1,class:"text-center py-8"},Ge={class:"text-h6 font-weight-bold mb-4"},je={key:0},We={key:1,class:"text-body-1 text-medium-emphasis mb-4"},Xe={class:"text-body-1"},He={class:"text-body-1 mb-4"},Qe={class:"text-body-1 mb-4"},Ye={class:"text-body-1 mb-4"},Ke={key:0,class:"mb-2"},Ze={class:"text-body-1"},Je={class:"text-body-1 mb-4"},$e={class:"text-body-1 mb-4"},et={class:"text-body-1 mb-4"},tt={class:"text-body-1 mb-4"};function lt(t,e,o,F,s,n){const f=g("v-icon"),h=g("v-btn"),w=g("v-card-title"),b=g("v-progress-circular"),d=g("v-tab"),D=g("v-tabs"),I=g("v-divider"),v=g("v-col"),m=g("v-row"),V=g("v-window-item"),R=g("v-img"),B=g("v-card-text"),L=g("v-card"),z=g("v-chip"),N=g("v-table"),q=g("v-list-item-title"),M=g("v-list-item"),p=g("v-list"),T=g("v-expansion-panel-title"),O=g("v-expansion-panel-text"),G=g("v-expansion-panel"),j=g("v-expansion-panels"),W=g("v-window"),X=g("v-spacer"),H=g("v-card-actions"),Q=g("v-dialog");return u(),C(Q,{"model-value":o.modelValue,"onUpdate:modelValue":e[2]||(e[2]=x=>t.$emit("update:modelValue",x)),"max-width":"1400",scrollable:""},{default:i(()=>[l(L,null,{default:i(()=>[l(w,{class:"d-flex align-center justify-space-between bg-info text-white pa-4"},{default:i(()=>[a("div",me,[l(f,{icon:"mdi-eye",class:"mr-3"}),e[3]||(e[3]=a("span",{class:"text-h5 font-weight-bold"},"Product Details",-1))]),l(h,{icon:"mdi-close",variant:"text",color:"white",onClick:n.close,disabled:o.loading},null,8,["onClick","disabled"])]),_:1}),l(B,{class:"pa-0"},{default:i(()=>[o.loading?(u(),y("div",ce,[a("div",fe,[l(b,{indeterminate:"",color:"info",size:"64"}),e[4]||(e[4]=a("p",{class:"text-body-1 text-medium-emphasis mt-4"},"Loading product details...",-1))])])):o.productDetails?(u(),y("div",pe,[l(D,{modelValue:s.detailsTab,"onUpdate:modelValue":e[0]||(e[0]=x=>s.detailsTab=x),color:"info","bg-color":"grey-lighten-4"},{default:i(()=>[l(d,{value:"basic"},{default:i(()=>[l(f,{icon:"mdi-information",class:"mr-2"}),e[5]||(e[5]=c(" Basic Info "))]),_:1,__:[5]}),l(d,{value:"media"},{default:i(()=>[l(f,{icon:"mdi-image",class:"mr-2"}),e[6]||(e[6]=c(" Media "))]),_:1,__:[6]}),l(d,{value:"pricing"},{default:i(()=>[l(f,{icon:"mdi-cash",class:"mr-2"}),e[7]||(e[7]=c(" Pricing "))]),_:1,__:[7]}),l(d,{value:"categories"},{default:i(()=>[l(f,{icon:"mdi-folder",class:"mr-2"}),e[8]||(e[8]=c(" Categories & Tags "))]),_:1,__:[8]}),l(d,{value:"specs"},{default:i(()=>[l(f,{icon:"mdi-cog",class:"mr-2"}),e[9]||(e[9]=c(" Specifications "))]),_:1,__:[9]}),l(d,{value:"features"},{default:i(()=>[l(f,{icon:"mdi-star",class:"mr-2"}),e[10]||(e[10]=c(" Features "))]),_:1,__:[10]}),l(d,{value:"downloads"},{default:i(()=>[l(f,{icon:"mdi-download",class:"mr-2"}),e[11]||(e[11]=c(" Downloads "))]),_:1,__:[11]}),l(d,{value:"faq"},{default:i(()=>[l(f,{icon:"mdi-help-circle",class:"mr-2"}),e[12]||(e[12]=c(" FAQs "))]),_:1,__:[12]}),l(d,{value:"warranty"},{default:i(()=>[l(f,{icon:"mdi-shield-check",class:"mr-2"}),e[13]||(e[13]=c(" Warranty & Service "))]),_:1,__:[13]}),l(d,{value:"seo"},{default:i(()=>[l(f,{icon:"mdi-search-web",class:"mr-2"}),e[14]||(e[14]=c(" SEO "))]),_:1,__:[14]}),l(d,{value:"settings"},{default:i(()=>[l(f,{icon:"mdi-cog-outline",class:"mr-2"}),e[15]||(e[15]=c(" Settings "))]),_:1,__:[15]})]),_:1},8,["modelValue"]),l(I),l(W,{modelValue:s.detailsTab,"onUpdate:modelValue":e[1]||(e[1]=x=>s.detailsTab=x),class:"pa-6"},{default:i(()=>[l(V,{value:"basic"},{default:i(()=>[l(m,null,{default:i(()=>[l(v,{cols:"12"},{default:i(()=>[e[16]||(e[16]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Product Title",-1)),a("div",ge,_(o.productDetails.title||"-"),1)]),_:1,__:[16]}),l(v,{cols:"12",md:"6"},{default:i(()=>[e[17]||(e[17]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Slug",-1)),a("div",ve,_(o.productDetails.slug||"-"),1)]),_:1,__:[17]}),l(v,{cols:"12",md:"6"},{default:i(()=>[e[18]||(e[18]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"SKU",-1)),a("div",he,_(o.productDetails.sku||"-"),1)]),_:1,__:[18]}),l(v,{cols:"12"},{default:i(()=>[e[19]||(e[19]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Short Description",-1)),a("div",ye,_(o.productDetails.short_description||"-"),1)]),_:1,__:[19]}),l(v,{cols:"12"},{default:i(()=>[e[20]||(e[20]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Full Description",-1)),a("div",{class:"text-body-1",innerHTML:o.productDetails.description||"-"},null,8,be)]),_:1,__:[20]})]),_:1})]),_:1}),l(V,{value:"media"},{default:i(()=>[l(m,null,{default:i(()=>[l(v,{cols:"12"},{default:i(()=>[e[21]||(e[21]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Thumbnail",-1)),o.productDetails.thumbnail?(u(),y("div",_e,[l(R,{src:n.resolveImageUrl(o.productDetails.thumbnail),"max-height":"300",contain:"",class:"rounded elevation-2"},null,8,["src"]),a("div",we,_(o.productDetails.thumbnail),1)])):(u(),y("div",Fe,"No thumbnail"))]),_:1,__:[21]}),l(v,{cols:"12"},{default:i(()=>[e[22]||(e[22]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Product Images (Gallery) ",-1)),o.productDetails.images&&o.productDetails.images.length>0?(u(),y("div",De,[(u(!0),y(A,null,S(o.productDetails.images,(x,E)=>(u(),C(L,{key:E,class:"elevation-2",style:{"max-width":"200px"}},{default:i(()=>[l(R,{src:n.resolveImageUrl(x),height:"150",cover:""},null,8,["src"]),l(B,{class:"pa-2"},{default:i(()=>[a("div",Pe,_(x),1)]),_:2},1024)]),_:2},1024))),128))])):(u(),y("div",ke,"No images"))]),_:1,__:[22]})]),_:1})]),_:1}),l(V,{value:"pricing"},{default:i(()=>[l(m,null,{default:i(()=>[l(v,{cols:"12",md:"6"},{default:i(()=>[e[23]||(e[23]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Price",-1)),a("div",xe,_(n.formatPrice(o.productDetails.price)),1)]),_:1,__:[23]}),l(v,{cols:"12",md:"6"},{default:i(()=>[e[24]||(e[24]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Price Range",-1)),a("div",Ve,_(n.formatPriceRange(o.productDetails.price_range)),1)]),_:1,__:[24]}),l(v,{cols:"12"},{default:i(()=>[e[25]||(e[25]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Show Price on Website ",-1)),l(z,{color:o.productDetails.show_price?"success":"error",size:"small"},{default:i(()=>[c(_(o.productDetails.show_price?"Yes":"No"),1)]),_:1},8,["color"])]),_:1,__:[25]})]),_:1})]),_:1}),l(V,{value:"categories"},{default:i(()=>[l(m,null,{default:i(()=>[l(v,{cols:"12"},{default:i(()=>[e[26]||(e[26]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Categories",-1)),o.productDetails.categories&&o.productDetails.categories.length>0?(u(),y("div",Ce,[(u(!0),y(A,null,S(o.productDetails.categories,x=>(u(),C(z,{key:x.id,color:"primary",variant:"tonal"},{default:i(()=>[c(_(x.name),1)]),_:2},1024))),128))])):(u(),y("div",Ie,"No categories"))]),_:1,__:[26]}),l(v,{cols:"12"},{default:i(()=>[e[27]||(e[27]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Tags",-1)),o.productDetails.tags&&o.productDetails.tags.length>0?(u(),y("div",Ue,[(u(!0),y(A,null,S(o.productDetails.tags,x=>(u(),C(z,{key:x.id,color:"info",variant:"outlined"},{default:i(()=>[c(_(x.name),1)]),_:2},1024))),128))])):(u(),y("div",Le,"No tags"))]),_:1,__:[27]})]),_:1})]),_:1}),l(V,{value:"specs"},{default:i(()=>[o.specificationsList.length>0?(u(),y("div",ze,[l(N,null,{default:i(()=>[e[28]||(e[28]=a("thead",null,[a("tr",null,[a("th",null,"Specification"),a("th",null,"Value")])],-1)),a("tbody",null,[(u(!0),y(A,null,S(o.specificationsList,(x,E)=>(u(),y("tr",{key:E},[a("td",Ae,_(x.key),1),a("td",null,_(x.value),1)]))),128))])]),_:1,__:[28]})])):(u(),y("div",Se,[l(f,{icon:"mdi-cog",size:"48",color:"grey-lighten-1",class:"mb-4"}),e[29]||(e[29]=a("p",{class:"text-body-1 text-medium-emphasis"},"No specifications available",-1))]))]),_:1}),l(V,{value:"features"},{default:i(()=>[o.featuresList.length>0?(u(),y("div",Te,[l(p,null,{default:i(()=>[(u(!0),y(A,null,S(o.featuresList,(x,E)=>(u(),C(M,{key:E,"prepend-icon":"mdi-check-circle",color:"success"},{default:i(()=>[l(q,null,{default:i(()=>[c(_(x),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(u(),y("div",Ee,[l(f,{icon:"mdi-star-outline",size:"48",color:"grey-lighten-1",class:"mb-4"}),e[30]||(e[30]=a("p",{class:"text-body-1 text-medium-emphasis"},"No features available",-1))]))]),_:1}),l(V,{value:"downloads"},{default:i(()=>[o.downloadsList.length>0?(u(),y("div",qe,[l(p,null,{default:i(()=>[(u(!0),y(A,null,S(o.downloadsList,(x,E)=>(u(),C(M,{key:E,title:x.title,subtitle:`${x.type} - ${x.size||"N/A"}`,"prepend-icon":"mdi-download","append-icon":"mdi-open-in-new"},{append:i(()=>[l(h,{icon:"mdi-open-in-new",variant:"text",size:"small",onClick:Z=>t.window.open(x.url,"_blank")},null,8,["onClick"])]),_:2},1032,["title","subtitle"]))),128))]),_:1})])):(u(),y("div",Me,[l(f,{icon:"mdi-download-off",size:"48",color:"grey-lighten-1",class:"mb-4"}),e[31]||(e[31]=a("p",{class:"text-body-1 text-medium-emphasis"},"No downloads available",-1))]))]),_:1}),l(V,{value:"faq"},{default:i(()=>[o.faqsList.length>0?(u(),y("div",Oe,[l(j,null,{default:i(()=>[(u(!0),y(A,null,S(o.faqsList,(x,E)=>(u(),C(G,{key:E},{default:i(()=>[l(T,null,{default:i(()=>[a("div",Re,_(x.question),1)]),_:2},1024),l(O,null,{default:i(()=>[a("div",Be,_(x.answer),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(u(),y("div",Ne,[l(f,{icon:"mdi-help-circle-outline",size:"48",color:"grey-lighten-1",class:"mb-4"}),e[32]||(e[32]=a("p",{class:"text-body-1 text-medium-emphasis"},"No FAQs available",-1))]))]),_:1}),l(V,{value:"warranty"},{default:i(()=>[l(m,null,{default:i(()=>[l(v,{cols:"12"},{default:i(()=>[e[33]||(e[33]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Warranty Period",-1)),a("div",Ge,_(o.warrantyInfo.period||"-"),1)]),_:1,__:[33]}),l(v,{cols:"12"},{default:i(()=>[e[34]||(e[34]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"What's Covered",-1)),o.warrantyInfo.coverage&&o.warrantyInfo.coverage.length>0?(u(),y("div",je,[l(p,null,{default:i(()=>[(u(!0),y(A,null,S(o.warrantyInfo.coverage,(x,E)=>(u(),C(M,{key:E,"prepend-icon":"mdi-check",color:"success"},{default:i(()=>[l(q,null,{default:i(()=>[c(_(x),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(u(),y("div",We,"No coverage items "))]),_:1,__:[34]}),l(v,{cols:"12"},{default:i(()=>[e[35]||(e[35]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Terms & Conditions",-1)),a("div",Xe,_(o.warrantyInfo.terms||"-"),1)]),_:1,__:[35]})]),_:1})]),_:1}),l(V,{value:"seo"},{default:i(()=>[l(m,null,{default:i(()=>[l(v,{cols:"12"},{default:i(()=>[e[36]||(e[36]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Meta Title",-1)),a("div",He,_(o.productDetails.meta_title||"-"),1)]),_:1,__:[36]}),l(v,{cols:"12"},{default:i(()=>[e[37]||(e[37]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Meta Description",-1)),a("div",Qe,_(o.productDetails.meta_description||"-"),1)]),_:1,__:[37]}),l(v,{cols:"12"},{default:i(()=>[e[38]||(e[38]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Meta Keywords",-1)),a("div",Ye,_(o.productDetails.meta_keywords||"-"),1)]),_:1,__:[38]}),l(v,{cols:"12"},{default:i(()=>[e[39]||(e[39]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Open Graph Image",-1)),o.productDetails.og_image?(u(),y("div",Ke,[l(R,{src:n.resolveImageUrl(o.productDetails.og_image),"max-height":"200",contain:"",class:"rounded"},null,8,["src"])])):U("",!0),a("div",Ze,_(o.productDetails.og_image||"-"),1)]),_:1,__:[39]})]),_:1})]),_:1}),l(V,{value:"settings"},{default:i(()=>[l(m,null,{default:i(()=>[l(v,{cols:"12",md:"6"},{default:i(()=>[e[40]||(e[40]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Published Status",-1)),l(z,{color:o.productDetails.published?"success":"error",size:"default",class:"mb-4"},{default:i(()=>[c(_(o.productDetails.published?"Published":"Draft"),1)]),_:1},8,["color"])]),_:1,__:[40]}),l(v,{cols:"12",md:"6"},{default:i(()=>[e[41]||(e[41]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Featured Product",-1)),l(z,{color:o.productDetails.featured?"amber":"grey",size:"default",class:"mb-4"},{default:i(()=>[c(_(o.productDetails.featured?"Featured":"Not Featured"),1)]),_:1},8,["color"])]),_:1,__:[41]}),l(v,{cols:"12",md:"6"},{default:i(()=>[e[42]||(e[42]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Stock Quantity",-1)),a("div",Je,_(o.productDetails.stock!==null?o.productDetails.stock:"-"),1)]),_:1,__:[42]}),l(v,{cols:"12",md:"6"},{default:i(()=>[e[43]||(e[43]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Display Order",-1)),a("div",$e,_(o.productDetails.order||0),1)]),_:1,__:[43]}),l(v,{cols:"12",md:"6"},{default:i(()=>[e[44]||(e[44]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Created At",-1)),a("div",et,_(o.productDetails.created_at?new Date(o.productDetails.created_at).toLocaleString():"-"),1)]),_:1,__:[44]}),l(v,{cols:"12",md:"6"},{default:i(()=>[e[45]||(e[45]=a("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Updated At",-1)),a("div",tt,_(o.productDetails.updated_at?new Date(o.productDetails.updated_at).toLocaleString():"-"),1)]),_:1,__:[45]})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):U("",!0)]),_:1}),!o.loading&&o.productDetails?(u(),C(H,{key:0,class:"pa-4 bg-grey-lighten-4"},{default:i(()=>[l(X),l(h,{variant:"text",onClick:n.close},{default:i(()=>e[46]||(e[46]=[c("Close")])),_:1,__:[46]},8,["onClick"]),l(h,{color:"primary",variant:"flat",onClick:n.handleEdit},{default:i(()=>[l(f,{icon:"mdi-pencil",class:"mr-2"}),e[47]||(e[47]=c(" Edit Product "))]),_:1,__:[47]},8,["onClick"])]),_:1})):U("",!0)]),_:1})]),_:1},8,["model-value"])}const it=K(ue,[["render",lt]]),st={name:"ProductFormDialog",components:{RichTextEditor:de},props:{modelValue:{type:Boolean,default:!1},editingProduct:{type:Object,default:null},loading:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},form:{type:Object,required:!0},formTab:{type:String,default:"basic"},availableCategories:{type:Array,default:()=>[]},availableTags:{type:Array,default:()=>[]},loadingCategories:{type:Boolean,default:!1},specificationsList:{type:Array,default:()=>[]},featuresList:{type:Array,default:()=>[]},downloadsList:{type:Array,default:()=>[]},faqsList:{type:Array,default:()=>[]},warrantyInfo:{type:Object,required:!0},downloadTypes:{type:Array,default:()=>["PDF","ZIP","DOC","DOCX","XLS","XLSX","Other"]},thumbnailFile:{type:[Object,Array],default:null},galleryFiles:{type:Array,default:()=>[]},thumbnailPreview:{type:String,default:null},galleryPreviews:{type:Array,default:()=>[]},imageUrlInputs:{type:Array,default:()=>[]},thumbnailError:{type:String,default:null},galleryError:{type:String,default:null}},emits:["update:modelValue","update:form","update:form-tab","update:specifications-list","update:features-list","update:downloads-list","update:faqs-list","update:warranty-info","update:thumbnail-file","update:gallery-files","update:thumbnail-preview","update:gallery-previews","update:image-url-inputs","update:thumbnail-error","update:gallery-error","close","save","generate-slug","add-image-url","remove-image-url","remove-image","preview-thumbnail","preview-gallery-images","remove-gallery-preview","add-specification","remove-specification","add-feature","remove-feature","add-download","remove-download","handle-download-file-change","clear-download-file","add-faq","remove-faq","add-coverage-item","remove-coverage-item"],data(){return{localForm:{...this.form},localFormTab:this.formTab,localThumbnailFile:this.thumbnailFile,localGalleryFiles:this.galleryFiles,localDownloadsList:[],availabilityOptions:[{value:"in_stock",title:"In Stock"},{value:"out_of_stock",title:"Out of Stock"},{value:"pre_order",title:"Pre-Order"},{value:"coming_soon",title:"Coming Soon"}]}},watch:{form:{handler(t){this.localForm={...t}},deep:!0,immediate:!1},formTab(t){this.localFormTab=t},thumbnailFile(t){this.localThumbnailFile=t},galleryFiles(t){this.localGalleryFiles=t},downloadsList:{handler(t){Array.isArray(t)?this.localDownloadsList=t.map((e,o)=>{const F=this.localDownloadsList[o];return{title:e.title||"",type:e.type||"PDF",size:e.size||(e.file&&e.file.size?this.formatFileSize(e.file.size):""),url:e.url||"",file:e.file||(F&&F.file?F.file:null),uploading:e.uploading||!1,uploaded:e.uploaded||!1}}):this.localDownloadsList=[]},deep:!0,immediate:!0},modelValue(t){if(!t){this.localFormTab="basic";return}this.localForm={...this.form}}},computed:{filterFeatureOptions(){return[{value:"wireless",title:"Wireless"},{value:"waterproof",title:"Waterproof"},{value:"bluetooth",title:"Bluetooth"},{value:"rechargeable",title:"Rechargeable"},{value:"warranty",title:"Warranty"},{value:"eco_friendly",title:"Eco-Friendly"}]}},methods:{close(){this.$emit("update:modelValue",!1),this.$emit("close")},handleThumbnailChange(t){this.$emit("update:thumbnail-file",t),this.$emit("preview-thumbnail",t)},handleGalleryChange(t){this.$emit("update:gallery-files",t),this.$emit("preview-gallery-images",t)},updateFormTab(t){this.localFormTab=t,this.$emit("update:form-tab",t)},formatFileSize(t){if(!t||t===0)return"0 Bytes";const e=1024,o=["Bytes","KB","MB","GB"],F=Math.floor(Math.log(t)/Math.log(e));return Math.round(t/Math.pow(e,F)*100)/100+" "+o[F]},getDownloadFileSize(t){if(t.size&&t.size!==""&&t.size!=="0 Bytes"){if(typeof t.size=="string"&&(t.size.includes("KB")||t.size.includes("MB")||t.size.includes("GB")||t.size.includes("Bytes")))return t.size;if(typeof t.size=="number"&&t.size>0)return this.formatFileSize(t.size)}return t.file&&t.file.size&&t.file.size>0?this.formatFileSize(t.file.size):t.uploaded&&t.file&&t.file.size?this.formatFileSize(t.file.size):"Size unknown"},resolveImageUrl(t){return Y(t)},updateDownloadsList(){this.$emit("update:downloads-list",[...this.localDownloadsList])},handleDownloadFileChange(t,e){const o=this.localDownloadsList[t];if(o){if(o.file=e,e&&e.size){const F=e.name.split(".").pop().toUpperCase();["PDF","ZIP","DOC","DOCX","XLS","XLSX"].includes(F)&&(o.type=F),(!o.size||o.size==="")&&(o.size=this.formatFileSize(e.size))}this.updateDownloadsList(),this.$emit("handle-download-file-change",t)}},handleClearDownloadFile(t){const e=this.localDownloadsList[t];e&&(e.file=null,e.uploading=!1,e.uploaded=!1,e.url||(e.size=""),this.updateDownloadsList(),this.$emit("clear-download-file",t))},handleRemoveDownload(t){this.localDownloadsList.splice(t,1),this.updateDownloadsList(),this.$emit("remove-download",t)},generateMetaTitle(){this.localForm.title&&(this.localForm.meta_title=this.localForm.title.length>60?this.localForm.title.substring(0,57)+"...":this.localForm.title,this.$emit("update:form",this.localForm))},generateMetaDescription(){if(this.localForm.short_description){let t=this.localForm.short_description;if(t.length>160){t=t.substring(0,157);const e=t.lastIndexOf(" ");e>120?t=t.substring(0,e)+"...":t+="..."}this.localForm.meta_description=t,this.$emit("update:form",this.localForm)}},getMetaTitleColor(){const t=this.localForm.meta_title?this.localForm.meta_title.length:0;return t===0?"primary":t<50?"warning":t>60?"error":"success"},getMetaDescriptionColor(){const t=this.localForm.meta_description?this.localForm.meta_description.length:0;return t===0?"primary":t<120?"warning":t>160?"error":"success"},updateDiscountedPrice(){if(this.localForm.price&&this.localForm.discount_percent>0){const t=parseFloat(this.localForm.price)||0,e=parseFloat(this.localForm.discount_percent)||0;this.localForm.discounted_price=Math.round(t*(1-e/100)*100)/100}else this.localForm.discounted_price=null;this.$emit("update:form",this.localForm)},getFeatureIcon(t){return{wireless:"mdi-wifi",waterproof:"mdi-water",bluetooth:"mdi-bluetooth",rechargeable:"mdi-battery-charging",warranty:"mdi-shield-check",eco_friendly:"mdi-leaf"}[t]||"mdi-check-circle"},formatFeatureLabel(t){return typeof t=="string"?t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):t},getAvailabilityIcon(t){return{in_stock:"mdi-check-circle",out_of_stock:"mdi-close-circle",pre_order:"mdi-clock-outline",coming_soon:"mdi-new-box"}[t]||"mdi-help-circle"},getAvailabilityColor(t){return{in_stock:"success",out_of_stock:"error",pre_order:"warning",coming_soon:"info"}[t]||"grey"},formatRating(t){return t?Number(t).toFixed(1):"0.0"}}},ot={class:"text-h5 font-weight-bold"},at={key:0,class:"d-flex align-center justify-center pa-12"},rt={class:"text-center"},nt={key:1},dt={class:"text-body-2"},ut={key:1,class:"mt-3 mb-3"},mt={class:"text-caption text-medium-emphasis"},ct={key:0},ft={key:2,class:"mt-2 mb-3"},pt={key:0,class:"mb-4"},gt={class:"text-subtitle-2 text-medium-emphasis mb-2"},vt={class:"d-flex flex-wrap gap-3"},ht={class:"text-caption text-truncate"},yt={class:"text-body-2"},bt={key:3,class:"mt-3 mb-4"},_t={class:"text-subtitle-2 text-medium-emphasis mb-2"},wt={class:"d-flex flex-wrap gap-3"},Ft={class:"text-caption text-truncate"},Dt={key:0,class:"text-caption text-medium-emphasis"},Pt={class:"text-subtitle-1 font-weight-bold mb-3"},kt={class:"text-subtitle-1 font-weight-bold mb-3"},xt={key:0,class:"mt-2 mb-2"},Vt={class:"d-flex align-center"},Ct={class:"flex-grow-1"},It={class:"text-body-2 font-weight-bold"},Ut={class:"text-caption text-medium-emphasis"},Lt={key:0,class:"ml-2"},zt={key:1,class:"ml-2 text-success"},At={class:"pa-6"},St={class:"mb-2"},Tt={class:"text-caption text-medium-emphasis mt-1"};function Et(t,e,o,F,s,n){const f=g("v-btn"),h=g("v-card-title"),w=g("v-progress-circular"),b=g("v-icon"),d=g("v-tab"),D=g("v-tabs"),I=g("v-divider"),v=g("v-text-field"),m=g("v-col"),V=g("v-textarea"),R=g("v-label"),B=g("RichTextEditor"),L=g("v-row"),z=g("v-window-item"),N=g("v-file-input"),q=g("v-alert"),M=g("v-img"),p=g("v-card-text"),T=g("v-card"),O=g("v-chip"),G=g("v-switch"),j=g("v-select"),W=g("v-combobox"),X=g("v-list-item"),H=g("v-rating"),Q=g("v-window"),x=g("v-spacer"),E=g("v-card-actions"),Z=g("v-dialog");return u(),C(Z,{"model-value":o.modelValue,"onUpdate:modelValue":e[70]||(e[70]=r=>t.$emit("update:modelValue",r)),"max-width":"1400",scrollable:"",persistent:""},{default:i(()=>[l(T,null,{default:i(()=>[l(h,{class:"d-flex align-center justify-space-between bg-primary text-white pa-4"},{default:i(()=>[a("span",ot,_(o.editingProduct?"Edit Product":"Create New Product"),1),l(f,{icon:"mdi-close",variant:"text",color:"white",onClick:n.close,disabled:o.loading},null,8,["onClick","disabled"])]),_:1}),l(p,{class:"pa-0"},{default:i(()=>[o.loading?(u(),y("div",at,[a("div",rt,[l(w,{indeterminate:"",color:"primary",size:"64"}),e[71]||(e[71]=a("p",{class:"text-body-1 text-medium-emphasis mt-4"},"Loading product data...",-1))])])):(u(),y("div",nt,[l(D,{modelValue:s.localFormTab,"onUpdate:modelValue":[e[0]||(e[0]=r=>s.localFormTab=r),n.updateFormTab],color:"primary","bg-color":"grey-lighten-4"},{default:i(()=>[l(d,{value:"basic"},{default:i(()=>[l(b,{icon:"mdi-information",class:"mr-2"}),e[72]||(e[72]=c(" Basic Info "))]),_:1,__:[72]}),l(d,{value:"media"},{default:i(()=>[l(b,{icon:"mdi-image",class:"mr-2"}),e[73]||(e[73]=c(" Media "))]),_:1,__:[73]}),l(d,{value:"pricing"},{default:i(()=>[l(b,{icon:"mdi-cash",class:"mr-2"}),e[74]||(e[74]=c(" Pricing "))]),_:1,__:[74]}),l(d,{value:"categories"},{default:i(()=>[l(b,{icon:"mdi-folder",class:"mr-2"}),e[75]||(e[75]=c(" Categories & Tags "))]),_:1,__:[75]}),l(d,{value:"specs"},{default:i(()=>[l(b,{icon:"mdi-cog",class:"mr-2"}),e[76]||(e[76]=c(" Specifications "))]),_:1,__:[76]}),l(d,{value:"features"},{default:i(()=>[l(b,{icon:"mdi-star",class:"mr-2"}),e[77]||(e[77]=c(" Features "))]),_:1,__:[77]}),l(d,{value:"downloads"},{default:i(()=>[l(b,{icon:"mdi-download",class:"mr-2"}),e[78]||(e[78]=c(" Downloads "))]),_:1,__:[78]}),l(d,{value:"faq"},{default:i(()=>[l(b,{icon:"mdi-help-circle",class:"mr-2"}),e[79]||(e[79]=c(" FAQs "))]),_:1,__:[79]}),l(d,{value:"warranty"},{default:i(()=>[l(b,{icon:"mdi-shield-check",class:"mr-2"}),e[80]||(e[80]=c(" Warranty & Service "))]),_:1,__:[80]}),l(d,{value:"seo"},{default:i(()=>[l(b,{icon:"mdi-search-web",class:"mr-2"}),e[81]||(e[81]=c(" SEO "))]),_:1,__:[81]}),l(d,{value:"settings"},{default:i(()=>[l(b,{icon:"mdi-cog-outline",class:"mr-2"}),e[82]||(e[82]=c(" Settings "))]),_:1,__:[82]})]),_:1},8,["modelValue","onUpdate:modelValue"]),l(I),l(Q,{modelValue:s.localFormTab,"onUpdate:modelValue":e[68]||(e[68]=r=>s.localFormTab=r),class:"pa-6"},{default:i(()=>[l(z,{value:"basic"},{default:i(()=>[l(L,null,{default:i(()=>[l(m,{cols:"12"},{default:i(()=>[l(v,{modelValue:s.localForm.title,"onUpdate:modelValue":[e[1]||(e[1]=r=>s.localForm.title=r),e[2]||(e[2]=r=>t.$emit("update:form",s.localForm))],label:"Product Title *",variant:"outlined",rules:[r=>!!r||"Title is required"]},null,8,["modelValue","rules"])]),_:1}),l(m,{cols:"12",md:"6"},{default:i(()=>[l(v,{modelValue:s.localForm.slug,"onUpdate:modelValue":[e[4]||(e[4]=r=>s.localForm.slug=r),e[5]||(e[5]=r=>t.$emit("update:form",s.localForm))],label:"Slug *",readonly:"",variant:"outlined",hint:"URL-friendly version of title",rules:[r=>!!r||"Slug is required"]},{append:i(()=>[l(f,{icon:"mdi-refresh",size:"small",variant:"text",onClick:e[3]||(e[3]=r=>t.$emit("generate-slug"))})]),_:1},8,["modelValue","rules"])]),_:1}),l(m,{cols:"12",md:"6"},{default:i(()=>[l(v,{modelValue:s.localForm.sku,"onUpdate:modelValue":[e[6]||(e[6]=r=>s.localForm.sku=r),e[7]||(e[7]=r=>t.$emit("update:form",s.localForm))],label:"SKU",variant:"outlined",hint:"Stock Keeping Unit"},null,8,["modelValue"])]),_:1}),l(m,{cols:"12",md:"6"},{default:i(()=>[l(v,{modelValue:s.localForm.brand,"onUpdate:modelValue":[e[8]||(e[8]=r=>s.localForm.brand=r),e[9]||(e[9]=r=>t.$emit("update:form",s.localForm))],label:"Brand",variant:"outlined",hint:"Product manufacturer or brand name","prepend-inner-icon":"mdi-tag"},null,8,["modelValue"])]),_:1}),l(m,{cols:"12"},{default:i(()=>[l(V,{modelValue:s.localForm.short_description,"onUpdate:modelValue":[e[10]||(e[10]=r=>s.localForm.short_description=r),e[11]||(e[11]=r=>t.$emit("update:form",s.localForm))],label:"Short Description",variant:"outlined",rows:"2",hint:"Brief description for listings"},null,8,["modelValue"])]),_:1}),l(m,{cols:"12"},{default:i(()=>[l(R,{class:"mb-2"},{default:i(()=>e[83]||(e[83]=[c("Full Description")])),_:1,__:[83]}),l(B,{modelValue:s.localForm.description,"onUpdate:modelValue":[e[12]||(e[12]=r=>s.localForm.description=r),e[13]||(e[13]=r=>t.$emit("update:form",s.localForm))],active:o.modelValue&&s.localFormTab==="basic",placeholder:"Enter detailed product description..."},null,8,["modelValue","active"])]),_:1})]),_:1})]),_:1}),l(z,{value:"media"},{default:i(()=>[l(L,null,{default:i(()=>[l(m,{cols:"12"},{default:i(()=>[e[86]||(e[86]=a("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Thumbnail Image",-1)),l(N,{modelValue:s.localThumbnailFile,"onUpdate:modelValue":[e[14]||(e[14]=r=>s.localThumbnailFile=r),n.handleThumbnailChange],label:"Select Thumbnail Image",accept:"image/*","prepend-icon":"mdi-camera",variant:"outlined",clearable:"","show-size":"",hint:"Select an image file (will upload on save). Recommended size: 800x600px or 1200x900px (4:3 ratio)","persistent-hint":"",class:"mb-3"},null,8,["modelValue","onUpdate:modelValue"]),o.thumbnailError?(u(),C(q,{key:0,type:"error",variant:"tonal",density:"compact",class:"mt-2 mb-3",closable:"","onClick:close":e[15]||(e[15]=r=>t.$emit("update:thumbnail-error",null))},{default:i(()=>[a("div",dt,[e[84]||(e[84]=a("strong",null,"Upload Error:",-1)),c(" "+_(o.thumbnailError),1)])]),_:1})):U("",!0),s.localThumbnailFile&&o.thumbnailPreview?(u(),y("div",ut,[l(T,{class:"elevation-2",style:{"max-width":"300px"}},{default:i(()=>[l(M,{src:o.thumbnailPreview,"max-height":"200",contain:"",class:"rounded"},null,8,["src"]),l(p,{class:"pa-2"},{default:i(()=>[a("div",mt,[c(_(s.localThumbnailFile.name||"Selected file")+" ",1),s.localThumbnailFile.size?(u(),y("span",ct," ("+_(n.formatFileSize(s.localThumbnailFile.size))+") ",1)):U("",!0)])]),_:1})]),_:1})])):s.localForm.thumbnail?(u(),y("div",ft,[l(T,{class:"elevation-2",style:{"max-width":"300px"}},{default:i(()=>[l(M,{src:n.resolveImageUrl(s.localForm.thumbnail),"max-height":"200",contain:"",class:"rounded"},null,8,["src"]),l(p,{class:"pa-2"},{default:i(()=>e[85]||(e[85]=[a("div",{class:"text-caption text-medium-emphasis"},"Current thumbnail ",-1)])),_:1,__:[85]})]),_:1})])):U("",!0)]),_:1,__:[86]}),l(m,{cols:"12"},{default:i(()=>[e[88]||(e[88]=a("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Product Images (Gallery) ",-1)),s.localForm.images&&s.localForm.images.length>0?(u(),y("div",pt,[a("div",gt,"Existing Images ("+_(s.localForm.images.length)+")",1),a("div",vt,[(u(!0),y(A,null,S(s.localForm.images,(r,k)=>(u(),C(T,{key:`existing-${k}`,class:"elevation-2",style:{"max-width":"200px",position:"relative"}},{default:i(()=>[l(M,{src:n.resolveImageUrl(r),height:"150",cover:""},null,8,["src"]),l(p,{class:"pa-2"},{default:i(()=>[a("div",ht,_(r),1)]),_:2},1024),l(f,{icon:"mdi-close",size:"x-small",color:"error",variant:"flat",class:"position-absolute",style:{top:"4px",right:"4px"},onClick:P=>t.$emit("remove-image",k)},null,8,["onClick"])]),_:2},1024))),128))])])):U("",!0),s.localForm.images&&s.localForm.images.length>0?(u(),C(I,{key:1,class:"my-4"})):U("",!0),e[89]||(e[89]=a("div",{class:"text-subtitle-2 text-medium-emphasis mb-2"},"Upload New Images",-1)),l(N,{modelValue:s.localGalleryFiles,"onUpdate:modelValue":[e[16]||(e[16]=r=>s.localGalleryFiles=r),n.handleGalleryChange],label:"Select Gallery Images",accept:"image/*","prepend-icon":"mdi-image-multiple",variant:"outlined",multiple:"",clearable:"","show-size":"",hint:"Select multiple image files (will upload on save). Recommended size: 1200x800px or 1600x1200px (3:2 or 4:3 ratio)","persistent-hint":"",class:"mb-3"},null,8,["modelValue","onUpdate:modelValue"]),o.galleryError?(u(),C(q,{key:2,type:"error",variant:"tonal",density:"compact",class:"mt-2 mb-3",closable:"","onClick:close":e[17]||(e[17]=r=>t.$emit("update:gallery-error",null))},{default:i(()=>[a("div",yt,[e[87]||(e[87]=a("strong",null,"Upload Error:",-1)),c(" "+_(o.galleryError),1)])]),_:1})):U("",!0),o.galleryPreviews.length>0?(u(),y("div",bt,[a("div",_t,"New Images to Upload ("+_(o.galleryPreviews.length)+")",1),a("div",wt,[(u(!0),y(A,null,S(o.galleryPreviews,(r,k)=>(u(),C(T,{key:`preview-${k}`,class:"elevation-2",style:{"max-width":"200px",position:"relative"}},{default:i(()=>[l(M,{src:r.url,height:"150",cover:""},null,8,["src"]),l(p,{class:"pa-2"},{default:i(()=>[a("div",Ft,_(r.name),1),r.size?(u(),y("div",Dt,_(n.formatFileSize(r.size)),1)):U("",!0)]),_:2},1024),l(f,{icon:"mdi-close",size:"x-small",color:"error",variant:"flat",class:"position-absolute",style:{top:"4px",right:"4px"},onClick:P=>t.$emit("remove-gallery-preview",k)},null,8,["onClick"])]),_:2},1024))),128))])])):U("",!0)]),_:1,__:[88,89]})]),_:1})]),_:1}),l(z,{value:"pricing"},{default:i(()=>[l(L,null,{default:i(()=>[l(m,{cols:"12",md:"6"},{default:i(()=>[l(v,{modelValue:s.localForm.price,"onUpdate:modelValue":[e[18]||(e[18]=r=>s.localForm.price=r),n.updateDiscountedPrice],modelModifiers:{number:!0},label:"Price (Tk)",variant:"outlined",type:"number",step:"0.01","prepend-inner-icon":"mdi-cash",hint:"Numeric price value in Bangladeshi Taka"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(m,{cols:"12",md:"6"},{default:i(()=>[l(v,{modelValue:s.localForm.price_range,"onUpdate:modelValue":[e[19]||(e[19]=r=>s.localForm.price_range=r),e[20]||(e[20]=r=>t.$emit("update:form",s.localForm))],label:"Price Range",variant:"outlined",hint:"e.g., 'Tk 50 - Tk 100' or 'Contact for Price'"},null,8,["modelValue"])]),_:1}),l(m,{cols:"12"},{default:i(()=>[l(I,{class:"my-2"}),e[90]||(e[90]=a("div",{class:"text-subtitle-1 font-weight-bold mb-3"},"Discount Settings",-1))]),_:1,__:[90]}),l(m,{cols:"12",md:"4"},{default:i(()=>[l(v,{modelValue:s.localForm.discount_percent,"onUpdate:modelValue":[e[21]||(e[21]=r=>s.localForm.discount_percent=r),n.updateDiscountedPrice],modelModifiers:{number:!0},label:"Discount (%)",variant:"outlined",type:"number",step:"0.01",min:"0",max:"100","prepend-inner-icon":"mdi-sale",hint:"Discount percentage (0-100)"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(m,{cols:"12",md:"4"},{default:i(()=>[l(v,{modelValue:s.localForm.discounted_price,"onUpdate:modelValue":e[22]||(e[22]=r=>s.localForm.discounted_price=r),modelModifiers:{number:!0},label:"Discounted Price (Tk)",variant:"outlined",type:"number",step:"0.01",min:"0","prepend-inner-icon":"mdi-cash-multiple",hint:"Final price after discount",disabled:!0,style:re({opacity:s.localForm.discount_percent>0?1:.6})},null,8,["modelValue","style"])]),_:1}),l(m,{cols:"12",md:"4",class:"d-flex align-center"},{default:i(()=>[s.localForm.discount_percent>0?(u(),C(O,{key:0,color:"success",variant:"flat",class:"mt-2"},{default:i(()=>[l(b,{icon:"mdi-tag",size:"small",class:"mr-1"}),c(" "+_(s.localForm.discount_percent)+"% OFF ",1)]),_:1})):(u(),C(O,{key:1,color:"grey",variant:"tonal",class:"mt-2"},{default:i(()=>e[91]||(e[91]=[c(" No Discount ")])),_:1,__:[91]}))]),_:1}),l(m,{cols:"12"},{default:i(()=>[l(G,{modelValue:s.localForm.show_price,"onUpdate:modelValue":[e[23]||(e[23]=r=>s.localForm.show_price=r),e[24]||(e[24]=r=>t.$emit("update:form",s.localForm))],label:"Show Price on Website",color:"primary"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(z,{value:"categories"},{default:i(()=>[l(L,null,{default:i(()=>[l(m,{cols:"12"},{default:i(()=>[e[92]||(e[92]=a("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Categories",-1)),l(j,{modelValue:s.localForm.category_ids,"onUpdate:modelValue":[e[25]||(e[25]=r=>s.localForm.category_ids=r),e[26]||(e[26]=r=>t.$emit("update:form",s.localForm))],items:o.availableCategories,"item-title":"name","item-value":"id",label:"Select Categories",variant:"outlined",multiple:"",chips:"",loading:o.loadingCategories},null,8,["modelValue","items","loading"])]),_:1,__:[92]}),l(m,{cols:"12"},{default:i(()=>[e[93]||(e[93]=a("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Tags",-1)),l(W,{modelValue:s.localForm.tag_names,"onUpdate:modelValue":[e[27]||(e[27]=r=>s.localForm.tag_names=r),e[28]||(e[28]=r=>t.$emit("update:form",s.localForm))],items:o.availableTags,label:"Tags",variant:"outlined",multiple:"",chips:"","closable-chips":"",hint:"Type to add new tags"},null,8,["modelValue","items"])]),_:1,__:[93]})]),_:1})]),_:1}),l(z,{value:"specs"},{default:i(()=>[e[95]||(e[95]=a("div",{class:"text-subtitle-1 font-weight-bold mb-4"},"Technical Specifications",-1)),(u(!0),y(A,null,S(o.specificationsList,(r,k)=>(u(),y("div",{key:k,class:"mb-3"},[l(L,null,{default:i(()=>[l(m,{cols:"12",md:"5"},{default:i(()=>[l(v,{modelValue:r.key,"onUpdate:modelValue":[P=>r.key=P,e[29]||(e[29]=P=>t.$emit("update:specifications-list",o.specificationsList))],label:"Specification Name",variant:"outlined",placeholder:"e.g., Capacity, Input Voltage"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(m,{cols:"12",md:"6"},{default:i(()=>[l(v,{modelValue:r.value,"onUpdate:modelValue":[P=>r.value=P,e[30]||(e[30]=P=>t.$emit("update:specifications-list",o.specificationsList))],label:"Value",variant:"outlined",placeholder:"e.g., 2000VA / 1800W"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(m,{cols:"12",md:"1"},{default:i(()=>[l(f,{icon:"mdi-delete",color:"error",variant:"text",onClick:P=>t.$emit("remove-specification",k)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),l(f,{color:"primary",variant:"outlined","prepend-icon":"mdi-plus",onClick:e[31]||(e[31]=r=>t.$emit("add-specification"))},{default:i(()=>e[94]||(e[94]=[c("Add Specification")])),_:1,__:[94]})]),_:1,__:[95]}),l(z,{value:"features"},{default:i(()=>[l(L,null,{default:i(()=>[l(m,{cols:"12"},{default:i(()=>[l(q,{type:"info",variant:"tonal",density:"compact",class:"mb-4"},{default:i(()=>e[96]||(e[96]=[a("div",{class:"text-body-2"},[a("strong",null,"Filter Features:"),c(" Select features for filtering products (e.g., wireless, waterproof). "),a("br"),a("strong",null,"Key Features:"),c(" Detailed text features shown on product page. ")],-1)])),_:1,__:[96]})]),_:1}),l(m,{cols:"12"},{default:i(()=>[a("div",Pt,[l(b,{icon:"mdi-filter-variant",class:"mr-2"}),e[97]||(e[97]=c(" Filter Features "))]),l(W,{modelValue:s.localForm.features,"onUpdate:modelValue":[e[32]||(e[32]=r=>s.localForm.features=r),e[33]||(e[33]=r=>t.$emit("update:form",s.localForm))],items:n.filterFeatureOptions,label:"Select or Add Filter Features",variant:"outlined",multiple:"",chips:"","closable-chips":"",hint:"Choose from existing features or type to add new ones","persistent-hint":""},{chip:i(({item:r,props:k})=>[l(O,ne(k,{size:"small",color:"primary",variant:"flat"}),{default:i(()=>[l(b,{icon:n.getFeatureIcon(typeof r=="string"?r:r.value),size:"14",class:"mr-1"},null,8,["icon"]),c(" "+_(typeof r=="string"?n.formatFeatureLabel(r):r.title),1)]),_:2},1040)]),item:i(({item:r,props:k})=>[l(X,J($(k)),{prepend:i(()=>[l(b,{icon:n.getFeatureIcon(r.value),color:"primary"},null,8,["icon"])]),_:2},1040)]),_:1},8,["modelValue","items"])]),_:1}),l(m,{cols:"12"},{default:i(()=>[l(I,{class:"my-4"})]),_:1}),l(m,{cols:"12"},{default:i(()=>[a("div",kt,[l(b,{icon:"mdi-star",class:"mr-2"}),e[98]||(e[98]=c(" Key Features (Detailed) "))]),(u(!0),y(A,null,S(o.featuresList,(r,k)=>(u(),y("div",{key:k,class:"mb-3"},[l(v,{modelValue:o.featuresList[k],"onUpdate:modelValue":[P=>o.featuresList[k]=P,e[34]||(e[34]=P=>t.$emit("update:features-list",o.featuresList))],label:`Feature ${k+1}`,variant:"outlined"},{append:i(()=>[l(f,{icon:"mdi-delete",color:"error",variant:"text",onClick:P=>t.$emit("remove-feature",k)},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","label"])]))),128)),l(f,{color:"primary",variant:"outlined","prepend-icon":"mdi-plus",onClick:e[35]||(e[35]=r=>t.$emit("add-feature"))},{default:i(()=>e[99]||(e[99]=[c("Add Key Feature")])),_:1,__:[99]})]),_:1})]),_:1})]),_:1}),l(z,{value:"downloads"},{default:i(()=>[e[104]||(e[104]=a("div",{class:"text-subtitle-1 font-weight-bold mb-4"},"Product Downloads",-1)),(u(!0),y(A,null,S(s.localDownloadsList,(r,k)=>(u(),y("div",{key:k,class:"mb-4 pa-4 border rounded"},[l(L,null,{default:i(()=>[l(m,{cols:"12",md:"4"},{default:i(()=>[l(v,{modelValue:r.title,"onUpdate:modelValue":[P=>r.title=P,n.updateDownloadsList],label:"Title",variant:"outlined",placeholder:"e.g., Product Datasheet"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(m,{cols:"12",md:"3"},{default:i(()=>[l(j,{modelValue:r.type,"onUpdate:modelValue":[P=>r.type=P,n.updateDownloadsList],items:o.downloadTypes,label:"Type",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue","items"])]),_:2},1024),l(m,{cols:"12",md:"3"},{default:i(()=>[l(v,{modelValue:r.size,"onUpdate:modelValue":[P=>r.size=P,n.updateDownloadsList],label:"Size",variant:"outlined",placeholder:"e.g., 1.2 MB",disabled:!!r.file},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),l(m,{cols:"12",md:"2"},{default:i(()=>[l(f,{icon:"mdi-delete",color:"error",variant:"text",onClick:P=>n.handleRemoveDownload(k)},null,8,["onClick"])]),_:2},1024),l(m,{cols:"12"},{default:i(()=>[e[102]||(e[102]=a("div",{class:"text-subtitle-2 font-weight-bold mb-2"},"Upload File",-1)),l(N,{modelValue:r.file,"onUpdate:modelValue":[P=>r.file=P,P=>n.handleDownloadFileChange(k,P)],label:r.file?"File Selected":"Select File to Upload",accept:".pdf,.zip,.doc,.docx,.xls,.xlsx","prepend-icon":"mdi-file-upload",variant:"outlined","show-size":"",clearable:"",hint:"PDF, ZIP, DOC, DOCX, XLS, XLSX files (max 10MB)"},null,8,["modelValue","onUpdate:modelValue","label"]),r.file?(u(),y("div",xt,[l(T,{class:"elevation-1 pa-2"},{default:i(()=>[a("div",Vt,[l(b,{icon:"mdi-file",color:"primary",class:"mr-2"}),a("div",Ct,[a("div",It,_(r.file.name),1),a("div",Ut,[c(_(n.getDownloadFileSize(r))+" ",1),r.uploading?(u(),y("span",Lt,[l(w,{indeterminate:"",size:"16",color:"primary"}),e[100]||(e[100]=c(" Uploading... "))])):r.uploaded?(u(),y("span",zt,[l(b,{icon:"mdi-check-circle",size:"small"}),e[101]||(e[101]=c(" Uploaded "))])):U("",!0)])]),l(f,{icon:"mdi-close",size:"small",variant:"text",color:"error",onClick:P=>n.handleClearDownloadFile(k)},null,8,["onClick"])])]),_:2},1024)])):U("",!0)]),_:2,__:[102]},1024)]),_:2},1024)]))),128)),l(f,{color:"primary",variant:"outlined","prepend-icon":"mdi-plus",onClick:e[36]||(e[36]=r=>t.$emit("add-download"))},{default:i(()=>e[103]||(e[103]=[c("Add Download")])),_:1,__:[103]})]),_:1,__:[104]}),l(z,{value:"faq"},{default:i(()=>[e[107]||(e[107]=a("div",{class:"text-subtitle-1 font-weight-bold mb-4"},"Frequently Asked Questions",-1)),(u(!0),y(A,null,S(o.faqsList,(r,k)=>(u(),y("div",{key:k,class:"mb-4 pa-4 border rounded"},[l(L,null,{default:i(()=>[l(m,{cols:"12"},{default:i(()=>[l(v,{modelValue:r.question,"onUpdate:modelValue":[P=>r.question=P,e[37]||(e[37]=P=>t.$emit("update:faqs-list",o.faqsList))],label:"Question",variant:"outlined",placeholder:"What is the warranty period?"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(m,{cols:"12"},{default:i(()=>[l(V,{modelValue:r.answer,"onUpdate:modelValue":[P=>r.answer=P,e[38]||(e[38]=P=>t.$emit("update:faqs-list",o.faqsList))],label:"Answer",variant:"outlined",rows:"3",placeholder:"This product comes with..."},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(m,{cols:"12"},{default:i(()=>[l(f,{color:"error",variant:"outlined","prepend-icon":"mdi-delete",onClick:P=>t.$emit("remove-faq",k)},{default:i(()=>e[105]||(e[105]=[c("Remove FAQ")])),_:2,__:[105]},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),l(f,{color:"primary",variant:"outlined","prepend-icon":"mdi-plus",onClick:e[39]||(e[39]=r=>t.$emit("add-faq"))},{default:i(()=>e[106]||(e[106]=[c("Add FAQ")])),_:1,__:[106]})]),_:1,__:[107]}),l(z,{value:"warranty"},{default:i(()=>[l(L,null,{default:i(()=>[l(m,{cols:"12"},{default:i(()=>[l(v,{modelValue:o.warrantyInfo.period,"onUpdate:modelValue":[e[40]||(e[40]=r=>o.warrantyInfo.period=r),e[41]||(e[41]=r=>t.$emit("update:warranty-info",o.warrantyInfo))],label:"Warranty Period",variant:"outlined",placeholder:"e.g., 2 Years"},null,8,["modelValue"])]),_:1}),l(m,{cols:"12"},{default:i(()=>[e[109]||(e[109]=a("div",{class:"text-subtitle-2 font-weight-bold mb-2"},"What's Covered",-1)),(u(!0),y(A,null,S(o.warrantyInfo.coverage,(r,k)=>(u(),y("div",{key:k,class:"mb-2"},[l(v,{modelValue:o.warrantyInfo.coverage[k],"onUpdate:modelValue":[P=>o.warrantyInfo.coverage[k]=P,e[42]||(e[42]=P=>t.$emit("update:warranty-info",o.warrantyInfo))],variant:"outlined",label:`Coverage Item ${k+1}`},{append:i(()=>[l(f,{icon:"mdi-delete",size:"small",color:"error",variant:"text",onClick:P=>t.$emit("remove-coverage-item",k)},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","label"])]))),128)),l(f,{color:"primary",variant:"outlined","prepend-icon":"mdi-plus",onClick:e[43]||(e[43]=r=>t.$emit("add-coverage-item"))},{default:i(()=>e[108]||(e[108]=[c("Add Coverage Item")])),_:1,__:[108]})]),_:1,__:[109]}),l(m,{cols:"12"},{default:i(()=>[l(V,{modelValue:o.warrantyInfo.terms,"onUpdate:modelValue":[e[44]||(e[44]=r=>o.warrantyInfo.terms=r),e[45]||(e[45]=r=>t.$emit("update:warranty-info",o.warrantyInfo))],label:"Terms & Conditions",variant:"outlined",rows:"4"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(z,{value:"seo"},{default:i(()=>[a("div",At,[l(q,{type:"info",variant:"tonal",class:"mb-6",density:"compact"},{default:i(()=>e[110]||(e[110]=[a("div",{class:"text-body-2"},[a("strong",null,"SEO Best Practices:"),c(" Fill in these fields to improve your product visibility in search engines and social media. ")],-1)])),_:1,__:[110]}),l(L,null,{default:i(()=>[l(m,{cols:"12"},{default:i(()=>[l(v,{modelValue:s.localForm.meta_title,"onUpdate:modelValue":[e[46]||(e[46]=r=>s.localForm.meta_title=r),e[47]||(e[47]=r=>t.$emit("update:form",s.localForm))],label:"Meta Title",variant:"outlined",hint:"SEO title for search engines (recommended: 50-60 characters)","persistent-hint":"",counter:60,color:n.getMetaTitleColor(),"prepend-inner-icon":"mdi-format-title"},{append:i(()=>[l(f,{icon:"mdi-refresh",size:"small",variant:"text",onClick:n.generateMetaTitle,disabled:!s.localForm.title,title:"Auto-generate from product title"},null,8,["onClick","disabled"])]),_:1},8,["modelValue","color"]),a("div",{class:ee(["text-caption",n.getMetaTitleColor()+"--text"])},_((s.localForm.meta_title||"").length)+"/60 characters ",3)]),_:1}),l(m,{cols:"12"},{default:i(()=>[l(V,{modelValue:s.localForm.meta_description,"onUpdate:modelValue":[e[48]||(e[48]=r=>s.localForm.meta_description=r),e[49]||(e[49]=r=>t.$emit("update:form",s.localForm))],label:"Meta Description",variant:"outlined",rows:"4",hint:"SEO description for search results (recommended: 150-160 characters)","persistent-hint":"",counter:160,color:n.getMetaDescriptionColor(),"prepend-inner-icon":"mdi-text"},{append:i(()=>[l(f,{icon:"mdi-refresh",size:"small",variant:"text",onClick:n.generateMetaDescription,disabled:!s.localForm.short_description,title:"Auto-generate from short description"},null,8,["onClick","disabled"])]),_:1},8,["modelValue","color"]),a("div",{class:ee(["text-caption",n.getMetaDescriptionColor()+"--text"])},_((s.localForm.meta_description||"").length)+"/160 characters ",3)]),_:1}),l(m,{cols:"12"},{default:i(()=>[l(v,{modelValue:s.localForm.meta_keywords,"onUpdate:modelValue":[e[50]||(e[50]=r=>s.localForm.meta_keywords=r),e[51]||(e[51]=r=>t.$emit("update:form",s.localForm))],label:"Meta Keywords",variant:"outlined",hint:"Comma-separated keywords for SEO","persistent-hint":"","prepend-inner-icon":"mdi-tag-multiple"},null,8,["modelValue"])]),_:1}),l(m,{cols:"12"},{default:i(()=>[l(I,{class:"my-4"}),e[111]||(e[111]=a("h3",{class:"text-h6 font-weight-bold mb-4"},"Open Graph (Social Media)",-1))]),_:1,__:[111]}),l(m,{cols:"12"},{default:i(()=>[l(v,{modelValue:s.localForm.og_image,"onUpdate:modelValue":[e[52]||(e[52]=r=>s.localForm.og_image=r),e[53]||(e[53]=r=>t.$emit("update:form",s.localForm))],label:"Open Graph Image URL",variant:"outlined",hint:"Image for social media sharing (recommended size: 1200x630px)","persistent-hint":"","prepend-inner-icon":"mdi-image"},null,8,["modelValue"])]),_:1})]),_:1})])]),_:1}),l(z,{value:"settings"},{default:i(()=>[l(L,null,{default:i(()=>[l(m,{cols:"12",md:"6"},{default:i(()=>[l(G,{modelValue:s.localForm.published,"onUpdate:modelValue":[e[54]||(e[54]=r=>s.localForm.published=r),e[55]||(e[55]=r=>t.$emit("update:form",s.localForm))],label:"Published",color:"success"},null,8,["modelValue"])]),_:1}),l(m,{cols:"12",md:"6"},{default:i(()=>[l(G,{modelValue:s.localForm.featured,"onUpdate:modelValue":[e[56]||(e[56]=r=>s.localForm.featured=r),e[57]||(e[57]=r=>t.$emit("update:form",s.localForm))],label:"Featured Product",color:"amber"},null,8,["modelValue"])]),_:1}),l(m,{cols:"12"},{default:i(()=>[l(I,{class:"my-2"}),e[112]||(e[112]=a("div",{class:"text-subtitle-1 font-weight-bold mb-3"},"Inventory & Availability",-1))]),_:1,__:[112]}),l(m,{cols:"12",md:"6"},{default:i(()=>[l(v,{modelValue:s.localForm.stock,"onUpdate:modelValue":[e[58]||(e[58]=r=>s.localForm.stock=r),e[59]||(e[59]=r=>t.$emit("update:form",s.localForm))],modelModifiers:{number:!0},label:"Stock Quantity",variant:"outlined",type:"number",min:"0","prepend-inner-icon":"mdi-package-variant",hint:"Available stock quantity"},null,8,["modelValue"])]),_:1}),l(m,{cols:"12",md:"6"},{default:i(()=>[l(j,{modelValue:s.localForm.availability,"onUpdate:modelValue":[e[60]||(e[60]=r=>s.localForm.availability=r),e[61]||(e[61]=r=>t.$emit("update:form",s.localForm))],items:s.availabilityOptions,label:"Availability Status",variant:"outlined","prepend-inner-icon":"mdi-check-circle",hint:"Product availability status"},{item:i(({item:r,props:k})=>[l(X,J($(k)),{prepend:i(()=>[l(b,{icon:n.getAvailabilityIcon(r.value),color:n.getAvailabilityColor(r.value)},null,8,["icon","color"])]),_:2},1040)]),_:1},8,["modelValue","items"])]),_:1}),l(m,{cols:"12"},{default:i(()=>[l(I,{class:"my-2"}),e[114]||(e[114]=a("div",{class:"text-subtitle-1 font-weight-bold mb-3"},"Product Rating",-1)),l(q,{type:"info",variant:"tonal",density:"compact",class:"mb-4"},{default:i(()=>e[113]||(e[113]=[a("div",{class:"text-body-2"},[a("strong",null,"Note:"),c(" Ratings are automatically calculated from approved customer reviews. Manual input is only needed if you don't use the review system. ")],-1)])),_:1,__:[113]})]),_:1,__:[114]}),l(m,{cols:"12",md:"6"},{default:i(()=>[a("div",St,[l(R,{class:"text-body-2 mb-2"},{default:i(()=>e[115]||(e[115]=[c("Rating (Stars)")])),_:1,__:[115]}),l(H,{modelValue:s.localForm.rating,"onUpdate:modelValue":[e[62]||(e[62]=r=>s.localForm.rating=r),e[63]||(e[63]=r=>t.$emit("update:form",s.localForm))],modelModifiers:{number:!0},length:5,size:32,"active-color":"amber",color:"grey-lighten-1","half-increments":""},null,8,["modelValue"]),a("div",Tt," Current: "+_(n.formatRating(s.localForm.rating))+" / 5 stars ",1),s.localForm.rating>=4.5?(u(),C(O,{key:0,color:"success",size:"small",class:"mt-1"},{default:i(()=>e[116]||(e[116]=[c(" Excellent ")])),_:1,__:[116]})):s.localForm.rating>=4?(u(),C(O,{key:1,color:"success",size:"small",class:"mt-1"},{default:i(()=>e[117]||(e[117]=[c(" Very Good ")])),_:1,__:[117]})):s.localForm.rating>=3?(u(),C(O,{key:2,color:"warning",size:"small",class:"mt-1"},{default:i(()=>e[118]||(e[118]=[c(" Good ")])),_:1,__:[118]})):s.localForm.rating>=2?(u(),C(O,{key:3,color:"orange",size:"small",class:"mt-1"},{default:i(()=>e[119]||(e[119]=[c(" Fair ")])),_:1,__:[119]})):s.localForm.rating>0?(u(),C(O,{key:4,color:"error",size:"small",class:"mt-1"},{default:i(()=>e[120]||(e[120]=[c(" Poor ")])),_:1,__:[120]})):U("",!0)])]),_:1}),l(m,{cols:"12",md:"6"},{default:i(()=>[l(v,{modelValue:s.localForm.rating_count,"onUpdate:modelValue":[e[64]||(e[64]=r=>s.localForm.rating_count=r),e[65]||(e[65]=r=>t.$emit("update:form",s.localForm))],modelModifiers:{number:!0},label:"Number of Ratings",variant:"outlined",type:"number",min:"0","prepend-inner-icon":"mdi-account-group",hint:"Total number of customer ratings"},null,8,["modelValue"])]),_:1}),l(m,{cols:"12"},{default:i(()=>[l(I,{class:"my-2"}),e[121]||(e[121]=a("div",{class:"text-subtitle-1 font-weight-bold mb-3"},"Display Settings",-1))]),_:1,__:[121]}),l(m,{cols:"12",md:"6"},{default:i(()=>[l(v,{modelValue:s.localForm.order,"onUpdate:modelValue":[e[66]||(e[66]=r=>s.localForm.order=r),e[67]||(e[67]=r=>t.$emit("update:form",s.localForm))],modelModifiers:{number:!0},label:"Display Order",variant:"outlined",type:"number","prepend-inner-icon":"mdi-sort-numeric-ascending",hint:"Lower numbers appear first"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))]),_:1}),o.loading?U("",!0):(u(),C(E,{key:0,class:"pa-4 bg-grey-lighten-4"},{default:i(()=>[l(x),l(f,{variant:"text",onClick:n.close,disabled:o.saving},{default:i(()=>e[122]||(e[122]=[c("Cancel")])),_:1,__:[122]},8,["onClick","disabled"]),l(f,{color:"primary",variant:"flat",onClick:e[69]||(e[69]=r=>t.$emit("save")),loading:o.saving,disabled:o.loading},{default:i(()=>[c(_(o.editingProduct?"Update":"Create")+" Product ",1)]),_:1},8,["loading","disabled"])]),_:1}))]),_:1})]),_:1},8,["model-value"])}const qt=K(st,[["render",Et],["__scopeId","data-v-f22bdd31"]]),Mt={components:{ProductDetailsDialog:it,ProductFormDialog:qt},mixins:[te],data(){return{products:[],showDialog:!1,showDetailsDialog:!1,formTab:"basic",detailsTab:"basic",editingProduct:null,productDetails:null,saving:!1,loadingProduct:!1,loadingProductDetails:!1,publishedFilter:null,featuredFilter:null,publishedOptions:[{title:"Published",value:!0},{title:"Draft",value:!1}],featuredOptions:[{title:"Featured",value:!0},{title:"Not Featured",value:!1}],form:{title:"",slug:"",sku:"",brand:"",short_description:"",description:"",thumbnail:"",images:[],price:null,discount_percent:0,discounted_price:null,price_range:"",show_price:!0,availability:"in_stock",rating:0,rating_count:0,features:[],category_ids:[],tag_names:[],specifications:{},key_features:[],downloads:[],published:!1,featured:!1,stock:null,order:0,meta_title:"",meta_description:"",meta_keywords:"",og_image:""},availableCategories:[],availableTags:[],loadingCategories:!1,specificationsList:[],featuresList:[],downloadsList:[],faqsList:[],warrantyInfo:{period:"2 Years",coverage:[],terms:""},searchDebounceTimer:null,downloadTypes:["PDF","ZIP","DOC","DOCX","XLS","XLSX","Other"],detailsSpecificationsList:[],detailsFeaturesList:[],detailsDownloadsList:[],detailsFaqsList:[],detailsWarrantyInfo:{period:"2 Years",coverage:[],terms:""},thumbnailFile:null,galleryFiles:[],uploadingThumbnail:!1,uploadingGallery:!1,thumbnailPreview:null,galleryPreviews:[],thumbnailError:null,galleryError:null,imageUrlInputs:[],productDetailsCache:{}}},async mounted(){await Promise.all([this.loadProducts(),this.loadCategories(),this.loadTags()])},watch:{"form.title":{handler(t){t&&!this.editingProduct&&this.generateSlug()},immediate:!1}},methods:{async loadProducts(){try{this.loading=!0;const t=this.buildPaginationParams();this.search&&(t.search=this.search),this.publishedFilter!==null&&(t.published=this.publishedFilter),this.featuredFilter!==null&&(t.featured=this.featuredFilter);const e=await this.$axios.get("/api/v1/products",{params:t,headers:this.getAuthHeaders()}),o=e.data.data||[];this.products=o.map(F=>({...F,thumbnail:this.resolveImageUrl(F.thumbnail)})),this.updatePagination(e.data)}catch(t){this.handleApiError(t,"Failed to load products")}finally{this.loading=!1}},onSearchChange(t){this.search=t,this.resetPagination(),this.searchDebounceTimer&&clearTimeout(this.searchDebounceTimer),this.searchDebounceTimer=setTimeout(()=>{this.loadProducts()},350)},async loadCategories(){var t;try{this.loadingCategories=!0;let e=await this.$axios.get("/api/v1/categories?type=product",{headers:this.getAuthHeaders()}).catch(()=>null);if(e||(e=await this.$axios.get("/api/v1/categories",{headers:this.getAuthHeaders()}).catch(()=>null)),e&&e.data){const o=((t=e.data)==null?void 0:t.data)||e.data||[];this.availableCategories=Array.isArray(o)?o.filter(F=>!F.type||F.type==="product"):[]}else this.availableCategories=[]}catch(e){console.error("Error loading categories:",e),this.availableCategories=[]}finally{this.loadingCategories=!1}},async loadTags(){var t;try{let e=await this.$axios.get("/api/v1/tags?type=product",{headers:this.getAuthHeaders()}).catch(()=>null);if(e||(e=await this.$axios.get("/api/v1/tags",{headers:this.getAuthHeaders()}).catch(()=>null)),e&&e.data){const o=((t=e.data)==null?void 0:t.data)||e.data||[],F=Array.isArray(o)?o.filter(s=>!s.type||s.type==="product"):[];this.availableTags=F.map(s=>s.name||s)}else this.availableTags=[]}catch(e){console.error("Error loading tags:",e),this.availableTags=[]}},async openDialog(t=null){if(this.editingProduct=t,this.showDialog=!0,t)try{await this.loadProductForEdit(t)}catch(e){console.error("Error loading product for edit:",e)}else this.resetForm()},async loadProductForEdit(t){var e,o,F,s,n,f,h,w,b,d;this.loadingProduct=!0;try{const D=this.productDetailsCache[t.id];if(D){this.applyProductDataToForm(D),this.loadingProduct=!1;return}t&&t.id&&this.hasCompleteProductData(t);const I=await this.$axios.get(`/api/v1/products/${t.id}`,{headers:this.getAuthHeaders(),timeout:3e4}),v=((e=I.data)==null?void 0:e.data)||I.data;if(!v)throw new Error("No product data received from server");this.productDetailsCache[v.id]=v,this.applyProductDataToForm(v)}catch(D){if(console.error("Error loading product:",D),((o=D.response)==null?void 0:o.status)===500||(F=D.message)!=null&&F.includes("memory")||(f=(n=(s=D.response)==null?void 0:s.data)==null?void 0:n.message)!=null&&f.includes("memory"))this.showError("Product data is too large to load. Please try refreshing the page or contact support.");else{const I=((w=(h=D.response)==null?void 0:h.data)==null?void 0:w.message)||((d=(b=D.response)==null?void 0:b.data)==null?void 0:d.error)||D.message||"Failed to load product data";this.showError(I)}throw this.closeDialog(),D}finally{this.loadingProduct=!1}},hasCompleteProductData(t){return t&&t.title&&t.slug},resetForm(){this.form={title:"",slug:"",sku:"",brand:"",short_description:"",description:"",thumbnail:"",images:[],price:null,discount_percent:0,discounted_price:null,price_range:"",show_price:!0,availability:"in_stock",rating:0,rating_count:0,features:[],category_ids:[],tag_names:[],published:!1,featured:!1,stock:null,order:0,meta_title:"",meta_description:"",meta_keywords:"",og_image:""},this.specificationsList=[],this.featuresList=[],this.downloadsList.forEach(t=>{t.file&&(t.file=null,t.uploading=!1,t.uploaded=!1)}),this.downloadsList=[],this.faqsList=[],this.warrantyInfo={period:"2 Years",coverage:[],terms:""},this.thumbnailFile=null,this.thumbnailPreview=null,this.thumbnailError=null,this.galleryFiles=[],this.galleryPreviews=[],this.galleryError=null,this.imageUrlInputs=[],this.formTab="basic"},generateSlug(){this.form.title&&(this.form.slug=this.form.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""))},addImageUrl(){this.imageUrlInputs.push("")},removeImageUrl(t){this.imageUrlInputs.splice(t,1)},removeImage(t){this.form.images.splice(t,1)},previewThumbnail(t){if(this.thumbnailError=null,!t){this.thumbnailPreview=null;return}const e=Array.isArray(t)?t[0]:t;if(!e){this.thumbnailPreview=null;return}if(!e.type.startsWith("image/")){this.thumbnailError="Please select a valid image file (jpeg, jpg, png, gif, webp)";return}if(e.size>5242880){this.thumbnailError="Image file size must be less than 5MB";return}const o=new FileReader;o.onload=F=>{this.thumbnailPreview=F.target.result},o.onerror=()=>{this.thumbnailError="Failed to read image file"},o.readAsDataURL(e)},previewGalleryImages(t){if(this.galleryError=null,!t){this.galleryPreviews=[],this.galleryFiles=[];return}const e=Array.isArray(t)?t:[t];if(e.length===0){this.galleryPreviews=[],this.galleryFiles=[];return}const o=[];if(e.forEach((s,n)=>{s.type.startsWith("image/")?s.size>5242880&&o.push(`File ${n+1}: File size exceeds 5MB`):o.push(`File ${n+1}: Invalid image type`)}),o.length>0){this.galleryError=o.join(". ");return}this.galleryFiles=e.filter(s=>s);const F=e.map(s=>s?new Promise(n=>{const f=new FileReader;f.onload=h=>{n({url:h.target.result,name:s.name,size:s.size,file:s})},f.onerror=()=>n(null),f.readAsDataURL(s)}):Promise.resolve(null));Promise.all(F).then(s=>{this.galleryPreviews=s.filter(n=>n!==null)})},removeGalleryPreview(t){this.galleryPreviews.splice(t,1),Array.isArray(this.galleryFiles)&&this.galleryFiles.length>t&&this.galleryFiles.splice(t,1),this.galleryPreviews.length===0&&(this.galleryFiles=[])},formatFileSize(t){if(!t)return"0 Bytes";const e=1024,o=["Bytes","KB","MB","GB"],F=Math.floor(Math.log(t)/Math.log(e));return Math.round(t/Math.pow(e,F)*100)/100+" "+o[F]},async uploadThumbnailFile(){var e,o,F,s,n,f;if(!this.thumbnailFile)return null;const t=Array.isArray(this.thumbnailFile)?this.thumbnailFile[0]:this.thumbnailFile;if(!t)return null;this.uploadingThumbnail=!0;try{const h=new FormData;h.append("image",t),h.append("folder","products"),this.form.title&&h.append("prefix",this.form.title);const w=await this.$axios.post("/api/v1/upload/image",h,{headers:{...this.getAuthHeaders(),"Content-Type":"multipart/form-data"}});if(w.data.success){const b=this.normalizeImageInput(w.data.path||w.data.url);return this.thumbnailError=null,b}else throw new Error(w.data.message||"Failed to upload thumbnail")}catch(h){console.error("Error uploading thumbnail:",h),console.error("Error response:",(e=h.response)==null?void 0:e.data);let w="Failed to upload thumbnail";if(((o=h.response)==null?void 0:o.status)===422){const b=h.response.data.errors;b&&b.image?w=Array.isArray(b.image)?b.image.join(", "):b.image:h.response.data.message&&(w=h.response.data.message)}else(s=(F=h.response)==null?void 0:F.data)!=null&&s.message?w=h.response.data.message:(f=(n=h.response)==null?void 0:n.data)!=null&&f.error?w=h.response.data.error:h.message&&(w=h.message);throw this.thumbnailError=w,new Error(w)}finally{this.uploadingThumbnail=!1}},async uploadGalleryFiles(){var e,o,F,s,n,f;if(!this.galleryPreviews||this.galleryPreviews.length===0)return[];const t=[];this.uploadingGallery=!0;try{const h=this.galleryPreviews.filter(d=>d.file).map(d=>d.file);if(h.length===0)return[];const w=new FormData;h.forEach(d=>{w.append("images[]",d)}),w.append("folder","products"),this.form.title&&w.append("prefix",this.form.title);const b=await this.$axios.post("/api/v1/upload/images",w,{headers:{...this.getAuthHeaders(),"Content-Type":"multipart/form-data"}});if(b.data.success&&b.data.images&&b.data.images.length>0){const d=b.data.images.map(D=>this.normalizeImageInput(D.path||D.url));t.push(...d),this.galleryError=null}else throw new Error(b.data.message||"Failed to upload images");return t}catch(h){console.error("Error uploading gallery images:",h),console.error("Error response:",(e=h.response)==null?void 0:e.data);let w="Failed to upload images";if(((o=h.response)==null?void 0:o.status)===422){const b=h.response.data.errors;if(b&&b["images.0"]){const d=[];Object.keys(b).forEach(D=>{D.startsWith("images.")&&(Array.isArray(b[D])?d.push(...b[D]):d.push(b[D]))}),w=d.length>0?d.join(", "):h.response.data.message}else b&&b.images?w=Array.isArray(b.images)?b.images.join(", "):b.images:h.response.data.message&&(w=h.response.data.message)}else(s=(F=h.response)==null?void 0:F.data)!=null&&s.message?w=h.response.data.message:(f=(n=h.response)==null?void 0:n.data)!=null&&f.error?w=h.response.data.error:h.message&&(w=h.message);throw this.galleryError=w,new Error(w)}finally{this.uploadingGallery=!1}},addSpecification(){this.specificationsList.push({key:"",value:""})},removeSpecification(t){this.specificationsList.splice(t,1)},addFeature(){this.featuresList.push("")},removeFeature(t){this.featuresList.splice(t,1)},addDownload(){this.downloadsList.push({title:"",type:"PDF",size:"",url:"",file:null,uploading:!1,uploaded:!1})},removeDownload(t){this.downloadsList.splice(t,1)},handleDownloadFileChange(t){const e=this.downloadsList[t];if(e.file){const o=e.file.name.split(".").pop().toUpperCase();["PDF","ZIP","DOC","DOCX","XLS","XLSX"].includes(o)&&(e.type=o),e.size=this.formatFileSize(e.file.size)}},clearDownloadFile(t){const e=this.downloadsList[t];e.file=null,e.uploading=!1,e.uploaded=!1,e.url||(e.size="")},async uploadDownloadFile(t){var F,s,n,f;const e=this.downloadsList[t];if(!e.file)return null;const o=e.file.size||0;e.uploading=!0;try{const h=new FormData;h.append("file",e.file),h.append("folder","downloads"),this.form.title&&h.append("prefix",this.form.title);const w=await this.$axios.post("/api/v1/upload/file",h,{headers:{...this.getAuthHeaders(),"Content-Type":"multipart/form-data"}});if(w.data.success){const b=this.normalizeImageInput(w.data.path||w.data.url);e.url=b;const d=w.data.size||o;return e.size=this.formatFileSize(d),e.uploaded=!0,b}else throw new Error(w.data.message||"Failed to upload file")}catch(h){console.error("Error uploading download file:",h);const w=((s=(F=h.response)==null?void 0:F.data)==null?void 0:s.message)||((f=(n=h.response)==null?void 0:n.data)==null?void 0:f.error)||"Failed to upload file";throw new Error(w)}finally{e.uploading=!1}},addFAQ(){this.faqsList.push({question:"",answer:""})},removeFAQ(t){this.faqsList.splice(t,1)},addCoverageItem(){this.warrantyInfo.coverage.push("")},removeCoverageItem(t){this.warrantyInfo.coverage.splice(t,1)},async saveProduct(){var t,e,o,F;try{if(!this.form.title||!this.form.slug){this.showError("Title and Slug are required");return}this.saving=!0;let s=this.form.thumbnail;if(this.thumbnailFile)try{const d=await this.uploadThumbnailFile();d&&(s=d,this.form.thumbnail=s)}catch{this.saving=!1;return}let n=[...this.form.images.filter(d=>d).map(d=>this.normalizeImageInput(d))];if(this.galleryPreviews&&this.galleryPreviews.length>0)try{const d=await this.uploadGalleryFiles();n=[...n,...d]}catch{this.saving=!1;return}const f=this.imageUrlInputs.filter(d=>d&&d.trim()).map(d=>this.normalizeImageInput(d.trim()));n=[...n,...f];for(let d=0;d<this.downloadsList.length;d++){const D=this.downloadsList[d];if(D.file&&!D.uploaded)try{await this.uploadDownloadFile(d)}catch(I){this.showError(`Failed to upload download file "${D.title||D.file.name}": ${I.message}`);return}}const h={};this.specificationsList.forEach(d=>{if(d.key&&d.value){const D=String(d.key);/^\d+$/.test(D)||(h[d.key]=d.value)}});const w=this.form.features?this.form.features.map(d=>typeof d=="string"?d.toLowerCase().replace(/\s+/g,"_"):typeof d=="object"&&d.value?d.value:d).filter(d=>d):[],b={title:this.form.title,slug:this.form.slug,sku:this.form.sku||null,brand:this.form.brand||null,short_description:this.form.short_description||null,description:this.form.description||null,thumbnail:this.normalizeImageInput(s)||null,images:n.map(d=>this.normalizeImageInput(d)),price:this.form.price?parseFloat(this.form.price):null,discount_percent:this.form.discount_percent?parseFloat(this.form.discount_percent):0,discounted_price:this.form.discounted_price?parseFloat(this.form.discounted_price):null,price_range:this.form.price_range||null,show_price:this.form.show_price!==!1,availability:this.form.availability||"in_stock",rating:this.form.rating?parseFloat(this.form.rating):0,rating_count:this.form.rating_count?parseInt(this.form.rating_count):0,features:w.length>0?w:null,specifications:Object.keys(h).length>0?h:null,downloads:this.downloadsList.filter(d=>d.title&&d.url).length>0?this.downloadsList.filter(d=>d.title&&d.url):null,key_features:this.featuresList.filter(d=>d).length>0?this.featuresList.filter(d=>d):null,faqs:this.faqsList.filter(d=>d.question&&d.answer).length>0?this.faqsList.filter(d=>d.question&&d.answer):null,warranty_info:this.warrantyInfo,meta_title:this.form.meta_title||null,meta_description:this.form.meta_description||null,meta_keywords:this.form.meta_keywords||null,og_image:this.normalizeImageInput(this.form.og_image)||null,published:this.form.published||!1,featured:this.form.featured||!1,stock:this.form.stock?parseInt(this.form.stock):null,order:this.form.order?parseInt(this.form.order):0,category_ids:this.form.category_ids||[],tag_names:this.form.tag_names||[]};if(this.editingProduct){const d=await this.$axios.put(`/api/v1/products/${this.editingProduct.id}`,b,{headers:this.getAuthHeaders()});this.editingProduct.id&&delete this.productDetailsCache[this.editingProduct.id],this.showSuccess("Product updated successfully")}else{const d=await this.$axios.post("/api/v1/products",b,{headers:this.getAuthHeaders()});this.showSuccess("Product created successfully")}this.thumbnailFile=null,this.thumbnailPreview=null,this.thumbnailError=null,this.galleryFiles=[],this.galleryPreviews=[],this.galleryError=null,this.imageUrlInputs=[],this.closeDialog(),await this.loadProducts()}catch(s){console.error("Error saving product:",s);const n=((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||((F=(o=s.response)==null?void 0:o.data)==null?void 0:F.error)||s.message||"Failed to save product";this.showError(n)}finally{this.saving=!1}},editProduct(t){this.openDialog(t)},async viewProduct(t){var e,o,F,s,n,f,h,w,b,d;this.showDetailsDialog=!0,this.loadingProductDetails=!0,this.detailsTab="basic";try{const D=this.productDetailsCache[t.id];if(D){const m={...D};m.thumbnail&&(m.thumbnail=this.resolveImageUrl(m.thumbnail)),Array.isArray(m.images)&&(m.images=m.images.map(V=>this.resolveImageUrl(V))),m.og_image&&(m.og_image=this.resolveImageUrl(m.og_image)),this.productDetails=m,this.loadingProductDetails=!1,this.parseProductDetailsData(m);return}const I=await this.$axios.get(`/api/v1/products/${t.id}`,{headers:this.getAuthHeaders(),timeout:3e4}),v=((e=I.data)==null?void 0:e.data)||I.data;if(!v)throw new Error("No product data received");v.id&&(this.productDetailsCache[v.id]={...v}),v.thumbnail&&(v.thumbnail=this.resolveImageUrl(v.thumbnail)),Array.isArray(v.images)&&(v.images=v.images.map(m=>this.resolveImageUrl(m))),v.og_image&&(v.og_image=this.resolveImageUrl(v.og_image)),this.productDetails=v,this.parseProductDetailsData(v)}catch(D){if(console.error("Error loading product details:",D),((o=D.response)==null?void 0:o.status)===500||(F=D.message)!=null&&F.includes("memory")||(f=(n=(s=D.response)==null?void 0:s.data)==null?void 0:n.message)!=null&&f.includes("memory"))this.showError("Product data is too large to load. Please try refreshing the page or contact support.");else{const I=((w=(h=D.response)==null?void 0:h.data)==null?void 0:w.message)||((d=(b=D.response)==null?void 0:b.data)==null?void 0:d.error)||D.message||"Failed to load product details";this.showError(I)}this.closeDetailsDialog()}finally{this.loadingProductDetails=!1}},parseProductDetailsData(t){var e,o,F;this.detailsSpecificationsList=[],t.specifications&&typeof t.specifications=="object"&&Object.keys(t.specifications).forEach(s=>{!s.startsWith("_")&&!/^\d+$/.test(String(s))&&this.detailsSpecificationsList.push({key:s,value:t.specifications[s]})}),t.key_features&&Array.isArray(t.key_features)?this.detailsFeaturesList=[...t.key_features]:(e=t.specifications)!=null&&e._key_features&&Array.isArray(t.specifications._key_features)?this.detailsFeaturesList=[...t.specifications._key_features]:this.detailsFeaturesList=[],this.detailsDownloadsList=Array.isArray(t.downloads)?[...t.downloads]:[],t.faqs&&Array.isArray(t.faqs)?this.detailsFaqsList=[...t.faqs]:(o=t.specifications)!=null&&o._faqs&&Array.isArray(t.specifications._faqs)?this.detailsFaqsList=[...t.specifications._faqs]:this.detailsFaqsList=[],t.warranty_info&&typeof t.warranty_info=="object"?this.detailsWarrantyInfo={period:t.warranty_info.period||"2 Years",coverage:Array.isArray(t.warranty_info.coverage)?[...t.warranty_info.coverage]:[],terms:t.warranty_info.terms||""}:(F=t.specifications)!=null&&F._warranty_info&&typeof t.specifications._warranty_info=="object"?this.detailsWarrantyInfo={period:t.specifications._warranty_info.period||"2 Years",coverage:Array.isArray(t.specifications._warranty_info.coverage)?[...t.specifications._warranty_info.coverage]:[],terms:t.specifications._warranty_info.terms||""}:this.detailsWarrantyInfo={period:"2 Years",coverage:[],terms:""}},closeDetailsDialog(){this.showDetailsDialog=!1,this.productDetails=null,this.detailsTab="basic",this.detailsSpecificationsList=[],this.detailsFeaturesList=[],this.detailsDownloadsList=[],this.detailsFaqsList=[],this.detailsWarrantyInfo={period:"2 Years",coverage:[],terms:""}},async editProductFromDetails(){if(this.productDetails){const t={...this.productDetails};this.closeDetailsDialog(),await this.$nextTick();const e=this.products.find(o=>o.id===t.id);if(e){this.editingProduct=e,this.showDialog=!0;try{this.loadingProduct=!0,await this.$nextTick(),t.id&&(this.productDetailsCache[t.id]=t),this.applyProductDataToForm(t)}catch(o){console.error("Error populating edit form:",o),this.showError("Failed to load product data for editing")}finally{this.loadingProduct=!1}}}},async deleteProduct(t){if(confirm("Are you sure you want to delete this product?"))try{await this.$axios.delete(`/api/v1/products/${t}`,{headers:this.getAuthHeaders()}),t&&delete this.productDetailsCache[t],this.showSuccess("Product deleted successfully"),await this.loadProducts()}catch(e){this.handleApiError(e,"Error deleting product")}},closeDialog(){this.loadingProduct||this.saving||(this.showDialog=!1,this.editingProduct=null,this.loadingProduct=!1,this.thumbnailFile=null,this.thumbnailPreview=null,this.thumbnailError=null,this.galleryFiles=[],this.galleryPreviews=[],this.galleryError=null,this.resetForm())},onPerPageChange(){this.resetPagination(),this.loadProducts()},onSort(t){this.handleSort(t),this.loadProducts()},normalizeImageInput(t){return le(t)},resolveImageUrl(t){return Y(t)},formatProductPrice(t){return ae(t,"-")},applyProductDataToForm(t){var F,s,n;const e=this.normalizeImageInput(t.thumbnail||""),o=Array.isArray(t.images)?t.images.map(f=>this.normalizeImageInput(f)):[];this.form={title:t.title||"",slug:t.slug||"",sku:t.sku||"",brand:t.brand||"",short_description:t.short_description||"",description:t.description||"",thumbnail:e,images:o,price:t.price||null,discount_percent:t.discount_percent||0,discounted_price:t.discounted_price||null,price_range:t.price_range||"",show_price:t.show_price!==!1,availability:t.availability||"in_stock",rating:t.rating||0,rating_count:t.rating_count||0,features:Array.isArray(t.features)?[...t.features]:[],category_ids:(t.categories||[]).map(f=>f.id),tag_names:(t.tags||[]).map(f=>f.name),published:t.published||!1,featured:t.featured||!1,stock:t.stock||null,order:t.order||0,meta_title:t.meta_title||"",meta_description:t.meta_description||"",meta_keywords:t.meta_keywords||"",og_image:t.og_image||""},this.imageUrlInputs=[],this.specificationsList=[],t.specifications&&typeof t.specifications=="object"&&Object.keys(t.specifications).forEach(f=>{!f.startsWith("_")&&!/^\d+$/.test(String(f))&&this.specificationsList.push({key:f,value:t.specifications[f]})}),t.key_features&&Array.isArray(t.key_features)?this.featuresList=[...t.key_features]:(F=t.specifications)!=null&&F._key_features&&Array.isArray(t.specifications._key_features)?this.featuresList=[...t.specifications._key_features]:this.featuresList=[],this.downloadsList=Array.isArray(t.downloads)?[...t.downloads]:[],t.faqs&&Array.isArray(t.faqs)?this.faqsList=[...t.faqs]:(s=t.specifications)!=null&&s._faqs&&Array.isArray(t.specifications._faqs)?this.faqsList=[...t.specifications._faqs]:this.faqsList=[],t.warranty_info&&typeof t.warranty_info=="object"?this.warrantyInfo={period:t.warranty_info.period||"2 Years",coverage:Array.isArray(t.warranty_info.coverage)?[...t.warranty_info.coverage]:[],terms:t.warranty_info.terms||""}:(n=t.specifications)!=null&&n._warranty_info&&typeof t.specifications._warranty_info=="object"?this.warrantyInfo={period:t.specifications._warranty_info.period||"2 Years",coverage:Array.isArray(t.specifications._warranty_info.coverage)?[...t.specifications._warranty_info.coverage]:[],terms:t.specifications._warranty_info.terms||""}:this.warrantyInfo={period:"2 Years",coverage:[],terms:""},this.formTab="basic"}}},Ot={class:"page-header"},Rt={class:"text-caption text-grey"},Bt={key:0},Nt={class:"d-flex align-center"},Gt={class:"d-flex align-center"},jt={class:"d-flex align-center"},Wt={class:"d-flex align-center"},Xt={class:"d-flex flex-wrap gap-1"},Ht={class:"d-flex"},Qt={class:"font-weight-medium"},Yt={class:"d-flex flex-wrap gap-1"},Kt={key:0,class:"text-caption text-grey"},Zt={key:0},Jt={class:"d-flex flex-column flex-md-row justify-space-between align-center align-md-start gap-3 mt-4"},$t={class:"text-caption text-grey"},el={key:0},tl={key:0,class:"ml-2"},ll={key:1},il={key:0,class:"d-flex align-center gap-2"};function sl(t,e,o,F,s,n){const f=g("v-btn"),h=g("v-select"),w=g("v-col"),b=g("v-text-field"),d=g("v-row"),D=g("v-card-text"),I=g("v-card"),v=g("v-card-title"),m=g("v-icon"),V=g("v-skeleton-loader"),R=g("v-img"),B=g("v-avatar"),L=g("v-chip"),z=g("v-table"),N=g("v-pagination"),q=g("ProductDetailsDialog"),M=g("ProductFormDialog");return u(),y("div",null,[a("div",Ot,[e[27]||(e[27]=a("h1",{class:"text-h4 page-title"},"Products Management",-1)),l(f,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=p=>n.openDialog()),class:"add-button"},{default:i(()=>e[26]||(e[26]=[c("Create Product")])),_:1,__:[26]})]),l(I,{class:"mb-4"},{default:i(()=>[l(D,null,{default:i(()=>[l(d,null,{default:i(()=>[l(w,{cols:"12",md:"3"},{default:i(()=>[l(h,{modelValue:t.perPage,"onUpdate:modelValue":[e[1]||(e[1]=p=>t.perPage=p),n.onPerPageChange],items:t.perPageOptions,label:"Items per page","prepend-inner-icon":"mdi-format-list-numbered",variant:"outlined",density:"compact"},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1}),l(w,{cols:"12",md:"3"},{default:i(()=>[l(h,{modelValue:s.publishedFilter,"onUpdate:modelValue":[e[2]||(e[2]=p=>s.publishedFilter=p),n.loadProducts],items:s.publishedOptions,label:"Filter by Status","prepend-inner-icon":"mdi-filter",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1}),l(w,{cols:"12",md:"3"},{default:i(()=>[l(h,{modelValue:s.featuredFilter,"onUpdate:modelValue":[e[3]||(e[3]=p=>s.featuredFilter=p),n.loadProducts],items:s.featuredOptions,label:"Filter by Featured","prepend-inner-icon":"mdi-star",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1}),l(w,{cols:"12",md:"3"},{default:i(()=>[l(b,{modelValue:t.search,"onUpdate:modelValue":[e[4]||(e[4]=p=>t.search=p),n.onSearchChange],label:"Search products","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),l(I,null,{default:i(()=>[l(v,{class:"d-flex justify-space-between align-center"},{default:i(()=>[e[29]||(e[29]=a("span",null,"Products",-1)),a("span",Rt,[e[28]||(e[28]=c(" Total Records: ")),a("strong",null,_(t.pagination.total||0),1),s.products.length>0?(u(),y("span",Bt," | Showing "+_((t.currentPage-1)*t.perPage+1)+" to "+_(Math.min(t.currentPage*t.perPage,t.pagination.total))+" of "+_(t.pagination.total),1)):U("",!0)])]),_:1,__:[29]}),l(D,null,{default:i(()=>[l(z,null,{default:i(()=>[a("thead",null,[a("tr",null,[e[34]||(e[34]=a("th",null,"Image",-1)),a("th",{class:"sortable",onClick:e[5]||(e[5]=p=>n.onSort("title"))},[a("div",Nt,[e[30]||(e[30]=c(" Title ")),l(m,{icon:t.getSortIcon("title"),size:"small",class:"ml-1"},null,8,["icon"])])]),a("th",{class:"sortable",onClick:e[6]||(e[6]=p=>n.onSort("sku"))},[a("div",Gt,[e[31]||(e[31]=c(" SKU ")),l(m,{icon:t.getSortIcon("sku"),size:"small",class:"ml-1"},null,8,["icon"])])]),e[35]||(e[35]=a("th",null,"Categories",-1)),a("th",{class:"sortable",onClick:e[7]||(e[7]=p=>n.onSort("price"))},[a("div",jt,[e[32]||(e[32]=c(" Price ")),l(m,{icon:t.getSortIcon("price"),size:"small",class:"ml-1"},null,8,["icon"])])]),a("th",{class:"sortable",onClick:e[8]||(e[8]=p=>n.onSort("published"))},[a("div",Wt,[e[33]||(e[33]=c(" Status ")),l(m,{icon:t.getSortIcon("published"),size:"small",class:"ml-1"},null,8,["icon"])])]),e[36]||(e[36]=a("th",null,"Actions",-1))])]),a("tbody",null,[t.loading?(u(),y(A,{key:0},S(5,p=>a("tr",{key:`skeleton-${p}`},[a("td",null,[l(V,{type:"avatar",width:"40",height:"40"})]),a("td",null,[l(V,{type:"text",width:"200",class:"mb-1"}),l(V,{type:"chip",width:"60",height:"20"})]),a("td",null,[l(V,{type:"chip",width:"100",height:"24"})]),a("td",null,[a("div",Xt,[l(V,{type:"chip",width:"80",height:"20",class:"mr-1"}),l(V,{type:"chip",width:"70",height:"20"})])]),a("td",null,[l(V,{type:"text",width:"80"})]),a("td",null,[l(V,{type:"chip",width:"70",height:"24"})]),a("td",null,[a("div",Ht,[l(V,{type:"button",width:"32",height:"32",class:"mr-1"}),l(V,{type:"button",width:"32",height:"32",class:"mr-1"}),l(V,{type:"button",width:"32",height:"32"})])])])),64)):(u(),y(A,{key:1},[(u(!0),y(A,null,S(s.products,p=>(u(),y("tr",{key:p.id},[a("td",null,[p.thumbnail?(u(),C(B,{key:0,size:"40"},{default:i(()=>[l(R,{src:n.resolveImageUrl(p.thumbnail),cover:""},null,8,["src"])]),_:2},1024)):(u(),C(B,{key:1,size:"40",color:"grey-lighten-2"},{default:i(()=>[l(m,{icon:"mdi-package-variant"})]),_:1}))]),a("td",null,[a("div",Qt,_(p.title),1),p.featured?(u(),C(L,{key:0,color:"amber",size:"x-small",class:"mt-1"},{default:i(()=>e[37]||(e[37]=[c("Featured")])),_:1,__:[37]})):U("",!0)]),a("td",null,[l(L,{size:"small",variant:"outlined"},{default:i(()=>[c(_(p.sku||"-"),1)]),_:2},1024)]),a("td",null,[a("div",Yt,[(u(!0),y(A,null,S(p.categories||[],T=>(u(),C(L,{key:T.id,size:"x-small",color:"primary",variant:"tonal"},{default:i(()=>[c(_(T.name),1)]),_:2},1024))),128)),!p.categories||p.categories.length===0?(u(),y("span",Kt,"-")):U("",!0)])]),a("td",null,_(n.formatProductPrice(p)),1),a("td",null,[l(L,{color:p.published?"success":"error",size:"small"},{default:i(()=>[c(_(p.published?"Published":"Draft"),1)]),_:2},1032,["color"])]),a("td",null,[l(f,{size:"small",icon:"mdi-eye",onClick:T=>n.viewProduct(p),variant:"text",color:"info",class:"mr-1"},null,8,["onClick"]),l(f,{size:"small",icon:"mdi-pencil",onClick:T=>n.editProduct(p),variant:"text",color:"primary",class:"mr-1"},null,8,["onClick"]),l(f,{size:"small",icon:"mdi-delete",onClick:T=>n.deleteProduct(p.id),variant:"text",color:"error"},null,8,["onClick"])])]))),128)),s.products.length===0?(u(),y("tr",Zt,e[38]||(e[38]=[a("td",{colspan:"7",class:"text-center py-4"},"No products found",-1)]))):U("",!0)],64))])]),_:1}),a("div",Jt,[a("div",$t,[s.products.length>0&&t.pagination.total>0?(u(),y("span",el,[e[39]||(e[39]=c(" Showing ")),a("strong",null,_((t.currentPage-1)*t.perPage+1),1),e[40]||(e[40]=c(" to ")),a("strong",null,_(Math.min(t.currentPage*t.perPage,t.pagination.total)),1),e[41]||(e[41]=c(" of ")),a("strong",null,_(t.pagination.total.toLocaleString()),1),e[42]||(e[42]=c(" records ")),t.pagination.last_page>1?(u(),y("span",tl," (Page "+_(t.currentPage)+" of "+_(t.pagination.last_page)+") ",1)):U("",!0)])):(u(),y("span",ll,"No records found"))]),t.pagination.last_page>1?(u(),y("div",il,[l(N,{modelValue:t.currentPage,"onUpdate:modelValue":[e[9]||(e[9]=p=>t.currentPage=p),n.loadProducts],length:t.pagination.last_page,"total-visible":7,density:"comfortable"},null,8,["modelValue","length","onUpdate:modelValue"])])):U("",!0)])]),_:1})]),_:1}),l(q,{modelValue:s.showDetailsDialog,"onUpdate:modelValue":e[10]||(e[10]=p=>s.showDetailsDialog=p),"product-details":s.productDetails,loading:s.loadingProductDetails,"specifications-list":s.detailsSpecificationsList,"features-list":s.detailsFeaturesList,"downloads-list":s.detailsDownloadsList,"faqs-list":s.detailsFaqsList,"warranty-info":s.detailsWarrantyInfo,onEdit:n.editProductFromDetails},null,8,["modelValue","product-details","loading","specifications-list","features-list","downloads-list","faqs-list","warranty-info","onEdit"]),l(M,{modelValue:s.showDialog,"onUpdate:modelValue":e[11]||(e[11]=p=>s.showDialog=p),"editing-product":s.editingProduct,loading:s.loadingProduct,saving:s.saving,form:s.form,"form-tab":s.formTab,"available-categories":s.availableCategories,"available-tags":s.availableTags,"loading-categories":s.loadingCategories,"specifications-list":s.specificationsList,"features-list":s.featuresList,"downloads-list":s.downloadsList,"faqs-list":s.faqsList,"warranty-info":s.warrantyInfo,"download-types":s.downloadTypes,"thumbnail-file":s.thumbnailFile,"gallery-files":s.galleryFiles,"thumbnail-preview":s.thumbnailPreview,"gallery-previews":s.galleryPreviews,"image-url-inputs":s.imageUrlInputs,"thumbnail-error":s.thumbnailError,"gallery-error":s.galleryError,"onUpdate:form":e[12]||(e[12]=p=>s.form=p),"onUpdate:formTab":e[13]||(e[13]=p=>s.formTab=p),"onUpdate:specificationsList":e[14]||(e[14]=p=>s.specificationsList=p),"onUpdate:featuresList":e[15]||(e[15]=p=>s.featuresList=p),"onUpdate:downloadsList":e[16]||(e[16]=p=>s.downloadsList=p),"onUpdate:faqsList":e[17]||(e[17]=p=>s.faqsList=p),"onUpdate:warrantyInfo":e[18]||(e[18]=p=>s.warrantyInfo=p),"onUpdate:thumbnailFile":e[19]||(e[19]=p=>s.thumbnailFile=p),"onUpdate:galleryFiles":e[20]||(e[20]=p=>s.galleryFiles=p),"onUpdate:thumbnailPreview":e[21]||(e[21]=p=>s.thumbnailPreview=p),"onUpdate:galleryPreviews":e[22]||(e[22]=p=>s.galleryPreviews=p),"onUpdate:imageUrlInputs":e[23]||(e[23]=p=>s.imageUrlInputs=p),"onUpdate:thumbnailError":e[24]||(e[24]=p=>s.thumbnailError=p),"onUpdate:galleryError":e[25]||(e[25]=p=>s.galleryError=p),onClose:n.closeDialog,onSave:n.saveProduct,onGenerateSlug:n.generateSlug,onAddImageUrl:n.addImageUrl,onRemoveImageUrl:n.removeImageUrl,onRemoveImage:n.removeImage,onPreviewThumbnail:n.previewThumbnail,onPreviewGalleryImages:n.previewGalleryImages,onRemoveGalleryPreview:n.removeGalleryPreview,onAddSpecification:n.addSpecification,onRemoveSpecification:n.removeSpecification,onAddFeature:n.addFeature,onRemoveFeature:n.removeFeature,onAddDownload:n.addDownload,onRemoveDownload:n.removeDownload,onHandleDownloadFileChange:n.handleDownloadFileChange,onClearDownloadFile:n.clearDownloadFile,onAddFaq:n.addFAQ,onRemoveFaq:n.removeFAQ,onAddCoverageItem:n.addCoverageItem,onRemoveCoverageItem:n.removeCoverageItem},null,8,["modelValue","editing-product","loading","saving","form","form-tab","available-categories","available-tags","loading-categories","specifications-list","features-list","downloads-list","faqs-list","warranty-info","download-types","thumbnail-file","gallery-files","thumbnail-preview","gallery-previews","image-url-inputs","thumbnail-error","gallery-error","onClose","onSave","onGenerateSlug","onAddImageUrl","onRemoveImageUrl","onRemoveImage","onPreviewThumbnail","onPreviewGalleryImages","onRemoveGalleryPreview","onAddSpecification","onRemoveSpecification","onAddFeature","onRemoveFeature","onAddDownload","onRemoveDownload","onHandleDownloadFileChange","onClearDownloadFile","onAddFaq","onRemoveFaq","onAddCoverageItem","onRemoveCoverageItem"])])}const ul=K(Mt,[["render",sl],["__scopeId","data-v-80b10131"]]);export{ul as default};
