import{_ as U,c,e as s,a as t,w as i,b as r,r as o,g as x,h as S,F as z,d as A,f as y,o as u,t as g}from"./app-D0CoK2OG.js";import{a as D}from"./adminPaginationMixin-DN7Wb3ng.js";const E={mixins:[D],data(){return{services:[],showDialog:!1,publishedFilter:null,publishedOptions:[{title:"Published",value:!0},{title:"Draft",value:!1}]}},async mounted(){await this.loadServices()},methods:{async loadServices(){try{this.loading=!0;const l=this.buildPaginationParams();this.search&&(l.search=this.search),this.publishedFilter!==null&&(l.published=this.publishedFilter);const e=await y.get("/api/v1/services",{params:l,headers:this.getAuthHeaders()});this.services=e.data.data||[],this.updatePagination(e.data)}catch(l){this.handleApiError(l,"Failed to load services")}finally{this.loading=!1}},editService(l){alert("Edit functionality coming soon")},async deleteService(l){if(confirm("Are you sure you want to delete this service?"))try{await y.delete(`/api/v1/services/${l}`,{headers:this.getAuthHeaders()}),this.showSuccess("Service deleted successfully"),await this.loadServices()}catch(e){this.handleApiError(e,"Error deleting service")}},onPerPageChange(){this.resetPagination(),this.loadServices()},onSort(l){this.handleSort(l),this.loadServices()}}},N={class:"page-header"},B={class:"d-flex align-center"},I={class:"d-flex align-center"},O={class:"d-flex align-center"},H={key:0};function M(l,e,T,L,d,a){const m=o("v-btn"),h=o("v-select"),p=o("v-col"),V=o("v-text-field"),P=o("v-row"),f=o("v-card-text"),b=o("v-card"),k=o("v-card-title"),v=o("v-icon"),_=o("v-chip"),C=o("v-table"),w=o("v-pagination");return u(),c("div",null,[s("div",N,[e[9]||(e[9]=s("h1",{class:"text-h4 page-title"},"Services Management",-1)),t(m,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=n=>d.showDialog=!0),class:"add-button"},{default:i(()=>e[8]||(e[8]=[r("Create Service")])),_:1,__:[8]})]),t(b,{class:"mb-4"},{default:i(()=>[t(f,null,{default:i(()=>[t(P,null,{default:i(()=>[t(p,{cols:"12",md:"4"},{default:i(()=>[t(h,{modelValue:l.perPage,"onUpdate:modelValue":[e[1]||(e[1]=n=>l.perPage=n),a.onPerPageChange],items:l.perPageOptions,label:"Items per page","prepend-inner-icon":"mdi-format-list-numbered",variant:"outlined",density:"compact"},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1}),t(p,{cols:"12",md:"4"},{default:i(()=>[t(h,{modelValue:d.publishedFilter,"onUpdate:modelValue":[e[2]||(e[2]=n=>d.publishedFilter=n),a.loadServices],items:d.publishedOptions,label:"Filter by Status","prepend-inner-icon":"mdi-filter",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1}),t(p,{cols:"12",md:"4"},{default:i(()=>[t(V,{modelValue:l.search,"onUpdate:modelValue":[e[3]||(e[3]=n=>l.search=n),a.loadServices],label:"Search services","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(b,null,{default:i(()=>[t(k,null,{default:i(()=>e[10]||(e[10]=[r("Services")])),_:1,__:[10]}),t(f,null,{default:i(()=>[t(C,null,{default:i(()=>[s("thead",null,[s("tr",null,[s("th",{class:"sortable",onClick:e[4]||(e[4]=n=>a.onSort("title"))},[s("div",B,[e[11]||(e[11]=r(" Title ")),t(v,{icon:l.getSortIcon("title"),size:"small",class:"ml-1"},null,8,["icon"])])]),s("th",{class:"sortable",onClick:e[5]||(e[5]=n=>a.onSort("slug"))},[s("div",I,[e[12]||(e[12]=r(" Slug ")),t(v,{icon:l.getSortIcon("slug"),size:"small",class:"ml-1"},null,8,["icon"])])]),s("th",{class:"sortable",onClick:e[6]||(e[6]=n=>a.onSort("published"))},[s("div",O,[e[13]||(e[13]=r(" Published ")),t(v,{icon:l.getSortIcon("published"),size:"small",class:"ml-1"},null,8,["icon"])])]),e[14]||(e[14]=s("th",null,"Actions",-1))])]),s("tbody",null,[(u(!0),c(z,null,A(d.services,n=>(u(),c("tr",{key:n.id},[s("td",null,g(n.title),1),s("td",null,[t(_,{size:"small",variant:"outlined"},{default:i(()=>[r(g(n.slug),1)]),_:2},1024)]),s("td",null,[t(_,{color:n.published?"success":"error",size:"small"},{default:i(()=>[r(g(n.published?"Published":"Draft"),1)]),_:2},1032,["color"])]),s("td",null,[t(m,{size:"small",icon:"mdi-pencil",onClick:F=>a.editService(n),variant:"text"},null,8,["onClick"]),t(m,{size:"small",icon:"mdi-delete",onClick:F=>a.deleteService(n.id),variant:"text",color:"error"},null,8,["onClick"])])]))),128)),d.services.length===0?(u(),c("tr",H,e[15]||(e[15]=[s("td",{colspan:"4",class:"text-center py-4"},"No services found",-1)]))):S("",!0)])]),_:1}),l.pagination.last_page>1?(u(),x(w,{key:0,modelValue:l.currentPage,"onUpdate:modelValue":[e[7]||(e[7]=n=>l.currentPage=n),a.loadServices],length:l.pagination.last_page,class:"mt-4"},null,8,["modelValue","length","onUpdate:modelValue"])):S("",!0)]),_:1})]),_:1})])}const G=U(E,[["render",M]]);export{G as default};
