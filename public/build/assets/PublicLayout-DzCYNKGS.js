import{_ as I,c as p,w as a,a as r,b as s,r as i,t as m,d as v,e as L,F as D,f as c,n as S,o as d,g as b,h as z,i as F,m as O,j as H,v as Y,k as R}from"./app-C4ZeL4M-.js";import{r as V}from"./uploads-CnEkgyD_.js";const q={name:"AppBar",props:{isScrolled:{type:Boolean,default:!1},siteName:{type:String,required:!0},siteTagline:{type:String,required:!0},menuItems:{type:Array,required:!0},logo:{type:String,default:null}},emits:["toggle-drawer"],methods:{isActiveRoute(t){const e=this.$route.path;return t==="/"?e==="/":e.startsWith(t)}}},j={class:"d-flex align-center w-100 position-relative z-index-2"},G={class:"logo-box mr-3 elevation-4"},P={class:"d-flex flex-column"},K={class:"text-h6 font-weight-black text-grey-darken-4 lh-1 tracking-tight logo-text"},Q={class:"text-caption font-weight-bold text-primary tracking-widest"},J={class:"d-none d-md-flex align-center gap-8"},X={class:"d-none d-md-flex"};function Z(t,e,l,u,o,n){const _=i("v-img"),g=i("router-link"),f=i("v-spacer"),h=i("v-btn"),w=i("v-app-bar-nav-icon"),k=i("v-app-bar");return d(),p(k,{app:"",class:S(["main-app-bar px-md-12 transition-all",{"scrolled-app-bar":l.isScrolled}]),height:"80",elevation:"0"},{default:a(()=>[r("div",j,[s(g,{to:"/",class:"text-decoration-none d-flex align-center mr-8 logo-group"},{default:a(()=>[r("div",G,[s(_,{src:l.logo||"/assets/logo/default.png",alt:"Logo",cover:"",class:"logo-image rounded-logo"},null,8,["src"])]),r("div",P,[r("span",K,m(l.siteName.toUpperCase()),1),r("span",Q,m(l.siteTagline),1)])]),_:1}),s(f),r("div",J,[(d(!0),v(D,null,L(l.menuItems,y=>(d(),p(g,{key:y.id,to:y.url,class:S(["nav-link","text-body-2","font-weight-bold","text-grey-darken-3",{"active-nav-link":n.isActiveRoute(y.url)}])},{default:a(()=>[c(m(y.label),1)]),_:2},1032,["to","class"]))),128))]),s(f),r("div",X,[s(h,{color:"primary",variant:"flat",rounded:"pill",class:"font-weight-bold px-6 text-capitalize elevation-3 hover-glow",to:{name:"Contact"}},{default:a(()=>e[1]||(e[1]=[c(" Get a Quote ")])),_:1,__:[1]})]),s(w,{class:"d-md-none ml-2",onClick:e[0]||(e[0]=y=>t.$emit("toggle-drawer"))})]),e[2]||(e[2]=r("div",{class:"app-bar-border"},null,-1))]),_:1,__:[2]},8,["class"])}const $=I(q,[["render",Z],["__scopeId","data-v-d8f1f29f"]]),ee={name:"MobileDrawer",props:{modelValue:{type:Boolean,default:!1},siteName:{type:String,required:!0},menuItems:{type:Array,required:!0},logo:{type:String,default:null}},emits:["update:modelValue"],computed:{localDrawer:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}},methods:{closeDrawer(){this.$emit("update:modelValue",!1)},isActiveRoute(t){const e=this.$route.path;return t==="/"?e==="/":e.startsWith(t)}}},te={class:"pa-6"},ne={class:"d-flex align-center mb-8"},se={key:0,class:"logo-box mr-3"},oe={key:1,class:"logo-box mr-3"},ie={class:"text-h6 font-weight-black text-grey-darken-4"},re={class:"mt-8"};function le(t,e,l,u,o,n){const _=i("v-img"),g=i("v-icon"),f=i("v-spacer"),h=i("v-btn"),w=i("v-list-item-title"),k=i("v-list-item"),y=i("v-list"),U=i("v-navigation-drawer");return d(),p(U,{modelValue:n.localDrawer,"onUpdate:modelValue":e[0]||(e[0]=x=>n.localDrawer=x),location:"right",temporary:"",class:"mobile-drawer"},{default:a(()=>[r("div",te,[r("div",ne,[l.logo?(d(),v("div",se,[s(_,{src:l.logo,alt:"Logo",cover:"",class:"logo-image rounded-logo"},null,8,["src"])])):(d(),v("div",oe,[s(g,{icon:"mdi-flash",color:"amber-accent-4",size:"24"})])),r("span",ie,m(l.siteName.toUpperCase()),1),s(f),s(h,{icon:"mdi-close",variant:"text",onClick:n.closeDrawer},null,8,["onClick"])]),s(y,{nav:"",class:"bg-transparent"},{default:a(()=>[(d(!0),v(D,null,L(l.menuItems,x=>(d(),p(k,{key:x.id,to:x.url,class:S(["mb-2 rounded-lg",{"bg-primary-lighten-5 text-primary":n.isActiveRoute(x.url)}])},{default:a(()=>[s(w,{class:"font-weight-bold"},{default:a(()=>[c(m(x.label),1)]),_:2},1024)]),_:2},1032,["to","class"]))),128))]),_:1}),r("div",re,[s(h,{block:"",color:"primary",size:"large",rounded:"lg",to:{name:"Contact"},class:"elevation-4"},{default:a(()=>e[1]||(e[1]=[c(" Get a Quote ")])),_:1,__:[1]})])])]),_:1},8,["modelValue"])}const ae=I(ee,[["render",le],["__scopeId","data-v-ebbd676a"]]),ce={name:"Footer",props:{siteName:{type:String,required:!0},footerDescription:{type:String,required:!0},menuItems:{type:Array,required:!0},settings:{type:Object,required:!0},logo:{type:String,default:null},newsletterDescription:{type:String,default:"Subscribe to get the latest power tips and updates."}},data(){return{newsletterEmail:"",newsletterLoading:!1,newsletterMessage:"",newsletterMessageType:"success",emailRules:[t=>!!t||"Email is required",t=>/.+@.+\..+/.test(t)||"Email must be valid"]}},methods:{hasSocialLink(t){return this.settings[`${t}_url`]&&this.settings[`${t}_url`].trim()!==""},async subscribeNewsletter(t){if(t&&t.preventDefault(),!this.newsletterEmail||!this.newsletterEmail.trim()){this.newsletterMessage="Email is required",this.newsletterMessageType="error";return}if(!/.+@.+\..+/.test(this.newsletterEmail)){this.newsletterMessage="Please enter a valid email address",this.newsletterMessageType="error";return}if(this.$refs.newsletterForm){const{valid:l}=await this.$refs.newsletterForm.validate();if(!l)return}this.newsletterLoading=!0,this.newsletterMessage="";try{const l=await this.$axios.post("/api/openapi/newsletter/subscribe",{email:this.newsletterEmail.trim()});this.newsletterMessage=l.data.message||"Thank you for subscribing!",this.newsletterMessageType="success",this.newsletterEmail="",this.$refs.newsletterForm&&this.$refs.newsletterForm.reset(),setTimeout(()=>{this.newsletterMessage=""},5e3)}catch(l){if(console.error("Error subscribing to newsletter:",l),l.response&&l.response.data)if(l.response.data.message)this.newsletterMessage=l.response.data.message;else if(l.response.data.errors){const u=l.response.data.errors,o=Object.values(u).flat();this.newsletterMessage=o.join(", ")||"Failed to subscribe. Please try again."}else this.newsletterMessage="Failed to subscribe. Please try again.";else this.newsletterMessage="An error occurred. Please try again later.";this.newsletterMessageType="error"}finally{this.newsletterLoading=!1}}}},de={class:"d-flex align-center mb-6"},ue={key:0,class:"logo-box-light mr-3 elevation-10"},me={key:1,class:"logo-box-light mr-3 elevation-10"},_e={class:"text-h5 font-weight-black text-white tracking-tight"},ge={class:"text-body-2 text-grey-lighten-1 mb-8 lh-relaxed opacity-80"},pe={class:"d-flex gap-4"},he={class:"list-unstyled"},fe={class:"list-unstyled"},be={class:"mb-3"},ve={class:"mb-3"},we={class:"mb-3"},ye={class:"mb-3"},xe={class:"text-body-2 text-grey-lighten-1 mb-6 opacity-80"},ke={class:"d-flex flex-column flex-md-row justify-space-between align-center text-caption text-grey-darken-1"},Ae={class:"mb-4 mb-md-0 d-flex flex-column flex-md-row align-center gap-2 gap-md-4"},Se={class:"powered-by-info"},Ue={class:"info-item mb-3"},Te={class:"info-label"},Ie={class:"info-item mb-3"},Me={class:"info-label"},Ee={class:"info-item mb-2"},Ce={class:"info-label"};function Le(t,e,l,u,o,n){const _=i("v-img"),g=i("v-icon"),f=i("v-btn"),h=i("v-col"),w=i("router-link"),k=i("v-text-field"),y=i("v-form"),U=i("v-alert"),x=i("v-row"),T=i("v-divider"),E=i("v-card-title"),C=i("v-card-text"),M=i("v-card"),B=i("v-menu"),W=i("v-container"),N=i("v-footer");return d(),p(N,{class:"bg-footer text-white pt-20 pb-10 position-relative overflow-hidden"},{default:a(()=>[e[23]||(e[23]=r("div",{class:"footer-pattern"},null,-1)),e[24]||(e[24]=r("div",{class:"footer-glow"},null,-1)),s(W,{class:"position-relative z-index-2"},{default:a(()=>[s(x,null,{default:a(()=>[s(h,{cols:"12",md:"4",class:"mb-10 mb-md-0 pr-md-12"},{default:a(()=>[r("div",de,[l.logo?(d(),v("div",ue,[s(_,{src:l.logo,alt:"Logo",cover:"",class:"footer-logo-image rounded-logo"},null,8,["src"])])):(d(),v("div",me,[s(g,{icon:"mdi-flash",color:"amber-accent-4",size:"24"})])),r("span",_e,m(l.siteName.toUpperCase()),1)]),r("p",ge,m(l.footerDescription),1),r("div",pe,[n.hasSocialLink("facebook")?(d(),p(f,{key:0,href:l.settings.facebook_url,target:"_blank",icon:"mdi-facebook",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):b("",!0),n.hasSocialLink("twitter")?(d(),p(f,{key:1,href:l.settings.twitter_url,target:"_blank",icon:"mdi-twitter",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):b("",!0),n.hasSocialLink("linkedin")?(d(),p(f,{key:2,href:l.settings.linkedin_url,target:"_blank",icon:"mdi-linkedin",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):b("",!0),n.hasSocialLink("instagram")?(d(),p(f,{key:3,href:l.settings.instagram_url,target:"_blank",icon:"mdi-instagram",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):b("",!0)])]),_:1}),s(h,{cols:"6",md:"2",class:"mb-8 mb-md-0"},{default:a(()=>[e[2]||(e[2]=r("h4",{class:"text-subtitle-1 font-weight-bold mb-6 text-white position-relative d-inline-block"},[c(" Quick Links "),r("div",{class:"heading-underline"})],-1)),r("ul",he,[(d(!0),v(D,null,L(l.menuItems,A=>(d(),v("li",{key:A.id,class:"mb-3"},[s(w,{to:A.url,class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>[c(m(A.label),1)]),_:2},1032,["to"])]))),128))])]),_:1,__:[2]}),s(h,{cols:"6",md:"3",class:"mb-8 mb-md-0"},{default:a(()=>[e[7]||(e[7]=r("h4",{class:"text-subtitle-1 font-weight-bold mb-6 text-white position-relative d-inline-block"},[c(" Our Services "),r("div",{class:"heading-underline"})],-1)),r("ul",fe,[r("li",be,[s(w,{to:"/services/ups-installation",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[3]||(e[3]=[c("UPS Installation")])),_:1,__:[3]})]),r("li",ve,[s(w,{to:"/services/battery-replacement",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[4]||(e[4]=[c("Battery Replacement")])),_:1,__:[4]})]),r("li",we,[s(w,{to:"/services/industrial-backup",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[5]||(e[5]=[c("Industrial Backup")])),_:1,__:[5]})]),r("li",ye,[s(w,{to:"/services/support",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[6]||(e[6]=[c("24/7 Support")])),_:1,__:[6]})])])]),_:1,__:[7]}),s(h,{cols:"12",md:"3"},{default:a(()=>[e[8]||(e[8]=r("h4",{class:"text-subtitle-1 font-weight-bold mb-6 text-white position-relative d-inline-block"},[c(" Newsletter "),r("div",{class:"heading-underline"})],-1)),r("p",xe,m(l.newsletterDescription),1),s(y,{ref:"newsletterForm",onSubmit:z(n.subscribeNewsletter,["prevent"])},{default:a(()=>[s(k,{modelValue:o.newsletterEmail,"onUpdate:modelValue":e[0]||(e[0]=A=>o.newsletterEmail=A),placeholder:"Enter your email",variant:"outlined",density:"comfortable","bg-color":"rgba(255,255,255,0.05)",color:"amber-accent-4",rules:o.emailRules,loading:o.newsletterLoading,disabled:o.newsletterLoading,class:"mb-3 footer-input rounded-lg","hide-details":"auto",onKeyup:F(n.subscribeNewsletter,["enter"])},{"append-inner":a(()=>[s(f,{icon:"mdi-send",size:"small",color:"amber-accent-4",variant:"text",class:"mr-n2",loading:o.newsletterLoading,disabled:o.newsletterLoading,onClick:n.subscribeNewsletter},null,8,["loading","disabled","onClick"])]),_:1},8,["modelValue","rules","loading","disabled","onKeyup"])]),_:1},8,["onSubmit"]),o.newsletterMessage?(d(),p(U,{key:0,type:o.newsletterMessageType,density:"compact",class:"mt-2 newsletter-alert",variant:"tonal",closable:!0,"onClick:close":e[1]||(e[1]=A=>o.newsletterMessage="")},{default:a(()=>[c(m(o.newsletterMessage),1)]),_:1},8,["type"])):b("",!0)]),_:1,__:[8]})]),_:1}),s(T,{class:"my-10 border-opacity-10"}),r("div",ke,[r("div",Ae,[r("div",null," Â© "+m(new Date().getFullYear())+" "+m(l.siteName)+". All rights reserved. ",1),s(B,{"open-on-hover":"",location:"top"},{activator:a(({props:A})=>[r("span",O({class:"powered-by-text-footer"},A,{style:{cursor:"pointer"}}),[e[10]||(e[10]=c(" Powered By MCT-IT ")),s(g,{size:"x-small",class:"ml-1"},{default:a(()=>e[9]||(e[9]=[c("mdi-information-outline")])),_:1,__:[9]})],16)]),default:a(()=>[s(M,{class:"powered-by-card","min-width":"280"},{default:a(()=>[s(E,{class:"text-h6 pb-2"},{default:a(()=>[s(g,{class:"mr-2"},{default:a(()=>e[11]||(e[11]=[c("mdi-code-tags")])),_:1,__:[11]}),e[12]||(e[12]=c(" Powered By MCT-IT "))]),_:1,__:[12]}),s(T),s(C,{class:"pt-3"},{default:a(()=>[r("div",Se,[r("div",Ue,[r("div",Te,[s(g,{size:"small",class:"mr-1"},{default:a(()=>e[13]||(e[13]=[c("mdi-account-circle")])),_:1,__:[13]}),e[14]||(e[14]=c(" Author & Credit "))]),e[15]||(e[15]=r("div",{class:"info-value"},"MCT-IT Development Team",-1))]),r("div",Ie,[r("div",Me,[s(g,{size:"small",class:"mr-1"},{default:a(()=>e[16]||(e[16]=[c("mdi-cog")])),_:1,__:[16]}),e[17]||(e[17]=c(" Managed By "))]),e[18]||(e[18]=r("div",{class:"info-value"},"MCT-IT Solutions",-1))]),r("div",Ee,[r("div",Ce,[s(g,{size:"small",class:"mr-1"},{default:a(()=>e[19]||(e[19]=[c("mdi-tag")])),_:1,__:[19]}),e[20]||(e[20]=c(" Version "))]),e[21]||(e[21]=r("div",{class:"info-value"},"v1.0",-1))])])]),_:1})]),_:1})]),_:1})]),e[22]||(e[22]=r("div",{class:"d-flex gap-6"},[r("a",{href:"#",class:"footer-link-sm"},"Privacy Policy"),r("a",{href:"#",class:"footer-link-sm"},"Terms of Service"),r("a",{href:"#",class:"footer-link-sm"},"Sitemap")],-1))])]),_:1})]),_:1,__:[23,24]})}const De=I(ce,[["render",Le],["__scopeId","data-v-76b65c4a"]]),Ve={name:"WhatsAppFloat",data(){return{whatsappUrl:"",settings:{whatsapp_number:"",contact_phone:""}}},async mounted(){await this.loadSettings(),this.updateWhatsAppUrl()},methods:{async loadSettings(){try{const e=(await this.$axios.get("/api/openapi/settings")).data;e.whatsapp_number!==void 0&&(this.settings.whatsapp_number=e.whatsapp_number),e.contact_phone!==void 0&&(this.settings.contact_phone=e.contact_phone)}catch(t){console.error("Error loading WhatsApp settings:",t)}},updateWhatsAppUrl(){const t=this.settings.whatsapp_number||this.settings.contact_phone||"";if(!t){this.whatsappUrl="";return}const e=t.replace(/[^\d+]/g,"");this.whatsappUrl=`https://wa.me/${e}`}},watch:{"settings.whatsapp_number"(){this.updateWhatsAppUrl()},"settings.contact_phone"(){this.updateWhatsAppUrl()}}},Be=["href"];function We(t,e,l,u,o,n){const _=i("v-icon");return o.whatsappUrl?(d(),v("a",{key:0,href:o.whatsappUrl,target:"_blank",class:"whatsapp-float elevation-6 d-flex align-center justify-center text-decoration-none"},[s(_,{icon:"mdi-whatsapp",color:"white",size:"32"})],8,Be)):b("",!0)}const Ne=I(Ve,[["render",We],["__scopeId","data-v-c6ab8af3"]]),ze={name:"GoToTopButton",data(){return{showButton:!1}},mounted(){window.addEventListener("scroll",this.handleScroll),this.handleScroll()},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){this.showButton=window.scrollY>300},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}};function Fe(t,e,l,u,o,n){const _=i("v-icon"),g=i("v-btn");return H((d(),p(g,{onClick:n.scrollToTop,class:S(["go-to-top-btn elevation-6",{show:o.showButton}]),color:"primary",size:"large"},{default:a(()=>[s(_,{icon:"mdi-chevron-up",size:"28"})]),_:1},8,["onClick","class"])),[[Y,o.showButton]])}const Oe=I(ze,[["render",Fe],["__scopeId","data-v-a599d343"]]),He={name:"AnnouncementsBanner",data(){return{announcements:[],currentAnnouncementIndex:0,dialogOpen:!1,dontShowAgain:!1,dismissedIds:[],loading:!1,windowWidth:typeof window<"u"?window.innerWidth:1200,windowHeight:typeof window<"u"?window.innerHeight:800}},computed:{isMobile(){return this.windowWidth<600},currentAnnouncement(){return this.announcements.length>0&&this.currentAnnouncementIndex<this.announcements.length?this.announcements[this.currentAnnouncementIndex]:null},resolvedImageUrl(){return!this.currentAnnouncement||!this.currentAnnouncement.image?"/assets/img/default.jpg":this.getImageUrl(this.currentAnnouncement.image)||"/assets/img/default.jpg"},resolvedVideoUrl(){if(!this.currentAnnouncement||!this.currentAnnouncement.video)return null;const t=this.getVideoUrl(this.currentAnnouncement.video);return this.isYouTubeUrl(t)?this.getYouTubeEmbedUrl(t)?t:null:t},youtubeEmbedUrl(){return!this.resolvedVideoUrl||!this.isYouTubeUrl(this.resolvedVideoUrl)?null:this.getYouTubeEmbedUrl(this.resolvedVideoUrl)},dialogMaxWidth(){return this.windowWidth<600?"95vw":this.windowWidth<960?"85vw":this.resolvedImageUrl||this.resolvedVideoUrl?"90vw":"80vw"},imageMaxHeight(){return Math.min(500,this.windowHeight*.5)}},async mounted(){await this.loadAnnouncements(),this.loadDismissedAnnouncements(),this.updateWindowSize(),window.addEventListener("resize",this.updateWindowSize),this.announcements.length>0&&setTimeout(()=>{this.dialogOpen=!0},500)},beforeUnmount(){typeof window<"u"&&window.removeEventListener("resize",this.updateWindowSize)},methods:{async loadAnnouncements(){try{this.loading=!0;const t=await this.$axios.get("/api/openapi/announcements",{params:{per_page:10}}),e=this.getDismissedIds(),l=Array.isArray(t.data)?t.data:t.data.data||[];this.announcements=l.filter(u=>!e.includes(u.id)).map(u=>((u.image===""||u.image===null)&&(u.image=null),(u.video===""||u.video===null)&&(u.video=null),u)).sort((u,o)=>(u.priority||100)-(o.priority||100))}catch(t){console.error("Error loading announcements:",t)}finally{this.loading=!1}},getDismissedIds(){const t=localStorage.getItem("dismissed_announcements");return t?JSON.parse(t):[]},loadDismissedAnnouncements(){this.dismissedIds=this.getDismissedIds()},isDismissed(t){return this.dismissedIds.includes(t)},closeDialog(){this.currentAnnouncement&&(this.dontShowAgain&&this.dismissAnnouncement(this.currentAnnouncement.id),this.dialogOpen=!1)},nextAnnouncement(){this.currentAnnouncement&&(this.dontShowAgain&&this.dismissAnnouncement(this.currentAnnouncement.id),this.currentAnnouncementIndex<this.announcements.length-1?(this.currentAnnouncementIndex++,this.dontShowAgain=!1):this.dialogOpen=!1)},dismissAnnouncement(t){this.dismissedIds.includes(t)||(this.dismissedIds.push(t),localStorage.setItem("dismissed_announcements",JSON.stringify(this.dismissedIds)))},getAlertColor(t){return{urgent_alerts:"error",offers_promotions:"success",events:"info",holidays:"warning",company_news:"primary"}[t]||"primary"},getAnnouncementIcon(t){return{urgent_alerts:"mdi-alert-circle",offers_promotions:"mdi-tag",events:"mdi-calendar-star",holidays:"mdi-party-popper",company_news:"mdi-bullhorn"}[t]||"mdi-information"},getAnnouncementTypeLabel(t){return{urgent_alerts:"Urgent Alert",offers_promotions:"Special Offer",events:"Event",holidays:"Holiday",company_news:"Company News"}[t]||t},getImageUrl(t){return!t||t===""||t===null?null:t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//")?t:V(t)},getVideoUrl(t){return!t||t===""||t===null?null:t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//")?t:V(t)},isYouTubeUrl(t){return t?/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)/i.test(t):!1},getYouTubeEmbedUrl(t){if(!t)return"";let e="";try{const l=t.match(/(?:youtu\.be\/)([^?&#]+)/);if(l)e=l[1];else{const u=t.match(/(?:youtube\.com\/(?:watch\?v=|embed\/|v\/))([^?&#]+)/);if(u)e=u[1];else try{const o=new URL(t);if(e=o.searchParams.get("v"),!e&&o.pathname){const n=o.pathname.split("/").filter(_=>_);n.length>0&&(e=n[n.length-1])}}catch{const n=t.match(/[?&]v=([^?&#]+)/);n&&(e=n[1])}}if(e&&(e=e.split("?")[0].split("&")[0].split("#")[0].trim()),e&&e.length>=11)return`https://www.youtube.com/embed/${e}`;if(t.includes("youtube.com/embed/"))return t}catch(l){console.error("Error processing YouTube URL:",l)}return""},handleImageError(t){t.target&&t.target.parentElement&&(t.target.parentElement.style.display="none")},updateWindowSize(){typeof window<"u"&&(this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight)}}},Ye={class:"text-white font-weight-bold announcement-title-text"},Re={key:0,class:"mb-4 announcement-media"},qe={key:1,class:"mb-4 announcement-media"},je={key:0,class:"youtube-embed-wrapper"},Ge=["src"],Pe=["src"],Ke=["src"],Qe={key:2,class:"text-body-1 mb-4 announcement-description"},Je=["innerHTML"];function Xe(t,e,l,u,o,n){const _=i("v-icon"),g=i("v-spacer"),f=i("v-chip"),h=i("v-btn"),w=i("v-card-title"),k=i("v-img"),y=i("v-card-text"),U=i("v-divider"),x=i("v-checkbox"),T=i("v-card-actions"),E=i("v-card"),C=i("v-dialog");return d(),p(C,{modelValue:o.dialogOpen,"onUpdate:modelValue":e[1]||(e[1]=M=>o.dialogOpen=M),"max-width":n.dialogMaxWidth,persistent:"",scrollable:"",class:S(["announcement-dialog",{"announcement-dialog--fullscreen":n.isMobile}]),fullscreen:n.isMobile},{default:a(()=>[n.currentAnnouncement?(d(),p(E,{key:0,class:S(["announcement-dialog-card",{"announcement-dialog-card--mobile":n.isMobile}])},{default:a(()=>[s(w,{class:S(["d-flex align-center pa-4 announcement-title",`bg-${n.getAlertColor(n.currentAnnouncement.type)}`])},{default:a(()=>[s(_,{class:"mr-2",color:"white"},{default:a(()=>[c(m(n.getAnnouncementIcon(n.currentAnnouncement.type)),1)]),_:1}),r("span",Ye,m(n.currentAnnouncement.title),1),s(g),o.announcements.length>1?(d(),p(f,{key:0,size:"small",variant:"flat",color:"white",class:"mr-2"},{default:a(()=>[c(m(o.currentAnnouncementIndex+1)+" / "+m(o.announcements.length),1)]),_:1})):b("",!0),s(h,{icon:"mdi-close",variant:"text",color:"white",size:"small",onClick:n.closeDialog},null,8,["onClick"])]),_:1},8,["class"]),s(y,{class:"pa-4 pa-md-6 announcement-content"},{default:a(()=>[n.resolvedImageUrl?(d(),v("div",Re,[s(k,{src:n.resolvedImageUrl,alt:n.currentAnnouncement.title,"max-height":n.imageMaxHeight,contain:"",class:"rounded-lg announcement-image",onError:n.handleImageError},null,8,["src","alt","max-height","onError"])])):b("",!0),n.resolvedVideoUrl?(d(),v("div",qe,[n.isYouTubeUrl(n.resolvedVideoUrl)&&n.youtubeEmbedUrl?(d(),v("div",je,[r("iframe",{src:n.youtubeEmbedUrl,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"",class:"youtube-iframe rounded-lg"},null,8,Ge)])):n.isYouTubeUrl(n.resolvedVideoUrl)?b("",!0):(d(),v("video",{key:1,controls:"",class:"w-100 rounded-lg announcement-video",style:R({maxHeight:n.imageMaxHeight+"px"})},[r("source",{src:n.resolvedVideoUrl,type:"video/mp4"},null,8,Pe),r("source",{src:n.resolvedVideoUrl,type:"video/webm"},null,8,Ke),e[2]||(e[2]=c(" Your browser does not support the video tag. "))],4))])):b("",!0),n.currentAnnouncement.short_description?(d(),v("div",Qe,m(n.currentAnnouncement.short_description),1)):b("",!0),n.currentAnnouncement.content?(d(),v("div",{key:3,class:"text-body-2 mb-4 announcement-content-html",innerHTML:n.currentAnnouncement.content},null,8,Je)):b("",!0),s(f,{size:"small",color:n.getAlertColor(n.currentAnnouncement.type),class:"mb-2"},{default:a(()=>[c(m(n.getAnnouncementTypeLabel(n.currentAnnouncement.type)),1)]),_:1},8,["color"])]),_:1}),s(U),s(T,{class:S(["pa-4 announcement-actions",{"announcement-actions--stacked":n.isMobile}])},{default:a(()=>[s(x,{modelValue:o.dontShowAgain,"onUpdate:modelValue":e[0]||(e[0]=M=>o.dontShowAgain=M),label:"Don't show again",density:"compact","hide-details":"",class:"mr-auto announcement-checkbox"},null,8,["modelValue"]),o.announcements.length>1&&o.currentAnnouncementIndex<o.announcements.length-1?(d(),p(h,{key:0,variant:"text",class:"announcement-action-btn",onClick:n.nextAnnouncement},{default:a(()=>[e[4]||(e[4]=c(" Next ")),s(_,{right:""},{default:a(()=>e[3]||(e[3]=[c("mdi-arrow-right")])),_:1,__:[3]})]),_:1,__:[4]},8,["onClick"])):b("",!0),s(h,{variant:"text",class:"announcement-action-btn",onClick:n.closeDialog},{default:a(()=>[c(m(o.announcements.length>1&&o.currentAnnouncementIndex<o.announcements.length-1?"Skip All":"Close"),1)]),_:1},8,["onClick"]),n.currentAnnouncement.external_link?(d(),p(h,{key:1,href:n.currentAnnouncement.external_link,target:n.currentAnnouncement.open_in_new_tab?"_blank":"_self",color:"primary",variant:"flat",class:"announcement-action-btn",onClick:n.closeDialog},{default:a(()=>[e[6]||(e[6]=c(" Learn More ")),s(_,{right:""},{default:a(()=>e[5]||(e[5]=[c("mdi-arrow-right")])),_:1,__:[5]})]),_:1,__:[6]},8,["href","target","onClick"])):b("",!0)]),_:1},8,["class"])]),_:1},8,["class"])):b("",!0)]),_:1},8,["modelValue","max-width","class","fullscreen"])}const Ze=I(He,[["render",Xe],["__scopeId","data-v-f7650892"]]),$e={name:"PublicLayout",components:{AppBar:$,MobileDrawer:ae,Footer:De,WhatsAppFloat:Ne,GoToTopButton:Oe,AnnouncementsBanner:Ze},data(){return{drawer:!1,isScrolled:!1,siteName:"Micro Control Technology",siteTagline:"TECHNOLOGY",footerDescription:"Leading provider of technical power support solutions. We ensure your business stays powered with reliable UPS systems, backup generators, and professional maintenance.",newsletterDescription:"Subscribe to get the latest power tips and updates.",brandingLogo:null,settings:{site_name:"",site_tagline:"",contact_email:"",contact_phone:"",address:"",facebook_url:"",twitter_url:"",linkedin_url:"",instagram_url:"",whatsapp_number:""},menuItems:[{id:1,label:"Home",url:"/"},{id:2,label:"Services",url:"/services"},{id:3,label:"Products",url:"/products"},{id:4,label:"Blog",url:"/blog"},{id:5,label:"Careers",url:"/careers"},{id:6,label:"About Us",url:"/about"},{id:7,label:"Contact",url:"/contact"}]}},async mounted(){await this.loadSettings(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{async loadSettings(){try{const e=(await this.$axios.get("/api/openapi/settings")).data;Object.keys(this.settings).forEach(l=>{e[l]!==void 0&&e[l]!==null&&(this.settings[l]=e[l])}),e.site_name&&(this.siteName=e.site_name),e.site_tagline&&(this.siteTagline=e.site_tagline),e.footer_description?this.footerDescription=e.footer_description:e.about_description&&(this.footerDescription=e.about_description),e.newsletter_description&&(this.newsletterDescription=e.newsletter_description)}catch(t){console.error("Error loading settings:",t)}await this.loadBrandingSettings()},async loadBrandingSettings(){try{const t=await this.$axios.get("/api/openapi/settings?group=branding");t.data&&t.data.logo&&(this.brandingLogo=t.data.logo)}catch(t){console.error("Error loading branding settings:",t)}},handleScroll(){this.isScrolled=window.scrollY>20}}};function et(t,e,l,u,o,n){const _=i("AppBar"),g=i("MobileDrawer"),f=i("AnnouncementsBanner"),h=i("router-view"),w=i("v-main"),k=i("Footer"),y=i("WhatsAppFloat"),U=i("GoToTopButton"),x=i("v-app");return d(),p(x,null,{default:a(()=>[s(_,{"is-scrolled":o.isScrolled,"site-name":o.siteName,"site-tagline":o.siteTagline,"menu-items":o.menuItems,logo:o.brandingLogo,onToggleDrawer:e[0]||(e[0]=T=>o.drawer=!o.drawer)},null,8,["is-scrolled","site-name","site-tagline","menu-items","logo"]),s(g,{modelValue:o.drawer,"onUpdate:modelValue":e[1]||(e[1]=T=>o.drawer=T),"site-name":o.siteName,"menu-items":o.menuItems,logo:o.brandingLogo},null,8,["modelValue","site-name","menu-items","logo"]),s(w,{class:"bg-grey-lighten-5"},{default:a(()=>[s(f),s(h)]),_:1}),s(k,{"site-name":o.siteName,"footer-description":o.footerDescription,"menu-items":o.menuItems,settings:o.settings,logo:o.brandingLogo,"newsletter-description":o.newsletterDescription},null,8,["site-name","footer-description","menu-items","settings","logo","newsletter-description"]),s(y),s(U)]),_:1})}const st=I($e,[["render",et],["__scopeId","data-v-7fbd4fbe"]]);export{st as default};
