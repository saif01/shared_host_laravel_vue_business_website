import{_ as W,d as p,a as s,b as a,l as M,w as i,r as m,t as f,F as C,e as k,i as U,f as y,g as P,o as h,c as j,A as F,n as $}from"./app-De8cIRNB.js";const q={name:"ContactPage",data(){return{valid:!1,loading:!1,showSuccess:!1,showError:!1,errorMessage:"",defaultTitle:"Let's Start a Conversation",defaultSubtitle:"We're here to help and answer any questions you might have",contactInfo:{contact_email:"",contact_phone:"",contact_phone_secondary:"",contact_address:"",contact_hero_title:"",contact_hero_subtitle:"",contact_map_url:""},form:{name:"",email:"",phone:"",subject:"",message:""}}},computed:{formattedPhone(){const l=this.normalizePhoneNumber(this.contactInfo.contact_phone||"+8801707080401");return this.formatPhoneNumber(l)},phoneHref(){return`tel:${this.normalizePhoneNumber(this.contactInfo.contact_phone||"+8801707080401").replace(/[^\d+]/g,"")}`},mapUrl(){if(!this.contactInfo.contact_map_url)return"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3022.1422937950147!2d-73.98731968482413!3d40.75889497932681!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c25855c6480299%3A0x55194ec5a1ae072e!2sTimes%20Square!5e0!3m2!1sen!2sus!4v1622646639943!5m2!1sen!2sus";if(this.contactInfo.contact_map_url.includes("<iframe")){const l=this.contactInfo.contact_map_url.match(/src=["']([^"']+)["']/);if(l&&l[1])return l[1]}return this.contactInfo.contact_map_url},contactCards(){const l=this.normalizePhoneNumber(this.contactInfo.contact_phone||"+8801707080401"),e=this.formatPhoneNumber(l),n=l.replace(/[^\d+]/g,""),o=[{value:e,href:`tel:${n}`}];if(this.contactInfo.contact_phone_secondary&&this.contactInfo.contact_phone_secondary.trim()!==""){const c=this.normalizePhoneNumber(this.contactInfo.contact_phone_secondary),d=this.formatPhoneNumber(c),g=c.replace(/[^\d+]/g,"");o.push({value:d,href:`tel:${g}`})}return[{icon:"mdi-phone-in-talk",iconClass:"icon-blue",title:"Call Us",subtitle:"Available 24/7 for support",value:this.formattedPhone,href:this.phoneHref,phones:o},{icon:"mdi-email-outline",iconClass:"icon-amber",title:"Email Us",subtitle:"We'll respond within 24 hours",value:this.contactInfo.contact_email||"info@microcontrol.com",href:`mailto:${this.contactInfo.contact_email}`},{icon:"mdi-map-marker-radius",iconClass:"icon-green",title:"Visit Us",subtitle:"Our Corporate Office",value:this.contactInfo.contact_address||"123 Power Lane, Tech City",href:"#map"}]}},mounted(){this.loadContactInfo()},methods:{normalizePhoneNumber(l){if(!l)return"+8801707080401";let e=l.replace(/[^\d+]/g,"");return e.length===11&&e.startsWith("01")?"+880"+e.substring(1):e.length===13&&e.startsWith("8801")?"+"+e:e.startsWith("+")?e:e.startsWith("880")?"+"+e:e},validateBangladeshPhone(l){if(!l)return!1;const e=l.replace(/[\s\-\(\)]/g,""),n=/^01[3-9]\d{8}$/,o=/^\+8801[3-9]\d{8}$/;return n.test(e)||o.test(e)},formatPhoneNumber(l){if(!l)return"+880 17 070-80401";let e=l.replace(/[^\d+]/g,"");if(e.startsWith("+")){if(e.startsWith("+1")&&e.length===12){const n=e.substring(2,5),o=e.substring(5,8),t=e.substring(8,12);return`+1 (${n}) ${o}-${t}`}if(e.startsWith("+880")&&e.length===14){const n=e.substring(4,6),o=e.substring(6,9),t=e.substring(9,14);return`+880 ${n} ${o}-${t}`}if(e.startsWith("+880")&&e.length===13){const n=e.substring(4,5),o=e.substring(5,8),t=e.substring(8,13);return`+880 ${n} ${o}-${t}`}if(e.length>=13&&e.startsWith("+880")){const n=e.substring(4,7),o=e.substring(7,10),t=e.substring(10);return`+880 ${n} ${o}-${t}`}if(e.length>=11){let n="",o="";if(e.startsWith("+880")?(n="+880",o=e.substring(4)):e.startsWith("+44")?(n="+44",o=e.substring(3)):e.startsWith("+91")?(n="+91",o=e.substring(3)):e.startsWith("+86")?(n="+86",o=e.substring(3)):e.startsWith("+1")?(n="+1",o=e.substring(2)):(n=e.substring(0,3),o=e.substring(3)),o.length===10){const t=o.substring(0,3),c=o.substring(3,6),d=o.substring(6,10);return`${n} (${t}) ${c}-${d}`}else if(o.length===9){const t=o.substring(0,3),c=o.substring(3,6),d=o.substring(6,9);return`${n} ${t}-${c}-${d}`}else if(o.length===11){const t=o.substring(0,1),c=o.substring(1,4),d=o.substring(4,7),g=o.substring(7,11);return`${n} ${t} ${c}-${d}-${g}`}else{let t=n+" ";for(let c=0;c<o.length;c+=3)c>0&&(t+="-"),t+=o.substring(c,Math.min(c+3,o.length));return t}}return l}if(e.length===10){const n=e.substring(0,3),o=e.substring(3,6),t=e.substring(6,10);return`(${n}) ${o}-${t}`}if(e.length===11&&e.startsWith("1")){const n=e.substring(1,4),o=e.substring(4,7),t=e.substring(7,11);return`+1 (${n}) ${o}-${t}`}return l},async loadContactInfo(){try{const l=await P.get("/api/openapi/settings",{params:{group:"contact_page"}});if(l.data){const e={...l.data};if(Object.keys(e).forEach(n=>{(e[n]===null||e[n]===void 0)&&(e[n]="")}),e.contact_map_url&&e.contact_map_url.includes("<iframe")){const n=e.contact_map_url.match(/src=["']([^"']+)["']/);n&&n[1]&&(e.contact_map_url=n[1])}this.contactInfo={...this.contactInfo,...e},console.log("Contact page settings loaded:",{hero_title:this.contactInfo.contact_hero_title,hero_subtitle:this.contactInfo.contact_hero_subtitle,email:this.contactInfo.contact_email,phone:this.contactInfo.contact_phone,phone_secondary:this.contactInfo.contact_phone_secondary,address:this.contactInfo.contact_address,map_url:this.contactInfo.contact_map_url?"Loaded":"Not set"})}}catch(l){console.error("Error loading contact info:",l)}},async submitForm(){const{valid:l}=await this.$refs.form.validate();if(l){this.loading=!0;try{const e=await P.post("/api/openapi/contact",{name:this.form.name,email:this.form.email,phone:this.form.phone,subject:this.form.subject,message:this.form.message,type:"contact"});this.form={name:"",email:"",phone:"",subject:"",message:""},this.valid=!1,this.$refs.form&&(this.$refs.form.resetValidation(),this.$refs.form.reset()),this.showSuccess=!0}catch(e){if(console.error("Error submitting form:",e),e.response&&e.response.data)this.errorMessage=e.response.data.message||"Failed to send message. Please try again.";else if(e.response&&e.response.data&&e.response.data.errors){const n=e.response.data.errors,o=Object.values(n).flat();this.errorMessage=o.join(", ")||"Please check your form and try again."}else this.errorMessage="An error occurred. Please try again later.";this.showError=!0}finally{this.loading=!1}}}}},A={class:"contact-page"},B={class:"mb-10 page-hero position-relative d-flex align-center justify-center text-center overflow-hidden"},T={class:"glass-pill d-inline-flex align-center px-5 py-3 rounded-pill mb-8 animate-float"},H={class:"text-h4 text-lg-h2 font-weight-black text-white mb-6 lh-tight text-shadow-sm animate-slide-up"},O={class:"text-h6 text-white opacity-90 mw-700 mx-auto font-weight-light animate-slide-up-delay"},L={class:"py-12 mt-n16 position-relative z-index-3"},Y={class:"position-relative"},D={class:"text-h5 font-weight-bold mb-3 text-grey-darken-4"},G={class:"text-body-2 text-medium-emphasis mb-5"},J={key:0,class:"d-flex flex-column align-center"},K=["href"],Q=["href"],R={class:"py-20 bg-gradient-light position-relative overflow-hidden"},X={class:"pr-md-8"},Z=["src"],ee={class:"d-flex align-center"},te={class:"d-flex align-center"},se={class:"text-caption"};function oe(l,e,n,o,t,c){const d=m("v-icon"),g=m("v-fade-transition"),_=m("v-container"),w=m("v-card"),u=m("v-col"),v=m("v-row"),b=m("v-text-field"),N=m("v-textarea"),S=m("v-btn"),z=m("v-form"),V=m("v-snackbar");return h(),p("div",A,[s("section",B,[e[10]||(e[10]=M('<div class="hero-bg-gradient" data-v-be64b05e></div><div class="hero-pattern" data-v-be64b05e></div><div class="gradient-orb orb-1" data-v-be64b05e></div><div class="gradient-orb orb-2" data-v-be64b05e></div><div class="gradient-orb orb-3" data-v-be64b05e></div>',5)),a(_,{class:"position-relative z-index-2"},{default:i(()=>[a(g,{appear:""},{default:i(()=>[s("div",null,[s("div",T,[e[8]||(e[8]=s("div",{class:"pulse-dot mr-2"},null,-1)),a(d,{icon:"mdi-message-text-outline",color:"amber-accent-4",size:"small",class:"mr-2"}),e[9]||(e[9]=s("span",{class:"text-subtitle-2 font-weight-bold tracking-wide text-white"},"GET IN TOUCH",-1))]),s("h1",H,f(t.contactInfo.contact_hero_title||t.defaultTitle),1),s("p",O,f(t.contactInfo.contact_hero_subtitle||t.defaultSubtitle),1)])]),_:1})]),_:1})]),s("section",L,[a(_,null,{default:i(()=>[a(v,null,{default:i(()=>[(h(!0),p(C,null,k(c.contactCards,(r,x)=>(h(),j(u,{cols:"12",md:"4",key:x},{default:i(()=>[a(w,{class:"contact-card-modern h-100 text-center pa-8 rounded-xl elevation-8 overflow-hidden",style:F({animationDelay:`${x*.1}s`})},{default:i(()=>[s("div",{class:$(["card-gradient",`gradient-${x+1}`])},null,2),s("div",Y,[s("div",{class:$(["icon-box-modern mb-6 mx-auto",r.iconClass])},[e[11]||(e[11]=s("div",{class:"icon-bg"},null,-1)),a(d,{icon:r.icon,size:"36",class:"icon-main"},null,8,["icon"])],2),s("h3",D,f(r.title),1),s("p",G,f(r.subtitle),1),r.phones&&r.phones.length>0?(h(),p("div",J,[(h(!0),p(C,null,k(r.phones,(I,E)=>(h(),p("a",{key:E,href:I.href,class:"contact-link text-h6 font-weight-bold text-decoration-none d-inline-flex align-center mb-2"},[s("span",null,f(I.value),1),a(d,{icon:"mdi-arrow-right",size:"20",class:"ml-2 arrow-icon"})],8,K))),128))])):(h(),p("a",{key:1,href:r.href,class:"contact-link text-h6 font-weight-bold text-decoration-none d-inline-flex align-center"},[s("span",null,f(r.value),1),a(d,{icon:"mdi-arrow-right",size:"20",class:"ml-2 arrow-icon"})],8,Q))])]),_:2},1032,["style"])]),_:2},1024))),128))]),_:1})]),_:1})]),s("section",R,[e[20]||(e[20]=s("div",{class:"bg-pattern-dots"},null,-1)),e[21]||(e[21]=s("div",{class:"decorative-circle circle-1"},null,-1)),e[22]||(e[22]=s("div",{class:"decorative-circle circle-2"},null,-1)),a(_,{class:"position-relative z-index-2"},{default:i(()=>[a(v,{align:"stretch"},{default:i(()=>[a(u,{cols:"12",md:"6",class:"mb-8 mb-md-0"},{default:i(()=>[s("div",X,[e[16]||(e[16]=s("div",{class:"d-inline-flex align-center mb-4"},[s("div",{class:"badge-accent"}),s("span",{class:"text-overline text-primary font-weight-bold tracking-widest ml-3"},"SEND A MESSAGE")],-1)),e[17]||(e[17]=s("h2",{class:"text-h3 font-weight-black mb-4 text-grey-darken-4"},"How Can We Help?",-1)),e[18]||(e[18]=s("p",{class:"text-body-1 text-grey-darken-1 mb-8 lh-relaxed"}," Fill out the form below and our team will get back to you within 24 hours. ",-1)),a(z,{ref:"form",modelValue:t.valid,"onUpdate:modelValue":e[5]||(e[5]=r=>t.valid=r),onSubmit:U(c.submitForm,["prevent"])},{default:i(()=>[a(v,null,{default:i(()=>[a(u,{cols:"12",md:"6"},{default:i(()=>[a(b,{modelValue:t.form.name,"onUpdate:modelValue":e[0]||(e[0]=r=>t.form.name=r),label:"Your Name",variant:"outlined",color:"primary","bg-color":"white",density:"comfortable",class:"form-field-modern","prepend-inner-icon":"mdi-account-outline",required:"",placeholder:"Enter your full name",rules:[r=>!!r||"Name is required"]},{label:i(()=>e[12]||(e[12]=[s("span",null,[y("Your Name "),s("span",{class:"text-red"},"*")],-1)])),_:1},8,["modelValue","rules"])]),_:1}),a(u,{cols:"12",md:"6"},{default:i(()=>[a(b,{modelValue:t.form.phone,"onUpdate:modelValue":e[1]||(e[1]=r=>t.form.phone=r),label:"Contact Number",variant:"outlined",color:"primary","bg-color":"white",density:"comfortable",class:"form-field-modern","prepend-inner-icon":"mdi-phone-outline",required:"",placeholder:"01707080401 or +8801707080401",rules:[r=>!!r||"Contact number is required",r=>this.validateBangladeshPhone(r)||"Please enter a valid Bangladesh phone number (e.g., 01707080401 or +8801707080401)"]},{label:i(()=>e[13]||(e[13]=[s("span",null,[y("Contact Number "),s("span",{class:"text-red"},"*")],-1)])),_:1},8,["modelValue","rules"])]),_:1}),a(u,{cols:"12",md:"6"},{default:i(()=>[a(b,{modelValue:t.form.subject,"onUpdate:modelValue":e[2]||(e[2]=r=>t.form.subject=r),label:"Subject",variant:"outlined",color:"primary","bg-color":"white",density:"comfortable",class:"form-field-modern","prepend-inner-icon":"mdi-text-box-outline",placeholder:"Enter message subject"},null,8,["modelValue"])]),_:1}),a(u,{cols:"12",md:"6"},{default:i(()=>[a(b,{modelValue:t.form.email,"onUpdate:modelValue":e[3]||(e[3]=r=>t.form.email=r),label:"Email Address",variant:"outlined",color:"primary","bg-color":"white",density:"comfortable",class:"form-field-modern","prepend-inner-icon":"mdi-email-outline",placeholder:"your.email@example.com",rules:[r=>!r||/.+@.+\..+/.test(r)||"E-mail must be valid"]},null,8,["modelValue","rules"])]),_:1}),a(u,{cols:"12"},{default:i(()=>[a(N,{modelValue:t.form.message,"onUpdate:modelValue":e[4]||(e[4]=r=>t.form.message=r),label:"Your Message",variant:"outlined",color:"primary","bg-color":"white",rows:"5",class:"form-field-modern","prepend-inner-icon":"mdi-message-outline",required:"",placeholder:"Enter your message here...",rules:[r=>!!r||"Message is required"]},{label:i(()=>e[14]||(e[14]=[s("span",null,[y("Your Message "),s("span",{class:"text-red"},"*")],-1)])),_:1},8,["modelValue","rules"])]),_:1})]),_:1}),a(S,{type:"submit",size:"x-large",color:"primary",rounded:"pill",class:"mt-4 px-10 py-6 font-weight-bold text-h6 btn-modern elevation-8 d-flex align-center justify-center",loading:t.loading},{default:i(()=>[e[15]||(e[15]=s("span",null,"Send Message",-1)),a(d,{end:"",icon:"mdi-send",size:"24",class:"ml-2"})]),_:1,__:[15]},8,["loading"])]),_:1},8,["modelValue","onSubmit"])])]),_:1}),a(u,{cols:"12",md:"6"},{default:i(()=>[a(w,{class:"map-card-modern h-100 rounded-xl overflow-hidden elevation-12 position-relative"},{default:i(()=>[e[19]||(e[19]=s("div",{class:"map-overlay"},null,-1)),s("iframe",{src:c.mapUrl,width:"100%",height:"100%",style:{border:"0","min-height":"500px"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"},null,8,Z)]),_:1,__:[19]})]),_:1})]),_:1})]),_:1})]),a(V,{modelValue:t.showSuccess,"onUpdate:modelValue":e[6]||(e[6]=r=>t.showSuccess=r),timeout:4e3,color:"success",location:"top",class:"success-snackbar"},{default:i(()=>[s("div",ee,[a(d,{icon:"mdi-check-circle",class:"mr-3",size:"24"}),e[23]||(e[23]=s("div",null,[s("div",{class:"font-weight-bold"},"Message Sent Successfully!"),s("div",{class:"text-caption"},"We'll get back to you within 24 hours.")],-1))])]),_:1},8,["modelValue"]),a(V,{modelValue:t.showError,"onUpdate:modelValue":e[7]||(e[7]=r=>t.showError=r),timeout:5e3,color:"error",location:"top",class:"error-snackbar"},{default:i(()=>[s("div",te,[a(d,{icon:"mdi-alert-circle",class:"mr-3",size:"24"}),s("div",null,[e[24]||(e[24]=s("div",{class:"font-weight-bold"},"Error Sending Message",-1)),s("div",se,f(t.errorMessage),1)])])]),_:1},8,["modelValue"])])}const re=W(q,[["render",oe],["__scopeId","data-v-be64b05e"]]);export{re as default};
