import{_ as H,g as F,c as V,w as i,b as t,r as a,a as o,t as p,d as f,f as m,o as u,h as T,F as L,e as q}from"./app-DfM5fqPs.js";import{a as R}from"./adminPaginationMixin-DN7Wb3ng.js";import{R as M}from"./RichTextEditor-r9pWENS5.js";const N={name:"CareerFormDialog",components:{RichTextEditor:M},mixins:[R],props:{modelValue:{type:Boolean,default:!1},editingCareer:{type:Object,default:null}},emits:["update:modelValue","saved"],data(){return{activeTab:"basic",loading:!1,saving:!1,employmentTypes:[{title:"Full-time",value:"full-time"},{title:"Part-time",value:"part-time"},{title:"Contract",value:"contract"},{title:"Internship",value:"internship"},{title:"Freelance",value:"freelance"}],form:{title:"",slug:"",department:"",location:"",employment_type:"",description:"",responsibilities:"",requirements:"",benefits:"",deadline:"",published:!1,order:0}}},computed:{dialog:{get(){return this.modelValue},set(s){this.$emit("update:modelValue",s)}}},watch:{modelValue(s){s&&(this.activeTab="basic",this.editingCareer?this.loadCareerForEdit():this.resetForm())},editingCareer:{handler(s){s&&this.dialog?this.loadCareerForEdit():!s&&this.dialog&&this.resetForm()},immediate:!1}},methods:{resetForm(){this.form={title:"",slug:"",department:"",location:"",employment_type:"",description:"",responsibilities:"",requirements:"",benefits:"",deadline:"",published:!1,order:0},this.$refs.formRef&&this.$refs.formRef.resetValidation()},async loadCareerForEdit(){if(this.editingCareer){this.loading=!0;try{const e=(await F.get(`/api/v1/careers/${this.editingCareer.id}`,{headers:this.getAuthHeaders()})).data;this.form={title:e.title||"",slug:e.slug||"",department:e.department||"",location:e.location||"",employment_type:e.employment_type||"",description:e.description||"",responsibilities:e.responsibilities||"",requirements:e.requirements||"",benefits:e.benefits||"",deadline:e.deadline||"",published:e.published||!1,order:e.order||0}}catch(s){this.handleApiError(s,"Failed to load career data"),this.closeDialog()}finally{this.loading=!1}}},closeDialog(){!this.saving&&!this.loading&&(this.dialog=!1,this.resetForm())},generateSlug(){this.form.title&&!this.editingCareer&&(this.form.slug=this.form.title.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""))},async saveCareer(){const{valid:s}=await this.$refs.formRef.validate();if(!s){this.showError("Please fill in all required fields");return}this.saving=!0;try{const e={title:this.form.title,slug:this.form.slug||null,department:this.form.department||null,location:this.form.location||null,employment_type:this.form.employment_type||null,description:this.form.description||null,responsibilities:this.form.responsibilities||null,requirements:this.form.requirements||null,benefits:this.form.benefits||null,deadline:this.form.deadline||null,published:this.form.published||!1,order:this.form.order||0};this.editingCareer?(await F.put(`/api/v1/careers/${this.editingCareer.id}`,e,{headers:this.getAuthHeaders()}),this.showSuccess("Career updated successfully")):(await F.post("/api/v1/careers",e,{headers:this.getAuthHeaders()}),this.showSuccess("Career created successfully")),this.$emit("saved"),this.closeDialog()}catch(e){this.handleApiError(e,this.editingCareer?"Failed to update career":"Failed to create career")}finally{this.saving=!1}}}},O={class:"text-h5 font-weight-bold"},J={key:0,class:"d-flex align-center justify-center pa-12"},Y={class:"text-center"},G={class:"pa-6"},K={class:"pa-6"};function Q(s,e,P,k,l,n){const v=a("v-btn"),y=a("v-card-title"),w=a("v-progress-circular"),U=a("v-tab"),E=a("v-tabs"),h=a("v-text-field"),_=a("v-col"),c=a("v-select"),b=a("v-switch"),g=a("v-row"),C=a("v-window-item"),x=a("v-label"),D=a("RichTextEditor"),z=a("v-window"),I=a("v-form"),r=a("v-card-text"),A=a("v-spacer"),S=a("v-card-actions"),B=a("v-card"),j=a("v-dialog");return u(),V(j,{modelValue:n.dialog,"onUpdate:modelValue":e[14]||(e[14]=d=>n.dialog=d),"max-width":"1000",scrollable:"",persistent:""},{default:i(()=>[t(B,null,{default:i(()=>[t(y,{class:"d-flex align-center justify-space-between bg-primary text-white pa-4"},{default:i(()=>[o("span",O,p(P.editingCareer?"Edit Career":"Create New Career"),1),t(v,{icon:"mdi-close",variant:"text",color:"white",onClick:n.closeDialog,disabled:l.saving||l.loading},null,8,["onClick","disabled"])]),_:1}),t(r,{class:"pa-0"},{default:i(()=>[l.loading?(u(),f("div",J,[o("div",Y,[t(w,{indeterminate:"",color:"primary",size:"64"}),e[15]||(e[15]=o("p",{class:"text-body-1 text-medium-emphasis mt-4"},"Loading career data...",-1))])])):(u(),V(I,{key:1,ref:"formRef"},{default:i(()=>[t(E,{modelValue:l.activeTab,"onUpdate:modelValue":e[0]||(e[0]=d=>l.activeTab=d),"bg-color":"grey-lighten-4"},{default:i(()=>[t(U,{value:"basic"},{default:i(()=>e[16]||(e[16]=[m("Basic Information")])),_:1,__:[16]}),t(U,{value:"details"},{default:i(()=>e[17]||(e[17]=[m("Job Details")])),_:1,__:[17]})]),_:1},8,["modelValue"]),t(z,{modelValue:l.activeTab,"onUpdate:modelValue":e[13]||(e[13]=d=>l.activeTab=d)},{default:i(()=>[t(C,{value:"basic"},{default:i(()=>[o("div",G,[t(g,null,{default:i(()=>[t(_,{cols:"12"},{default:i(()=>[t(h,{modelValue:l.form.title,"onUpdate:modelValue":e[1]||(e[1]=d=>l.form.title=d),label:"Job Title *",variant:"outlined",rules:[d=>!!d||"Title is required"],hint:"Enter the job title",onBlur:n.generateSlug,"persistent-hint":""},null,8,["modelValue","rules","onBlur"])]),_:1}),t(_,{cols:"12",md:"6"},{default:i(()=>[t(h,{modelValue:l.form.slug,"onUpdate:modelValue":e[2]||(e[2]=d=>l.form.slug=d),label:"Slug *",variant:"outlined",rules:[d=>!!d||"Slug is required",d=>!d||/^[a-z0-9-]+$/.test(d)||"Slug can only contain lowercase letters, numbers, and hyphens"],hint:"URL-friendly version (auto-generated from title)","persistent-hint":""},{append:i(()=>[t(v,{icon:"mdi-refresh",size:"small",variant:"text",onClick:n.generateSlug,disabled:!l.form.title},null,8,["onClick","disabled"])]),_:1},8,["modelValue","rules"])]),_:1}),t(_,{cols:"12",md:"6"},{default:i(()=>[t(h,{modelValue:l.form.order,"onUpdate:modelValue":e[3]||(e[3]=d=>l.form.order=d),label:"Order",type:"number",variant:"outlined",hint:"Display order (lower numbers first)","persistent-hint":""},null,8,["modelValue"])]),_:1}),t(_,{cols:"12",md:"4"},{default:i(()=>[t(h,{modelValue:l.form.department,"onUpdate:modelValue":e[4]||(e[4]=d=>l.form.department=d),label:"Department",variant:"outlined",hint:"e.g., Engineering, Sales, Marketing","persistent-hint":""},null,8,["modelValue"])]),_:1}),t(_,{cols:"12",md:"4"},{default:i(()=>[t(h,{modelValue:l.form.location,"onUpdate:modelValue":e[5]||(e[5]=d=>l.form.location=d),label:"Location",variant:"outlined",hint:"e.g., New York, Remote, Hybrid","persistent-hint":""},null,8,["modelValue"])]),_:1}),t(_,{cols:"12",md:"4"},{default:i(()=>[t(c,{modelValue:l.form.employment_type,"onUpdate:modelValue":e[6]||(e[6]=d=>l.form.employment_type=d),items:l.employmentTypes,label:"Employment Type",variant:"outlined",hint:"Type of employment","persistent-hint":"",clearable:""},null,8,["modelValue","items"])]),_:1}),t(_,{cols:"12",md:"6"},{default:i(()=>[t(h,{modelValue:l.form.deadline,"onUpdate:modelValue":e[7]||(e[7]=d=>l.form.deadline=d),label:"Application Deadline",type:"date",variant:"outlined",hint:"Deadline for applications","persistent-hint":""},null,8,["modelValue"])]),_:1}),t(_,{cols:"12",md:"6"},{default:i(()=>[t(b,{modelValue:l.form.published,"onUpdate:modelValue":e[8]||(e[8]=d=>l.form.published=d),label:"Published",color:"success",hint:"Publish this career on the public website","persistent-hint":""},null,8,["modelValue"])]),_:1})]),_:1})])]),_:1}),t(C,{value:"details"},{default:i(()=>[o("div",K,[t(g,null,{default:i(()=>[t(_,{cols:"12"},{default:i(()=>[t(x,{class:"mb-2"},{default:i(()=>e[18]||(e[18]=[m("Job Description")])),_:1,__:[18]}),t(D,{modelValue:l.form.description,"onUpdate:modelValue":e[9]||(e[9]=d=>l.form.description=d),active:n.dialog&&l.activeTab==="details",placeholder:"Enter detailed job description..."},null,8,["modelValue","active"])]),_:1}),t(_,{cols:"12"},{default:i(()=>[t(x,{class:"mb-2"},{default:i(()=>e[19]||(e[19]=[m("Responsibilities")])),_:1,__:[19]}),t(D,{modelValue:l.form.responsibilities,"onUpdate:modelValue":e[10]||(e[10]=d=>l.form.responsibilities=d),active:n.dialog&&l.activeTab==="details",placeholder:"Enter job responsibilities..."},null,8,["modelValue","active"])]),_:1}),t(_,{cols:"12"},{default:i(()=>[t(x,{class:"mb-2"},{default:i(()=>e[20]||(e[20]=[m("Requirements")])),_:1,__:[20]}),t(D,{modelValue:l.form.requirements,"onUpdate:modelValue":e[11]||(e[11]=d=>l.form.requirements=d),active:n.dialog&&l.activeTab==="details",placeholder:"Enter job requirements..."},null,8,["modelValue","active"])]),_:1}),t(_,{cols:"12"},{default:i(()=>[t(x,{class:"mb-2"},{default:i(()=>e[21]||(e[21]=[m("Benefits")])),_:1,__:[21]}),t(D,{modelValue:l.form.benefits,"onUpdate:modelValue":e[12]||(e[12]=d=>l.form.benefits=d),active:n.dialog&&l.activeTab==="details",placeholder:"Enter job benefits..."},null,8,["modelValue","active"])]),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1},512))]),_:1}),t(S,{class:"pa-4 bg-grey-lighten-4"},{default:i(()=>[t(A),t(v,{variant:"text",onClick:n.closeDialog,disabled:l.saving},{default:i(()=>e[22]||(e[22]=[m("Cancel")])),_:1,__:[22]},8,["onClick","disabled"]),t(v,{color:"primary",variant:"flat",onClick:n.saveCareer,loading:l.saving},{default:i(()=>[m(p(P.editingCareer?"Update":"Create")+" Career ",1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const W=H(N,[["render",Q]]),X={name:"CareerDetailsDialog",props:{modelValue:{type:Boolean,default:!1},careerId:{type:[Number,String],default:null}},emits:["update:modelValue","edit"],data(){return{loading:!1,career:null,tab:"basic"}},computed:{dialog:{get(){return this.modelValue},set(s){this.$emit("update:modelValue",s)}}},watch:{modelValue(s){s&&this.careerId&&this.loadCareer()},careerId(){this.dialog&&this.careerId&&this.loadCareer()}},methods:{async loadCareer(){if(this.careerId){this.loading=!0,this.career=null,this.tab="basic";try{const e=(await F.get(`/api/v1/careers/${this.careerId}`,{headers:this.getAuthHeaders()})).data;if(!e)throw new Error("No career data received");this.career=e}catch(s){console.error("Failed to load career details:",s),alert("Failed to load career details. Please try again."),this.closeDialog()}finally{this.loading=!1}}},closeDialog(){this.dialog=!1,this.career=null,this.tab="basic"},handleEdit(){this.career&&(this.$emit("edit",this.career),this.closeDialog())},viewApplications(){this.career&&(this.closeDialog(),this.$router.push({name:"AdminJobApplications",query:{career_id:this.career.id}}))},getAuthHeaders(){return{Authorization:`Bearer ${localStorage.getItem("admin_token")}`}},formatDate(s){return s?new Date(s).toLocaleDateString():"-"},formatDateTime(s){return s?new Date(s).toLocaleString():"-"}}},Z={class:"d-flex align-center"},$={key:0,class:"d-flex align-center justify-center pa-12"},ee={class:"text-center"},te={key:1},le={class:"text-h6 font-weight-bold mb-4"},ie={class:"text-body-1 mb-4"},se={class:"text-body-1 mb-4"},oe={class:"text-body-1 mb-4"},ae={key:1,class:"text-grey"},ne={class:"text-body-1 mb-4"},re={key:1,class:"text-grey"},de={class:"text-body-1 mb-4"},me={key:1,class:"text-grey"},ue={class:"text-body-1 mb-4"},pe={class:"mb-4"},ce={class:"mb-4"},fe={class:"text-body-1 mb-4"},_e={class:"text-body-1 mb-4"},ge=["innerHTML"],ve=["innerHTML"],be=["innerHTML"],he=["innerHTML"];function ye(s,e,P,k,l,n){const v=a("v-icon"),y=a("v-btn"),w=a("v-card-title"),U=a("v-progress-circular"),E=a("v-tab"),h=a("v-tabs"),_=a("v-divider"),c=a("v-col"),b=a("v-chip"),g=a("v-row"),C=a("v-window-item"),x=a("v-window"),D=a("v-card-text"),z=a("v-spacer"),I=a("v-card-actions"),r=a("v-card"),A=a("v-dialog");return u(),V(A,{modelValue:n.dialog,"onUpdate:modelValue":e[2]||(e[2]=S=>n.dialog=S),"max-width":"1200",scrollable:""},{default:i(()=>[t(r,null,{default:i(()=>[t(w,{class:"d-flex align-center justify-space-between bg-info text-white pa-4"},{default:i(()=>[o("div",Z,[t(v,{icon:"mdi-eye",class:"mr-3"}),e[3]||(e[3]=o("span",{class:"text-h5 font-weight-bold"},"Career Details",-1))]),t(y,{icon:"mdi-close",variant:"text",color:"white",onClick:n.closeDialog,disabled:l.loading},null,8,["onClick","disabled"])]),_:1}),t(D,{class:"pa-0"},{default:i(()=>[l.loading?(u(),f("div",$,[o("div",ee,[t(U,{indeterminate:"",color:"info",size:"64"}),e[4]||(e[4]=o("p",{class:"text-body-1 text-medium-emphasis mt-4"},"Loading career details...",-1))])])):l.career?(u(),f("div",te,[t(h,{modelValue:l.tab,"onUpdate:modelValue":e[0]||(e[0]=S=>l.tab=S),color:"info","bg-color":"grey-lighten-4"},{default:i(()=>[t(E,{value:"basic"},{default:i(()=>[t(v,{icon:"mdi-information",class:"mr-2"}),e[5]||(e[5]=m(" Basic Info "))]),_:1,__:[5]}),t(E,{value:"details"},{default:i(()=>[t(v,{icon:"mdi-text",class:"mr-2"}),e[6]||(e[6]=m(" Job Details "))]),_:1,__:[6]})]),_:1},8,["modelValue"]),t(_),t(x,{modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=S=>l.tab=S),class:"pa-6"},{default:i(()=>[t(C,{value:"basic"},{default:i(()=>[t(g,null,{default:i(()=>[t(c,{cols:"12"},{default:i(()=>[e[7]||(e[7]=o("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Job Title",-1)),o("div",le,p(l.career.title||"-"),1)]),_:1,__:[7]}),t(c,{cols:"12",md:"6"},{default:i(()=>[e[8]||(e[8]=o("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Slug",-1)),o("div",ie,[t(b,{size:"small",variant:"outlined"},{default:i(()=>[m(p(l.career.slug||"-"),1)]),_:1})])]),_:1,__:[8]}),t(c,{cols:"12",md:"6"},{default:i(()=>[e[9]||(e[9]=o("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Order",-1)),o("div",se,p(l.career.order||0),1)]),_:1,__:[9]}),t(c,{cols:"12",md:"4"},{default:i(()=>[e[10]||(e[10]=o("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Department",-1)),o("div",oe,[l.career.department?(u(),V(b,{key:0,size:"small",variant:"outlined"},{default:i(()=>[m(p(l.career.department),1)]),_:1})):(u(),f("span",ae,"-"))])]),_:1,__:[10]}),t(c,{cols:"12",md:"4"},{default:i(()=>[e[11]||(e[11]=o("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Location",-1)),o("div",ne,[l.career.location?(u(),V(b,{key:0,size:"small",variant:"outlined"},{default:i(()=>[m(p(l.career.location),1)]),_:1})):(u(),f("span",re,"-"))])]),_:1,__:[11]}),t(c,{cols:"12",md:"4"},{default:i(()=>[e[12]||(e[12]=o("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Employment Type",-1)),o("div",de,[l.career.employment_type?(u(),V(b,{key:0,size:"small",variant:"outlined"},{default:i(()=>[m(p(l.career.employment_type),1)]),_:1})):(u(),f("span",me,"-"))])]),_:1,__:[12]}),t(c,{cols:"12",md:"6"},{default:i(()=>[e[13]||(e[13]=o("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Application Deadline",-1)),o("div",ue,p(l.career.deadline?n.formatDate(l.career.deadline):"-"),1)]),_:1,__:[13]}),t(c,{cols:"12",md:"6"},{default:i(()=>[e[14]||(e[14]=o("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Status",-1)),o("div",pe,[t(b,{color:l.career.published?"success":"error",size:"small"},{default:i(()=>[m(p(l.career.published?"Published":"Draft"),1)]),_:1},8,["color"])])]),_:1,__:[14]}),t(c,{cols:"12",md:"6"},{default:i(()=>[e[15]||(e[15]=o("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Applications Count",-1)),o("div",ce,[t(b,{size:"small",color:"primary",variant:"flat"},{default:i(()=>[m(p(l.career.applications_count||0)+" Applications ",1)]),_:1})])]),_:1,__:[15]}),t(c,{cols:"12",md:"6"},{default:i(()=>[e[16]||(e[16]=o("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Created At",-1)),o("div",fe,p(n.formatDateTime(l.career.created_at)),1)]),_:1,__:[16]}),l.career.updated_at?(u(),V(c,{key:0,cols:"12"},{default:i(()=>[e[17]||(e[17]=o("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Updated At",-1)),o("div",_e,p(n.formatDateTime(l.career.updated_at)),1)]),_:1,__:[17]})):T("",!0)]),_:1})]),_:1}),t(C,{value:"details"},{default:i(()=>[t(g,null,{default:i(()=>[t(c,{cols:"12"},{default:i(()=>[e[18]||(e[18]=o("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Job Description",-1)),o("div",{class:"text-body-1 mb-4",innerHTML:l.career.description||"-"},null,8,ge)]),_:1,__:[18]}),t(c,{cols:"12"},{default:i(()=>[e[19]||(e[19]=o("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Responsibilities",-1)),o("div",{class:"text-body-1 mb-4",innerHTML:l.career.responsibilities||"-"},null,8,ve)]),_:1,__:[19]}),t(c,{cols:"12"},{default:i(()=>[e[20]||(e[20]=o("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Requirements",-1)),o("div",{class:"text-body-1 mb-4",innerHTML:l.career.requirements||"-"},null,8,be)]),_:1,__:[20]}),t(c,{cols:"12"},{default:i(()=>[e[21]||(e[21]=o("div",{class:"text-subtitle-1 text-medium-emphasis mb-2"},"Benefits",-1)),o("div",{class:"text-body-1 mb-4",innerHTML:l.career.benefits||"-"},null,8,he)]),_:1,__:[21]})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):T("",!0)]),_:1}),t(I,{class:"pa-4 bg-grey-lighten-5"},{default:i(()=>[l.career&&l.career.applications_count>0?(u(),V(y,{key:0,color:"primary","prepend-icon":"mdi-briefcase-account",onClick:n.viewApplications},{default:i(()=>[m(" View Applications ("+p(l.career.applications_count)+") ",1)]),_:1},8,["onClick"])):T("",!0),t(z),t(y,{color:"primary","prepend-icon":"mdi-pencil",onClick:n.handleEdit},{default:i(()=>e[22]||(e[22]=[m(" Edit Career ")])),_:1,__:[22]},8,["onClick"]),t(y,{color:"grey",variant:"text",onClick:n.closeDialog},{default:i(()=>e[23]||(e[23]=[m("Close")])),_:1,__:[23]},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const Ce=H(X,[["render",ye]]),Ve={components:{CareerFormDialog:W,CareerDetailsDialog:Ce},mixins:[R],data(){return{careers:[],showDialog:!1,editingCareer:null,showDetailsDialog:!1,selectedCareerId:null,publishedFilter:null,departmentFilter:null,publishedOptions:[{title:"Published",value:!0},{title:"Draft",value:!1}],departmentOptions:[]}},async mounted(){await this.loadCareers(),await this.loadDepartments()},methods:{async loadCareers(){try{this.loading=!0;const s=this.buildPaginationParams();this.search&&(s.search=this.search),this.publishedFilter!==null&&(s.published=this.publishedFilter),this.departmentFilter&&(s.department=this.departmentFilter);const e=await F.get("/api/v1/careers",{params:s,headers:this.getAuthHeaders()});this.careers=e.data.data||[],this.updatePagination(e.data)}catch(s){this.handleApiError(s,"Failed to load careers")}finally{this.loading=!1}},async loadDepartments(){try{const e=(await F.get("/api/v1/careers",{params:{per_page:1e3},headers:this.getAuthHeaders()})).data.data||[],P=[...new Set(e.map(k=>k.department).filter(Boolean))];this.departmentOptions=P.map(k=>({title:k,value:k}))}catch(s){console.error("Failed to load departments:",s)}},openDialog(s=null){this.editingCareer=s,this.showDialog=!0},editCareer(s){this.openDialog(s)},viewCareer(s){this.selectedCareerId=s.id,this.showDetailsDialog=!0},handleEditFromDetails(s){this.showDetailsDialog=!1,this.$nextTick(()=>{this.openDialog(s)})},handleCareerSaved(){this.loadCareers(),this.loadDepartments()},async deleteCareer(s){if(confirm("Are you sure you want to delete this career? This will also delete all associated job applications."))try{await F.delete(`/api/v1/careers/${s}`,{headers:this.getAuthHeaders()}),this.showSuccess("Career deleted successfully"),await this.loadCareers()}catch(e){this.handleApiError(e,"Error deleting career")}},onPerPageChange(){this.resetPagination(),this.loadCareers()},onSort(s){this.handleSort(s),this.loadCareers()}}},we={class:"page-header"},xe={class:"text-caption text-grey"},De={key:0},ke={class:"d-flex align-center"},Se={class:"d-flex align-center"},Te={class:"d-flex align-center"},Fe={class:"d-flex align-center"},Pe={class:"d-flex"},Ue={key:1,class:"text-grey"},Ee={key:1,class:"text-grey"},Ae={key:0},ze={class:"d-flex flex-column flex-md-row justify-space-between align-center align-md-start gap-3 mt-4"},Ie={class:"text-caption text-grey"},Le={key:0},He={key:0,class:"ml-2"},qe={key:1},Re={key:0,class:"d-flex align-center gap-2"};function Be(s,e,P,k,l,n){const v=a("v-btn"),y=a("v-select"),w=a("v-col"),U=a("v-text-field"),E=a("v-row"),h=a("v-card-text"),_=a("v-card"),c=a("v-card-title"),b=a("v-icon"),g=a("v-skeleton-loader"),C=a("v-chip"),x=a("v-table"),D=a("v-pagination"),z=a("CareerFormDialog"),I=a("CareerDetailsDialog");return u(),f("div",null,[o("div",we,[e[13]||(e[13]=o("h1",{class:"text-h4 page-title"},"Careers Management",-1)),t(v,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=r=>n.openDialog()),class:"add-button"},{default:i(()=>e[12]||(e[12]=[m("Create Career")])),_:1,__:[12]})]),t(_,{class:"mb-4"},{default:i(()=>[t(h,null,{default:i(()=>[t(E,null,{default:i(()=>[t(w,{cols:"12",md:"3"},{default:i(()=>[t(y,{modelValue:s.perPage,"onUpdate:modelValue":[e[1]||(e[1]=r=>s.perPage=r),n.onPerPageChange],items:s.perPageOptions,label:"Items per page","prepend-inner-icon":"mdi-format-list-numbered",variant:"outlined",density:"compact"},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1}),t(w,{cols:"12",md:"3"},{default:i(()=>[t(y,{modelValue:l.publishedFilter,"onUpdate:modelValue":[e[2]||(e[2]=r=>l.publishedFilter=r),n.loadCareers],items:l.publishedOptions,label:"Filter by Status","prepend-inner-icon":"mdi-filter",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1}),t(w,{cols:"12",md:"3"},{default:i(()=>[t(y,{modelValue:l.departmentFilter,"onUpdate:modelValue":[e[3]||(e[3]=r=>l.departmentFilter=r),n.loadCareers],items:l.departmentOptions,label:"Filter by Department","prepend-inner-icon":"mdi-office-building",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1}),t(w,{cols:"12",md:"3"},{default:i(()=>[t(U,{modelValue:s.search,"onUpdate:modelValue":[e[4]||(e[4]=r=>s.search=r),n.loadCareers],label:"Search careers","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(_,null,{default:i(()=>[t(c,{class:"d-flex justify-space-between align-center"},{default:i(()=>[e[15]||(e[15]=o("span",null,"Careers",-1)),o("span",xe,[e[14]||(e[14]=m(" Total Records: ")),o("strong",null,p(s.pagination.total||0),1),l.careers.length>0?(u(),f("span",De," | Showing "+p((s.currentPage-1)*s.perPage+1)+" to "+p(Math.min(s.currentPage*s.perPage,s.pagination.total))+" of "+p(s.pagination.total),1)):T("",!0)])]),_:1,__:[15]}),t(h,null,{default:i(()=>[t(x,null,{default:i(()=>[o("thead",null,[o("tr",null,[o("th",{class:"sortable",onClick:e[5]||(e[5]=r=>n.onSort("title"))},[o("div",ke,[e[16]||(e[16]=m(" Title ")),t(b,{icon:s.getSortIcon("title"),size:"small",class:"ml-1"},null,8,["icon"])])]),o("th",{class:"sortable",onClick:e[6]||(e[6]=r=>n.onSort("department"))},[o("div",Se,[e[17]||(e[17]=m(" Department ")),t(b,{icon:s.getSortIcon("department"),size:"small",class:"ml-1"},null,8,["icon"])])]),o("th",{class:"sortable",onClick:e[7]||(e[7]=r=>n.onSort("location"))},[o("div",Te,[e[18]||(e[18]=m(" Location ")),t(b,{icon:s.getSortIcon("location"),size:"small",class:"ml-1"},null,8,["icon"])])]),e[20]||(e[20]=o("th",null,"Applications",-1)),o("th",{class:"sortable",onClick:e[8]||(e[8]=r=>n.onSort("published"))},[o("div",Fe,[e[19]||(e[19]=m(" Published ")),t(b,{icon:s.getSortIcon("published"),size:"small",class:"ml-1"},null,8,["icon"])])]),e[21]||(e[21]=o("th",null,"Actions",-1))])]),o("tbody",null,[s.loading?(u(),f(L,{key:0},q(5,r=>o("tr",{key:`skeleton-${r}`},[o("td",null,[t(g,{type:"text",width:"200"})]),o("td",null,[t(g,{type:"text",width:"120"})]),o("td",null,[t(g,{type:"text",width:"120"})]),o("td",null,[t(g,{type:"chip",width:"60",height:"24"})]),o("td",null,[t(g,{type:"chip",width:"80",height:"24"})]),o("td",null,[o("div",Pe,[t(g,{type:"button",width:"32",height:"32",class:"mr-1"}),t(g,{type:"button",width:"32",height:"32",class:"mr-1"}),t(g,{type:"button",width:"32",height:"32"})])])])),64)):(u(),f(L,{key:1},[(u(!0),f(L,null,q(l.careers,r=>(u(),f("tr",{key:r.id},[o("td",null,p(r.title),1),o("td",null,[r.department?(u(),V(C,{key:0,size:"small",variant:"outlined"},{default:i(()=>[m(p(r.department),1)]),_:2},1024)):(u(),f("span",Ue,"-"))]),o("td",null,[r.location?(u(),V(C,{key:0,size:"small",variant:"outlined"},{default:i(()=>[m(p(r.location),1)]),_:2},1024)):(u(),f("span",Ee,"-"))]),o("td",null,[t(C,{size:"small",color:"primary",variant:"flat"},{default:i(()=>[m(p(r.applications_count||0),1)]),_:2},1024)]),o("td",null,[t(C,{color:r.published?"success":"error",size:"small"},{default:i(()=>[m(p(r.published?"Published":"Draft"),1)]),_:2},1032,["color"])]),o("td",null,[t(v,{size:"small",icon:"mdi-eye",onClick:A=>n.viewCareer(r),variant:"text",color:"info",title:"View Career"},null,8,["onClick"]),t(v,{size:"small",icon:"mdi-pencil",onClick:A=>n.editCareer(r),variant:"text",title:"Edit Career"},null,8,["onClick"]),t(v,{size:"small",icon:"mdi-delete",onClick:A=>n.deleteCareer(r.id),variant:"text",color:"error",title:"Delete Career"},null,8,["onClick"])])]))),128)),l.careers.length===0?(u(),f("tr",Ae,e[22]||(e[22]=[o("td",{colspan:"6",class:"text-center py-4"},"No careers found",-1)]))):T("",!0)],64))])]),_:1}),o("div",ze,[o("div",Ie,[l.careers.length>0&&s.pagination.total>0?(u(),f("span",Le,[e[23]||(e[23]=m(" Showing ")),o("strong",null,p((s.currentPage-1)*s.perPage+1),1),e[24]||(e[24]=m(" to ")),o("strong",null,p(Math.min(s.currentPage*s.perPage,s.pagination.total)),1),e[25]||(e[25]=m(" of ")),o("strong",null,p(s.pagination.total.toLocaleString()),1),e[26]||(e[26]=m(" records ")),s.pagination.last_page>1?(u(),f("span",He," (Page "+p(s.currentPage)+" of "+p(s.pagination.last_page)+") ",1)):T("",!0)])):(u(),f("span",qe," No records found "))]),s.pagination.last_page>1?(u(),f("div",Re,[t(D,{modelValue:s.currentPage,"onUpdate:modelValue":[e[9]||(e[9]=r=>s.currentPage=r),n.loadCareers],length:s.pagination.last_page,"total-visible":7,density:"comfortable"},null,8,["modelValue","length","onUpdate:modelValue"])])):T("",!0)])]),_:1})]),_:1}),t(z,{modelValue:l.showDialog,"onUpdate:modelValue":e[10]||(e[10]=r=>l.showDialog=r),"editing-career":l.editingCareer,onSaved:n.handleCareerSaved},null,8,["modelValue","editing-career","onSaved"]),t(I,{modelValue:l.showDetailsDialog,"onUpdate:modelValue":e[11]||(e[11]=r=>l.showDetailsDialog=r),"career-id":l.selectedCareerId,onEdit:n.handleEditFromDetails},null,8,["modelValue","career-id","onEdit"])])}const Oe=H(Ve,[["render",Be],["__scopeId","data-v-5185cbb9"]]);export{Oe as default};
