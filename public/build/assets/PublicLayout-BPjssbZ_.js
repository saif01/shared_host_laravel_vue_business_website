import{_ as T,c as h,w as a,a as i,b as n,d as f,r,t as m,e as L,F as D,f as d,n as M,o as c,g as b,h as N,i as F,m as O,j as H,v as Y,k as R}from"./app-CqTXGjtN.js";import{r as V}from"./uploads-CnEkgyD_.js";const q={name:"AppBar",props:{isScrolled:{type:Boolean,default:!1},siteName:{type:String,required:!0},siteTagline:{type:String,required:!0},menuItems:{type:Array,required:!0},logo:{type:String,default:null}},emits:["toggle-drawer"],methods:{isActiveRoute(t){const e=this.$route.path;return t==="/"?e==="/":e.startsWith(t)}}},j={class:"d-flex align-center w-100 position-relative z-index-2"},G={key:0,class:"logo-box mr-3 elevation-4"},P={key:1,class:"logo-box mr-3 elevation-4"},K={class:"d-flex flex-column"},Q={class:"text-h6 font-weight-black text-grey-darken-4 lh-1 tracking-tight logo-text"},J={class:"text-caption font-weight-bold text-primary tracking-widest"},X={class:"d-none d-md-flex align-center gap-8"},Z={class:"d-none d-md-flex"};function $(t,e,l,u,o,s){const _=r("v-img"),p=r("v-icon"),v=r("router-link"),g=r("v-spacer"),w=r("v-btn"),k=r("v-app-bar-nav-icon"),A=r("v-app-bar");return c(),h(A,{app:"",class:M(["main-app-bar px-md-12 transition-all",{"scrolled-app-bar":l.isScrolled}]),height:"80",elevation:"0"},{default:a(()=>[i("div",j,[n(v,{to:"/",class:"text-decoration-none d-flex align-center mr-8 logo-group"},{default:a(()=>[l.logo?(c(),f("div",G,[n(_,{src:l.logo,alt:"Logo",cover:"",class:"logo-image rounded-logo"},null,8,["src"])])):(c(),f("div",P,[n(p,{icon:"mdi-flash",color:"amber-accent-4",size:"28",class:"logo-icon"})])),i("div",K,[i("span",Q,m(l.siteName.toUpperCase()),1),i("span",J,m(l.siteTagline),1)])]),_:1}),n(g),i("div",X,[(c(!0),f(D,null,L(l.menuItems,y=>(c(),h(v,{key:y.id,to:y.url,class:M(["nav-link","text-body-2","font-weight-bold","text-grey-darken-3",{"active-nav-link":s.isActiveRoute(y.url)}])},{default:a(()=>[d(m(y.label),1)]),_:2},1032,["to","class"]))),128))]),n(g),i("div",Z,[n(w,{color:"primary",variant:"flat",rounded:"pill",class:"font-weight-bold px-6 text-capitalize elevation-3 hover-glow",to:{name:"Contact"}},{default:a(()=>e[1]||(e[1]=[d(" Get a Quote ")])),_:1,__:[1]})]),n(k,{class:"d-md-none ml-2",onClick:e[0]||(e[0]=y=>t.$emit("toggle-drawer"))})]),e[2]||(e[2]=i("div",{class:"app-bar-border"},null,-1))]),_:1,__:[2]},8,["class"])}const ee=T(q,[["render",$],["__scopeId","data-v-718104bf"]]),te={name:"MobileDrawer",props:{modelValue:{type:Boolean,default:!1},siteName:{type:String,required:!0},menuItems:{type:Array,required:!0},logo:{type:String,default:null}},emits:["update:modelValue"],computed:{localDrawer:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}},methods:{closeDrawer(){this.$emit("update:modelValue",!1)},isActiveRoute(t){const e=this.$route.path;return t==="/"?e==="/":e.startsWith(t)}}},ne={class:"pa-6"},se={class:"d-flex align-center mb-8"},oe={key:0,class:"logo-box mr-3"},re={key:1,class:"logo-box mr-3"},ie={class:"text-h6 font-weight-black text-grey-darken-4"},le={class:"mt-8"};function ae(t,e,l,u,o,s){const _=r("v-img"),p=r("v-icon"),v=r("v-spacer"),g=r("v-btn"),w=r("v-list-item-title"),k=r("v-list-item"),A=r("v-list"),y=r("v-navigation-drawer");return c(),h(y,{modelValue:s.localDrawer,"onUpdate:modelValue":e[0]||(e[0]=x=>s.localDrawer=x),location:"right",temporary:"",class:"mobile-drawer"},{default:a(()=>[i("div",ne,[i("div",se,[l.logo?(c(),f("div",oe,[n(_,{src:l.logo,alt:"Logo",cover:"",class:"logo-image rounded-logo"},null,8,["src"])])):(c(),f("div",re,[n(p,{icon:"mdi-flash",color:"amber-accent-4",size:"24"})])),i("span",ie,m(l.siteName.toUpperCase()),1),n(v),n(g,{icon:"mdi-close",variant:"text",onClick:s.closeDrawer},null,8,["onClick"])]),n(A,{nav:"",class:"bg-transparent"},{default:a(()=>[(c(!0),f(D,null,L(l.menuItems,x=>(c(),h(k,{key:x.id,to:x.url,class:M(["mb-2 rounded-lg",{"bg-primary-lighten-5 text-primary":s.isActiveRoute(x.url)}])},{default:a(()=>[n(w,{class:"font-weight-bold"},{default:a(()=>[d(m(x.label),1)]),_:2},1024)]),_:2},1032,["to","class"]))),128))]),_:1}),i("div",le,[n(g,{block:"",color:"primary",size:"large",rounded:"lg",to:{name:"Contact"},class:"elevation-4"},{default:a(()=>e[1]||(e[1]=[d(" Get a Quote ")])),_:1,__:[1]})])])]),_:1},8,["modelValue"])}const ce=T(te,[["render",ae],["__scopeId","data-v-ebbd676a"]]),de={name:"Footer",props:{siteName:{type:String,required:!0},footerDescription:{type:String,required:!0},menuItems:{type:Array,required:!0},settings:{type:Object,required:!0},logo:{type:String,default:null},newsletterDescription:{type:String,default:"Subscribe to get the latest power tips and updates."}},data(){return{newsletterEmail:"",newsletterLoading:!1,newsletterMessage:"",newsletterMessageType:"success",emailRules:[t=>!!t||"Email is required",t=>/.+@.+\..+/.test(t)||"Email must be valid"]}},methods:{hasSocialLink(t){return this.settings[`${t}_url`]&&this.settings[`${t}_url`].trim()!==""},async subscribeNewsletter(t){if(t&&t.preventDefault(),!this.newsletterEmail||!this.newsletterEmail.trim()){this.newsletterMessage="Email is required",this.newsletterMessageType="error";return}if(!/.+@.+\..+/.test(this.newsletterEmail)){this.newsletterMessage="Please enter a valid email address",this.newsletterMessageType="error";return}if(this.$refs.newsletterForm){const{valid:l}=await this.$refs.newsletterForm.validate();if(!l)return}this.newsletterLoading=!0,this.newsletterMessage="";try{const l=await this.$axios.post("/api/openapi/newsletter/subscribe",{email:this.newsletterEmail.trim()});this.newsletterMessage=l.data.message||"Thank you for subscribing!",this.newsletterMessageType="success",this.newsletterEmail="",this.$refs.newsletterForm&&this.$refs.newsletterForm.reset(),setTimeout(()=>{this.newsletterMessage=""},5e3)}catch(l){if(console.error("Error subscribing to newsletter:",l),l.response&&l.response.data)if(l.response.data.message)this.newsletterMessage=l.response.data.message;else if(l.response.data.errors){const u=l.response.data.errors,o=Object.values(u).flat();this.newsletterMessage=o.join(", ")||"Failed to subscribe. Please try again."}else this.newsletterMessage="Failed to subscribe. Please try again.";else this.newsletterMessage="An error occurred. Please try again later.";this.newsletterMessageType="error"}finally{this.newsletterLoading=!1}}}},ue={class:"d-flex align-center mb-6"},me={key:0,class:"logo-box-light mr-3 elevation-10"},_e={key:1,class:"logo-box-light mr-3 elevation-10"},pe={class:"text-h5 font-weight-black text-white tracking-tight"},ge={class:"text-body-2 text-grey-lighten-1 mb-8 lh-relaxed opacity-80"},he={class:"d-flex gap-4"},fe={class:"list-unstyled"},ve={class:"list-unstyled"},be={class:"mb-3"},we={class:"mb-3"},ye={class:"mb-3"},xe={class:"mb-3"},ke={class:"text-body-2 text-grey-lighten-1 mb-6 opacity-80"},Ae={class:"d-flex flex-column flex-md-row justify-space-between align-center text-caption text-grey-darken-1"},Se={class:"mb-4 mb-md-0 d-flex flex-column flex-md-row align-center gap-2 gap-md-4"},Ue={class:"powered-by-info"},Te={class:"info-item mb-3"},Ie={class:"info-label"},Me={class:"info-item mb-3"},Ee={class:"info-label"},Ce={class:"info-item mb-2"},Le={class:"info-label"};function De(t,e,l,u,o,s){const _=r("v-img"),p=r("v-icon"),v=r("v-btn"),g=r("v-col"),w=r("router-link"),k=r("v-text-field"),A=r("v-form"),y=r("v-alert"),x=r("v-row"),U=r("v-divider"),E=r("v-card-title"),C=r("v-card-text"),I=r("v-card"),B=r("v-menu"),W=r("v-container"),z=r("v-footer");return c(),h(z,{class:"bg-footer text-white pt-20 pb-10 position-relative overflow-hidden"},{default:a(()=>[e[23]||(e[23]=i("div",{class:"footer-pattern"},null,-1)),e[24]||(e[24]=i("div",{class:"footer-glow"},null,-1)),n(W,{class:"position-relative z-index-2"},{default:a(()=>[n(x,null,{default:a(()=>[n(g,{cols:"12",md:"4",class:"mb-10 mb-md-0 pr-md-12"},{default:a(()=>[i("div",ue,[l.logo?(c(),f("div",me,[n(_,{src:l.logo,alt:"Logo",cover:"",class:"footer-logo-image rounded-logo"},null,8,["src"])])):(c(),f("div",_e,[n(p,{icon:"mdi-flash",color:"amber-accent-4",size:"24"})])),i("span",pe,m(l.siteName.toUpperCase()),1)]),i("p",ge,m(l.footerDescription),1),i("div",he,[s.hasSocialLink("facebook")?(c(),h(v,{key:0,href:l.settings.facebook_url,target:"_blank",icon:"mdi-facebook",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):b("",!0),s.hasSocialLink("twitter")?(c(),h(v,{key:1,href:l.settings.twitter_url,target:"_blank",icon:"mdi-twitter",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):b("",!0),s.hasSocialLink("linkedin")?(c(),h(v,{key:2,href:l.settings.linkedin_url,target:"_blank",icon:"mdi-linkedin",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):b("",!0),s.hasSocialLink("instagram")?(c(),h(v,{key:3,href:l.settings.instagram_url,target:"_blank",icon:"mdi-instagram",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):b("",!0)])]),_:1}),n(g,{cols:"6",md:"2",class:"mb-8 mb-md-0"},{default:a(()=>[e[2]||(e[2]=i("h4",{class:"text-subtitle-1 font-weight-bold mb-6 text-white position-relative d-inline-block"},[d(" Quick Links "),i("div",{class:"heading-underline"})],-1)),i("ul",fe,[(c(!0),f(D,null,L(l.menuItems,S=>(c(),f("li",{key:S.id,class:"mb-3"},[n(w,{to:S.url,class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>[d(m(S.label),1)]),_:2},1032,["to"])]))),128))])]),_:1,__:[2]}),n(g,{cols:"6",md:"3",class:"mb-8 mb-md-0"},{default:a(()=>[e[7]||(e[7]=i("h4",{class:"text-subtitle-1 font-weight-bold mb-6 text-white position-relative d-inline-block"},[d(" Our Services "),i("div",{class:"heading-underline"})],-1)),i("ul",ve,[i("li",be,[n(w,{to:"/services/ups-installation",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[3]||(e[3]=[d("UPS Installation")])),_:1,__:[3]})]),i("li",we,[n(w,{to:"/services/battery-replacement",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[4]||(e[4]=[d("Battery Replacement")])),_:1,__:[4]})]),i("li",ye,[n(w,{to:"/services/industrial-backup",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[5]||(e[5]=[d("Industrial Backup")])),_:1,__:[5]})]),i("li",xe,[n(w,{to:"/services/support",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[6]||(e[6]=[d("24/7 Support")])),_:1,__:[6]})])])]),_:1,__:[7]}),n(g,{cols:"12",md:"3"},{default:a(()=>[e[8]||(e[8]=i("h4",{class:"text-subtitle-1 font-weight-bold mb-6 text-white position-relative d-inline-block"},[d(" Newsletter "),i("div",{class:"heading-underline"})],-1)),i("p",ke,m(l.newsletterDescription),1),n(A,{ref:"newsletterForm",onSubmit:N(s.subscribeNewsletter,["prevent"])},{default:a(()=>[n(k,{modelValue:o.newsletterEmail,"onUpdate:modelValue":e[0]||(e[0]=S=>o.newsletterEmail=S),placeholder:"Enter your email",variant:"outlined",density:"comfortable","bg-color":"rgba(255,255,255,0.05)",color:"amber-accent-4",rules:o.emailRules,loading:o.newsletterLoading,disabled:o.newsletterLoading,class:"mb-3 footer-input rounded-lg","hide-details":"auto",onKeyup:F(s.subscribeNewsletter,["enter"])},{"append-inner":a(()=>[n(v,{icon:"mdi-send",size:"small",color:"amber-accent-4",variant:"text",class:"mr-n2",loading:o.newsletterLoading,disabled:o.newsletterLoading,onClick:s.subscribeNewsletter},null,8,["loading","disabled","onClick"])]),_:1},8,["modelValue","rules","loading","disabled","onKeyup"])]),_:1},8,["onSubmit"]),o.newsletterMessage?(c(),h(y,{key:0,type:o.newsletterMessageType,density:"compact",class:"mt-2 newsletter-alert",variant:"tonal",closable:!0,"onClick:close":e[1]||(e[1]=S=>o.newsletterMessage="")},{default:a(()=>[d(m(o.newsletterMessage),1)]),_:1},8,["type"])):b("",!0)]),_:1,__:[8]})]),_:1}),n(U,{class:"my-10 border-opacity-10"}),i("div",Ae,[i("div",Se,[i("div",null," Â© "+m(new Date().getFullYear())+" "+m(l.siteName)+". All rights reserved. ",1),n(B,{"open-on-hover":"",location:"top"},{activator:a(({props:S})=>[i("span",O({class:"powered-by-text-footer"},S,{style:{cursor:"pointer"}}),[e[10]||(e[10]=d(" Powered By MCT-IT ")),n(p,{size:"x-small",class:"ml-1"},{default:a(()=>e[9]||(e[9]=[d("mdi-information-outline")])),_:1,__:[9]})],16)]),default:a(()=>[n(I,{class:"powered-by-card","min-width":"280"},{default:a(()=>[n(E,{class:"text-h6 pb-2"},{default:a(()=>[n(p,{class:"mr-2"},{default:a(()=>e[11]||(e[11]=[d("mdi-code-tags")])),_:1,__:[11]}),e[12]||(e[12]=d(" Powered By MCT-IT "))]),_:1,__:[12]}),n(U),n(C,{class:"pt-3"},{default:a(()=>[i("div",Ue,[i("div",Te,[i("div",Ie,[n(p,{size:"small",class:"mr-1"},{default:a(()=>e[13]||(e[13]=[d("mdi-account-circle")])),_:1,__:[13]}),e[14]||(e[14]=d(" Author & Credit "))]),e[15]||(e[15]=i("div",{class:"info-value"},"MCT-IT Development Team",-1))]),i("div",Me,[i("div",Ee,[n(p,{size:"small",class:"mr-1"},{default:a(()=>e[16]||(e[16]=[d("mdi-cog")])),_:1,__:[16]}),e[17]||(e[17]=d(" Managed By "))]),e[18]||(e[18]=i("div",{class:"info-value"},"MCT-IT Solutions",-1))]),i("div",Ce,[i("div",Le,[n(p,{size:"small",class:"mr-1"},{default:a(()=>e[19]||(e[19]=[d("mdi-tag")])),_:1,__:[19]}),e[20]||(e[20]=d(" Version "))]),e[21]||(e[21]=i("div",{class:"info-value"},"v1.0",-1))])])]),_:1})]),_:1})]),_:1})]),e[22]||(e[22]=i("div",{class:"d-flex gap-6"},[i("a",{href:"#",class:"footer-link-sm"},"Privacy Policy"),i("a",{href:"#",class:"footer-link-sm"},"Terms of Service"),i("a",{href:"#",class:"footer-link-sm"},"Sitemap")],-1))])]),_:1})]),_:1,__:[23,24]})}const Ve=T(de,[["render",De],["__scopeId","data-v-76b65c4a"]]),Be={name:"WhatsAppFloat",data(){return{whatsappUrl:"",settings:{whatsapp_number:"",contact_phone:""}}},async mounted(){await this.loadSettings(),this.updateWhatsAppUrl()},methods:{async loadSettings(){try{const e=(await this.$axios.get("/api/openapi/settings")).data;e.whatsapp_number!==void 0&&(this.settings.whatsapp_number=e.whatsapp_number),e.contact_phone!==void 0&&(this.settings.contact_phone=e.contact_phone)}catch(t){console.error("Error loading WhatsApp settings:",t)}},updateWhatsAppUrl(){const t=this.settings.whatsapp_number||this.settings.contact_phone||"";if(!t){this.whatsappUrl="";return}const e=t.replace(/[^\d+]/g,"");this.whatsappUrl=`https://wa.me/${e}`}},watch:{"settings.whatsapp_number"(){this.updateWhatsAppUrl()},"settings.contact_phone"(){this.updateWhatsAppUrl()}}},We=["href"];function ze(t,e,l,u,o,s){const _=r("v-icon");return o.whatsappUrl?(c(),f("a",{key:0,href:o.whatsappUrl,target:"_blank",class:"whatsapp-float elevation-6 d-flex align-center justify-center text-decoration-none"},[n(_,{icon:"mdi-whatsapp",color:"white",size:"32"})],8,We)):b("",!0)}const Ne=T(Be,[["render",ze],["__scopeId","data-v-c6ab8af3"]]),Fe={name:"GoToTopButton",data(){return{showButton:!1}},mounted(){window.addEventListener("scroll",this.handleScroll),this.handleScroll()},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){this.showButton=window.scrollY>300},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}};function Oe(t,e,l,u,o,s){const _=r("v-icon"),p=r("v-btn");return H((c(),h(p,{onClick:s.scrollToTop,class:M(["go-to-top-btn elevation-6",{show:o.showButton}]),color:"primary",size:"large"},{default:a(()=>[n(_,{icon:"mdi-chevron-up",size:"28"})]),_:1},8,["onClick","class"])),[[Y,o.showButton]])}const He=T(Fe,[["render",Oe],["__scopeId","data-v-a599d343"]]),Ye={name:"AnnouncementsBanner",data(){return{announcements:[],currentAnnouncementIndex:0,dialogOpen:!1,dontShowAgain:!1,dismissedIds:[],loading:!1,windowWidth:typeof window<"u"?window.innerWidth:1200,windowHeight:typeof window<"u"?window.innerHeight:800}},computed:{currentAnnouncement(){return this.announcements.length>0&&this.currentAnnouncementIndex<this.announcements.length?this.announcements[this.currentAnnouncementIndex]:null},resolvedImageUrl(){return!this.currentAnnouncement||!this.currentAnnouncement.image?null:this.getImageUrl(this.currentAnnouncement.image)},resolvedVideoUrl(){if(!this.currentAnnouncement||!this.currentAnnouncement.video)return null;const t=this.getVideoUrl(this.currentAnnouncement.video);return this.isYouTubeUrl(t)?this.getYouTubeEmbedUrl(t)?t:null:t},youtubeEmbedUrl(){return!this.resolvedVideoUrl||!this.isYouTubeUrl(this.resolvedVideoUrl)?null:this.getYouTubeEmbedUrl(this.resolvedVideoUrl)},dialogMaxWidth(){return this.windowWidth<600?"95vw":this.windowWidth<960?"85vw":this.resolvedImageUrl||this.resolvedVideoUrl?"90vw":"80vw"},imageMaxHeight(){return Math.min(500,this.windowHeight*.5)}},async mounted(){await this.loadAnnouncements(),this.loadDismissedAnnouncements(),this.updateWindowSize(),window.addEventListener("resize",this.updateWindowSize),this.announcements.length>0&&setTimeout(()=>{this.dialogOpen=!0},500)},beforeUnmount(){typeof window<"u"&&window.removeEventListener("resize",this.updateWindowSize)},methods:{async loadAnnouncements(){try{this.loading=!0;const t=await this.$axios.get("/api/openapi/announcements",{params:{per_page:10}}),e=this.getDismissedIds(),l=Array.isArray(t.data)?t.data:t.data.data||[];this.announcements=l.filter(u=>!e.includes(u.id)).map(u=>((u.image===""||u.image===null)&&(u.image=null),(u.video===""||u.video===null)&&(u.video=null),u)).sort((u,o)=>(u.priority||100)-(o.priority||100))}catch(t){console.error("Error loading announcements:",t)}finally{this.loading=!1}},getDismissedIds(){const t=localStorage.getItem("dismissed_announcements");return t?JSON.parse(t):[]},loadDismissedAnnouncements(){this.dismissedIds=this.getDismissedIds()},isDismissed(t){return this.dismissedIds.includes(t)},closeDialog(){this.currentAnnouncement&&(this.dontShowAgain&&this.dismissAnnouncement(this.currentAnnouncement.id),this.dialogOpen=!1)},nextAnnouncement(){this.currentAnnouncement&&(this.dontShowAgain&&this.dismissAnnouncement(this.currentAnnouncement.id),this.currentAnnouncementIndex<this.announcements.length-1?(this.currentAnnouncementIndex++,this.dontShowAgain=!1):this.dialogOpen=!1)},dismissAnnouncement(t){this.dismissedIds.includes(t)||(this.dismissedIds.push(t),localStorage.setItem("dismissed_announcements",JSON.stringify(this.dismissedIds)))},getAlertColor(t){return{urgent_alerts:"error",offers_promotions:"success",events:"info",holidays:"warning",company_news:"primary"}[t]||"primary"},getAnnouncementIcon(t){return{urgent_alerts:"mdi-alert-circle",offers_promotions:"mdi-tag",events:"mdi-calendar-star",holidays:"mdi-party-popper",company_news:"mdi-bullhorn"}[t]||"mdi-information"},getAnnouncementTypeLabel(t){return{urgent_alerts:"Urgent Alert",offers_promotions:"Special Offer",events:"Event",holidays:"Holiday",company_news:"Company News"}[t]||t},getImageUrl(t){return!t||t===""||t===null?null:t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//")?t:V(t)},getVideoUrl(t){return!t||t===""||t===null?null:t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//")?t:V(t)},isYouTubeUrl(t){return t?/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)/i.test(t):!1},getYouTubeEmbedUrl(t){if(!t)return"";let e="";try{const l=t.match(/(?:youtu\.be\/)([^?&#]+)/);if(l)e=l[1];else{const u=t.match(/(?:youtube\.com\/(?:watch\?v=|embed\/|v\/))([^?&#]+)/);if(u)e=u[1];else try{const o=new URL(t);if(e=o.searchParams.get("v"),!e&&o.pathname){const s=o.pathname.split("/").filter(_=>_);s.length>0&&(e=s[s.length-1])}}catch{const s=t.match(/[?&]v=([^?&#]+)/);s&&(e=s[1])}}if(e&&(e=e.split("?")[0].split("&")[0].split("#")[0].trim()),e&&e.length>=11)return`https://www.youtube.com/embed/${e}`;if(t.includes("youtube.com/embed/"))return t}catch(l){console.error("Error processing YouTube URL:",l)}return""},handleImageError(t){t.target&&t.target.parentElement&&(t.target.parentElement.style.display="none")},updateWindowSize(){typeof window<"u"&&(this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight)}}},Re={class:"text-white font-weight-bold"},qe={key:0,class:"mb-4 announcement-media"},je={key:1,class:"mb-4 announcement-media"},Ge={key:0,class:"youtube-embed-wrapper"},Pe=["src"],Ke=["src"],Qe=["src"],Je={key:2,class:"text-body-1 mb-4 announcement-description"},Xe=["innerHTML"];function Ze(t,e,l,u,o,s){const _=r("v-icon"),p=r("v-spacer"),v=r("v-chip"),g=r("v-btn"),w=r("v-card-title"),k=r("v-img"),A=r("v-card-text"),y=r("v-divider"),x=r("v-checkbox"),U=r("v-card-actions"),E=r("v-card"),C=r("v-dialog");return c(),h(C,{modelValue:o.dialogOpen,"onUpdate:modelValue":e[1]||(e[1]=I=>o.dialogOpen=I),"max-width":s.dialogMaxWidth,persistent:"",scrollable:"",class:"announcement-dialog"},{default:a(()=>[s.currentAnnouncement?(c(),h(E,{key:0,class:"announcement-dialog-card"},{default:a(()=>[n(w,{class:M(["d-flex align-center pa-4",`bg-${s.getAlertColor(s.currentAnnouncement.type)}`])},{default:a(()=>[n(_,{class:"mr-2",color:"white"},{default:a(()=>[d(m(s.getAnnouncementIcon(s.currentAnnouncement.type)),1)]),_:1}),i("span",Re,m(s.currentAnnouncement.title),1),n(p),o.announcements.length>1?(c(),h(v,{key:0,size:"small",variant:"flat",color:"white",class:"mr-2"},{default:a(()=>[d(m(o.currentAnnouncementIndex+1)+" / "+m(o.announcements.length),1)]),_:1})):b("",!0),n(g,{icon:"mdi-close",variant:"text",color:"white",size:"small",onClick:s.closeDialog},null,8,["onClick"])]),_:1},8,["class"]),n(A,{class:"pa-4 pa-md-6 announcement-content"},{default:a(()=>[s.resolvedImageUrl?(c(),f("div",qe,[n(k,{src:s.resolvedImageUrl,alt:s.currentAnnouncement.title,"max-height":s.imageMaxHeight,contain:"",class:"rounded-lg announcement-image",onError:s.handleImageError},null,8,["src","alt","max-height","onError"])])):b("",!0),s.resolvedVideoUrl?(c(),f("div",je,[s.isYouTubeUrl(s.resolvedVideoUrl)&&s.youtubeEmbedUrl?(c(),f("div",Ge,[i("iframe",{src:s.youtubeEmbedUrl,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"",class:"youtube-iframe rounded-lg"},null,8,Pe)])):s.isYouTubeUrl(s.resolvedVideoUrl)?b("",!0):(c(),f("video",{key:1,controls:"",class:"w-100 rounded-lg announcement-video",style:R({maxHeight:s.imageMaxHeight+"px"})},[i("source",{src:s.resolvedVideoUrl,type:"video/mp4"},null,8,Ke),i("source",{src:s.resolvedVideoUrl,type:"video/webm"},null,8,Qe),e[2]||(e[2]=d(" Your browser does not support the video tag. "))],4))])):b("",!0),s.currentAnnouncement.short_description?(c(),f("div",Je,m(s.currentAnnouncement.short_description),1)):b("",!0),s.currentAnnouncement.content?(c(),f("div",{key:3,class:"text-body-2 mb-4 announcement-content-html",innerHTML:s.currentAnnouncement.content},null,8,Xe)):b("",!0),n(v,{size:"small",color:s.getAlertColor(s.currentAnnouncement.type),class:"mb-2"},{default:a(()=>[d(m(s.getAnnouncementTypeLabel(s.currentAnnouncement.type)),1)]),_:1},8,["color"])]),_:1}),n(y),n(U,{class:"pa-4"},{default:a(()=>[n(x,{modelValue:o.dontShowAgain,"onUpdate:modelValue":e[0]||(e[0]=I=>o.dontShowAgain=I),label:"Don't show again",density:"compact","hide-details":"",class:"mr-auto"},null,8,["modelValue"]),n(p),o.announcements.length>1&&o.currentAnnouncementIndex<o.announcements.length-1?(c(),h(g,{key:0,variant:"text",onClick:s.nextAnnouncement},{default:a(()=>[e[4]||(e[4]=d(" Next ")),n(_,{right:""},{default:a(()=>e[3]||(e[3]=[d("mdi-arrow-right")])),_:1,__:[3]})]),_:1,__:[4]},8,["onClick"])):b("",!0),n(g,{variant:"text",onClick:s.closeDialog},{default:a(()=>[d(m(o.announcements.length>1&&o.currentAnnouncementIndex<o.announcements.length-1?"Skip All":"Close"),1)]),_:1},8,["onClick"]),s.currentAnnouncement.external_link?(c(),h(g,{key:1,href:s.currentAnnouncement.external_link,target:s.currentAnnouncement.open_in_new_tab?"_blank":"_self",color:"primary",variant:"flat",onClick:s.closeDialog},{default:a(()=>[e[6]||(e[6]=d(" Learn More ")),n(_,{right:""},{default:a(()=>e[5]||(e[5]=[d("mdi-arrow-right")])),_:1,__:[5]})]),_:1,__:[6]},8,["href","target","onClick"])):b("",!0)]),_:1})]),_:1})):b("",!0)]),_:1},8,["modelValue","max-width"])}const $e=T(Ye,[["render",Ze],["__scopeId","data-v-e162c9d8"]]),et={name:"PublicLayout",components:{AppBar:ee,MobileDrawer:ce,Footer:Ve,WhatsAppFloat:Ne,GoToTopButton:He,AnnouncementsBanner:$e},data(){return{drawer:!1,isScrolled:!1,siteName:"Micro Control Technology",siteTagline:"TECHNOLOGY",footerDescription:"Leading provider of technical power support solutions. We ensure your business stays powered with reliable UPS systems, backup generators, and professional maintenance.",newsletterDescription:"Subscribe to get the latest power tips and updates.",brandingLogo:null,settings:{site_name:"",site_tagline:"",contact_email:"",contact_phone:"",address:"",facebook_url:"",twitter_url:"",linkedin_url:"",instagram_url:"",whatsapp_number:""},menuItems:[{id:1,label:"Home",url:"/"},{id:2,label:"Services",url:"/services"},{id:3,label:"Products",url:"/products"},{id:4,label:"Blog",url:"/blog"},{id:5,label:"Careers",url:"/careers"},{id:6,label:"About Us",url:"/about"},{id:7,label:"Contact",url:"/contact"}]}},async mounted(){await this.loadSettings(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{async loadSettings(){try{const e=(await this.$axios.get("/api/openapi/settings")).data;Object.keys(this.settings).forEach(l=>{e[l]!==void 0&&e[l]!==null&&(this.settings[l]=e[l])}),e.site_name&&(this.siteName=e.site_name),e.site_tagline&&(this.siteTagline=e.site_tagline),e.footer_description?this.footerDescription=e.footer_description:e.about_description&&(this.footerDescription=e.about_description),e.newsletter_description&&(this.newsletterDescription=e.newsletter_description)}catch(t){console.error("Error loading settings:",t)}await this.loadBrandingSettings()},async loadBrandingSettings(){try{const t=await this.$axios.get("/api/openapi/settings?group=branding");t.data&&t.data.logo&&(this.brandingLogo=t.data.logo)}catch(t){console.error("Error loading branding settings:",t)}},handleScroll(){this.isScrolled=window.scrollY>20}}};function tt(t,e,l,u,o,s){const _=r("AppBar"),p=r("MobileDrawer"),v=r("AnnouncementsBanner"),g=r("router-view"),w=r("v-main"),k=r("Footer"),A=r("WhatsAppFloat"),y=r("GoToTopButton"),x=r("v-app");return c(),h(x,null,{default:a(()=>[n(_,{"is-scrolled":o.isScrolled,"site-name":o.siteName,"site-tagline":o.siteTagline,"menu-items":o.menuItems,logo:o.brandingLogo,onToggleDrawer:e[0]||(e[0]=U=>o.drawer=!o.drawer)},null,8,["is-scrolled","site-name","site-tagline","menu-items","logo"]),n(p,{modelValue:o.drawer,"onUpdate:modelValue":e[1]||(e[1]=U=>o.drawer=U),"site-name":o.siteName,"menu-items":o.menuItems,logo:o.brandingLogo},null,8,["modelValue","site-name","menu-items","logo"]),n(w,{class:"bg-grey-lighten-5"},{default:a(()=>[n(v),n(g)]),_:1}),n(k,{"site-name":o.siteName,"footer-description":o.footerDescription,"menu-items":o.menuItems,settings:o.settings,logo:o.brandingLogo,"newsletter-description":o.newsletterDescription},null,8,["site-name","footer-description","menu-items","settings","logo","newsletter-description"]),n(A),n(y)]),_:1})}const ot=T(et,[["render",tt],["__scopeId","data-v-7fbd4fbe"]]);export{ot as default};
